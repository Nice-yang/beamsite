{"version":3,"sources":["static/imgs/no-model.png","static/imgs/bim-bg.png","static/imgs/toolbar-bg.png","static/ztree/js/jquery.ztree.all.js","static/imgs/tip-pop.png","static/imgs/icon-error.png","static/imgs/icon-warning.png","components/pages/bimModel/style.js","components/pages/bimModel/noBimPage.js","components/pages/bimModel/threeView.js","components/pages/bimModel/bimModel.js"],"names":["module","exports","$","settings","roots","caches","_consts","className","BUTTON","LEVEL","ICO_LOADING","SWITCH","NAME","event","NODECREATED","CLICK","EXPAND","COLLAPSE","ASYNC_SUCCESS","ASYNC_ERROR","REMOVE","SELECTED","UNSELECTED","id","A","ICON","SPAN","UL","line","ROOT","ROOTS","CENTER","BOTTOM","NOLINE","LINE","folder","OPEN","CLOSE","DOCU","node","CURSELECTED","_setting","treeId","treeObj","view","addDiyDom","autoCancelSelected","dblClickExpand","expandSpeed","fontCss","nameIsHTML","selectedMulti","showIcon","showLine","showTitle","txtSelectedEnable","data","key","children","name","title","url","icon","simpleData","enable","idKey","pIdKey","rootPId","keep","parent","leaf","async","contentType","type","dataType","autoParam","otherParam","dataFilter","callback","beforeAsync","beforeClick","beforeDblClick","beforeRightClick","beforeMouseDown","beforeMouseUp","beforeExpand","beforeCollapse","beforeRemove","onAsyncError","onAsyncSuccess","onNodeCreated","onClick","onDblClick","onRightClick","onMouseDown","onMouseUp","onExpand","onCollapse","onRemove","_initRoot","setting","r","getRoot","setRoot","expandTriggerFlag","curSelectedList","noSelection","createdNodes","zId","_ver","Date","getTime","_initCache","c","getCache","setCache","nodes","doms","_bindEvent","o","consts","bind","tools","apply","srcEvent","clickFlag","msg","XMLHttpRequest","textStatus","errorThrown","treeNode","onSelected","onUnSelected","_unbindEvent","unbind","_eventProxy","target","getSetting","tId","nodeEventType","treeEventType","nodeEventCallback","treeEventCallback","tmp","eqs","tagName","getAttribute","getNodeMainDom","getMDom","attrName","length","getNodeCache","isParent","handler","onSwitchNode","onClickNode","onZTreeMousedown","onZTreeMouseup","onZTreeDblclick","onZTreeContextmenu","stop","_initNode","level","n","parentNode","isFirstNode","isLastNode","openFlag","childKey","parentTId","open","zAsync","getParentNode","getPreNode","getNextNode","getIndex","getNodeIndex","getPath","getNodePath","isAjaxing","fixPIdKeyValue","_init","proxys","beforeA","afterA","innerBeforeA","innerAfterA","zTreeTools","addNodeCache","getNodeCacheId","substring","lastIndexOf","addAfterA","push","addBeforeA","addInnerAfterA","addInnerBeforeA","addInitBind","bindEvent","addInitUnBind","unbindEvent","addInitCache","initCache","addInitNode","initNode","addInitProxy","initProxy","isFirst","splice","addInitRoot","initRoot","addNodesData","index","params","setNodeLineIcos","concat","addSelectedNode","root","isSelectedNode","addCreatedNode","addZTreeTools","exSetting","s","extend","getAfterA","array","i","j","this","arguments","getBeforeA","getInnerAfterA","getInnerBeforeA","p","l","getNodeByParam","value","getNodeName","path","getNodeTitle","getNodes","getNodesByParam","result","getNodesByParamFuzzy","toLowerCase","indexOf","getNodesByFilter","filter","isSingle","invokeParam","tmpResult","getRoots","getSettings","getZTreeTools","treeTools","preNode","nextNode","removeNodeCache","removeSelectedNode","trigger","cache","setZTreeTools","transformToArrayFormat","isArray","transformTozTreeFormat","sNodes","parentKey","tmpMap","bindTree","eventParam","onSelectStart","css","proxy","unbindTree","doProxy","e","results","proxyResult","uCanDo","switchNode","ctrlKey","metaKey","cancelPreSelectedNode","selectNode","originalEvent","srcElement","nodeName","fun","param","defaultValue","zt","canAsync","clone","obj","str1","str2","arr","Object","prototype","toString","exp","get","ownerDocument","curDom","targetExpr","parentsUntil","isChildOrSelf","dom","parentId","closest","addNodes","newNodes","isSilent","target_switchObj","$$","target_icoObj","target_ulObj","replaceSwitchClass","replaceIcoClass","createNodes","expandCollapseParentNode","appendNodes","initFlag","html","tmpPChild","childHtml","makeDOMNodeMainBefore","makeDOMNodeLine","makeDOMNodeNameBefore","makeDOMNodeIcon","makeDOMNodeNameAfter","makeUlHtml","join","makeDOMNodeMainAfter","appendParentULDom","nObj","ulObj","remove","append","asyncNode","icoObj","attr","tmpParam","pKey","split","spKey","_tmpV","ajax","success","eval","err","error","excludeNode","list","removeClass","createNodeCallback","shift","parentObj","nextObj","zTreeHtml","before","destroy","empty","expandCollapseNode","expandFlag","animateFlag","_callback","switchObj","iconOpen","iconClose","makeNodeIcoStyle","show","slideDown","slideUp","hide","expandCollapseSonNode","treeNodes","selfAnimateSign","nameStr","replace","makeNodeIcoClass","makeNodeLineClass","makeNodeUrl","fontcss","makeNodeFontCss","fontStyle","f","click","makeNodeTarget","icoCss","iconSkin","icoStyle","lineClass","makeNodeLineClassEx","urlKey","content","makeUlLineClass","removeChildNodes","tmp_switchObj","tmp_icoObj","scrollIntoView","scrollIntoViewIfNeeded","focus","blur","setFirstNode","setLastNode","childLength","removeNode","tmp_ulObj","newLast","tmp_first_switchObj","newName","tmpName","undefined","tmpList","removeAttr","addFlag","addClass","setNodeFontCss","aObj","ulLine","setNodeName","text","setNodeTarget","setNodeUrl","fn","zTree","_z","getZTreeObj","init","zSetting","zNodes","document","body","style","maxHeight","parseInt","isNaN","xNewNodes","addCallback","cancelSelectedNode","expandAll","expandNode","sonSign","callbackFlag","showNodeFocus","a","getNodeByTId","getSelectedNodes","reAsyncChildNodes","reloadType","isRoot","refresh","transformTozTreeNodes","simpleNodes","transformToArray","updateNode","checkTypeFlag","jQuery","CHECK","checkbox","STYLE","DEFAULT","DISABLED","FALSE","TRUE","FULL","PART","FOCUS","radio","TYPE_ALL","TYPE_LEVEL","check","autoCheckTrigger","chkStyle","nocheckInherit","chkDisabledInherit","radioType","chkboxType","checked","beforeCheck","onCheck","_handler","onCheckNode","chkDisabled","checkedKey","checkNodeRelation","checkObj","setChkClass","repairParentChkClassWithSelf","onMouseoverCheck","check_Focus","onMouseoutCheck","pNode","checkedList","getRadioCheckedList","Y","setSonNodeCheckBox","N","setParentNodeCheckBox","makeChkClass","fullStyle","halfCheck","check_Child_State","chkName","repairAllChk","nocheck","repairChkClass","makeChkFlag","repairParentChkClass","repairSonChkDisabled","inherit","sNode","repairParentChkDisabled","srcNode","pSign","pNodes","hasDisable","radioCheckedList","getCheckStatus","half","getTreeCheckedNodes","onlyOne","getTreeChangeCheckedNodes","checkedOld","chkFlag","cNode","checkNode","checkAllNodes","getCheckedNodes","getChangeCheckedNodes","setChkDisabled","disabled","inheritParent","inheritChildren","_updateNode","_createNodes","_removeNode","_appendNodes","DRAG","DROP","RENAME","DRAGMOVE","EDIT","INPUT","move","TYPE_INNER","TYPE_PREV","TYPE_NEXT","CURSELECTED_EDIT","TMPTARGET_TREE","TMPTARGET_NODE","onHoverOverNode","curHoverNode","onHoverOutNode","addHoverDom","removeTreeDom","onMousedownNode","eventMouseDown","_node","button","edit","drag","isCopy","isMove","_nodes","editNameFlag","editNodeBlur","cancelCurEditNode","curNode","tmpArrow","tmpTarget","doc","isOtherTree","targetSetting","sourceSetting","preTmpTargetNodeId","preTmpMoveType","tmpTargetNodeId","moveType","mouseDownX","clientX","mouseDownY","clientY","startTime","_docMouseMove","dragFlag","Math","abs","minMoveSize","tmpNode","tmpDom","tmpNodes","beforeDrag","_docMouseUp","dragNodeShowBefore","showHoverDom","showIfameMask","isOrder","lastIndex","maxShowNodeNum","appendTo","scrollLeft","offset","left","xT","parents","docScrollTop","scrollTop","docScrollLeft","treeOffset","scrollHeight","scrollWidth","dTop","top","dBottom","height","dLeft","dRight","width","isTop","borderMax","borderMin","isBottom","isLeft","isRight","isTreeInner","isTreeTop","isTreeBottom","isTreeLeft","isTreeRight","targetObj","canMove","find","dX","dY","tmpTargetNode","isPrev","isNext","isInner","canPrev","prev","canNext","next","canInner","inner","clearMove","window","zTreeMoveTimer","clearTimeout","zTreeMoveTargetNodeTId","tmpTargetA","tmpNextA","tmpTop","tmpLeft","prevPercent","nextPercent","dY_percent","startTimer","setTimeout","autoOpenTime","beforeDragOpen","autoExpandTrigger","_docSelect","dragTargetNode","beforeDrop","selectNodes","dropCallback","moveNode","preventDefault","getAbs","oRect","getBoundingClientRect","documentElement","inputFocus","inputObj","setCursorPosition","val","inputSelect","select","pos","setSelectionRange","createTextRange","range","collapse","moveEnd","moveStart","showSign","dragMaskList","iframeList","dragMask","offsetWidth","offsetHeight","addEditBtn","showRenameBtn","editStr","renameTitle","beforeEditName","editNode","addRemoveBtn","showRemoveBtn","removeStr","removeTitle","isHover","forceName","isCancel","nameKey","curEditNode","curEditInput","beforeRename","editNameSelectAll","keyCode","targetNode","oldParentNode","targetNodeIsRoot","targetParentNode","ulstr","nodeDom","after","tmpSrcIndex","tmpTargetIndex","oldNeighbor","newNeighbor","oldLevel","Array","setSonNodeLevel","repairNodeLevelClass","removeEditBtn","removeRemoveBtn","removeHoverDom","liObj","oldClass","newClass","onDrag","onDragMove","onDrop","onRename","relatedTarget","rs","cancelEditName","copyNode","_this","newNode","copyCallback","editName","moveCallback","setEditable","editable","_cancelPreSelectedNode","_makeNodeUrl","_selectNode","_uCanDo","BimModel","styled","div","noModel","bimBg","toolbar","NoBimPage","switchModel","props","switchModels","display","PureComponent","Motor","Config","serverUrl","MOTOR_SERVERURL_CONFIG","clippingPlaneEditor","project","viewer","markers","zTreeObj","TreeNode","size","initDrawerStats","visibleModal","visibleFilter","visibleTree","visibleRing","visibleHandel","visibleFloor","initSwitch","xAxis","yAxis","zAxis","xyzAxis","defaultCheckedKeys","rootTreeNodes","waringTitle","productionStateStatisticsList","pendingProductionStatisticsList","delayProductionStatisticsList","totalColorList","filterSetting","color","setVisiblityFromTree","Project","getChildNodesFromTree","dynamicloadNodes","then","reSetNodes","forEach","rootnode","rendImage","context","bgImg","Image","setAttribute","convertImageToCanvas","image","status","canvas","createElement","getContext","drawImage","font","fillStyle","maxWidth","fillText","options","allRow","ceil","ctx","measureText","word","count","maxLine","endPos","nowStr","slice","rowWid","m","x","y","dealWords","fontSize","src","toDataURL","convertCanvasToImage","ThreeView","state","treeValue","bimTreeData","autoExpandParent","expandedKeys","checkedKeys","selectedKeys","reverse","loading","romaList","compAttrList","statusAndWaring","filterTreeData","filterCheckDisable","keyMode","currentBimInfos","projectId","motor3dId","romaValue","filterPageComp","filterCompParams","pageSize","ppid","pageIndex","isRefBeam","plainOptions","link","unlink","linkComponent","linkList","unlinkList","markerTooltips","position","getDeptInfo","code","hasOwnProperty","deptId","deptName","getListDeptNode","directlyPpidList","noDirectlyPpidList","keys","map","nodeId","pId","nodeType","projTypeStr","projectName","deptUnitList","setState","treeNodeFilter","inputValue","console","log","putBeatBim","Promise","reslove","reject","handleBimSwitchOk","initBimProject","getBimCompAttr","getPageComp","resolve","getStaticisticsBodyStatus","self","normal","staticComponentList","showDrawer","deselectAllComponents","navigationMode","NavigationMode","NAV_FREE_MOUSE","isDestroyed","removeAll","resetComponentsDefaultColorByOption","key1","colorList","handles","val2","key2","bimGuid","setComponentsColorByOption","Color","fromCssColorString","markerComponent","onHandelChange","label","extra","triggerNode","onClose","bimView","dataRef","isChecked","siteList","checkedNodes","onSelect","info","renderTreeNodes","item","filterCompFormat","arrList","hl","filterTreeList","isRef","isBreack","data1","onCheckChange","checkedEvent","setComponentsVisibilityByOption","filterTreeStructure","pid","handleFilterChange","deepTraversa","nodeList","onExpandNode","stauts","onExpandAll","flat","onExpandClose","selectComponent","stopPropagation","selectComponentsByOption","componentList","selectMarkers","deSelectComponent","tabCallback","renderCompAttr","groupName","attrList","subItem","subIndex","changeClippingPlaneEditor","axis","ClippingPlaneEditor","currentTarget","currentAxis","toLocaleLowerCase","currentObj","addClippingPlane","handelRomaChange","NAV_FREE_KEY","onSliderChange","roamEditor","movementSpeed","onRomaPopover","onPopoverHide","markerList","markerInfosArr","queryComponentsByBIMGuid","components","Cartographic","fromCartesian","val1","cartographicRadians","longitude","latitude","pixelOffset","cartesian2","billboard","tipImage","tipIconWarning","tipIcon","verticalOrigin","horizontalOrigin","sizeInMeters","scale","disableDepthTestDistance","Number","POSITIVE_INFINITY","add","currentBimInfo","Viewer","container","threeViewContainer","viewerMode","ViewerMode","BIM","access_token","token","antialias","backgroundColor","initialize","queryProject","enableMarquee","MarkerCollection","currentComponent","getElementById","message","getTreeStructure","addMouseEventListener","MouseEventType","MOUSE_MOVE","mouse","startPosition","pick","MarkerView","LEFT_CLICK","Component","getProperties","handle","floor","deselect","LEFT_DOUBLE_CLICK","flyTo","selectBimInfo","formItemLayout","labelCol","xs","span","sm","wrapperCol","spinning","tip","alt","ref","element","Group","placement","float","overlayClassName","arrowPointAtCenter","autoAdjustOverflow","visible","onVisibleChange","onPopoverChange","onChange","Option","paddingTop","min","max","step","onAfterChange","checkedChildren","unCheckedChildren","closable","mask","Item","showSearch","treeDataSimpleMode","dropdownClassName","dropdownStyle","minWidth","overflow","placeholder","filterTreeNode","allowClear","treeDefaultExpandAll","getPopupContainer","treeData","checkable","defaultExpandAll","switcherIcon","bottom","marginLeft","marginRight","marginBottom","defaultActiveKey","TabPane","tab","number","background","motorToken","bimModel","bimVisible","init3dView","siteSwitchVisible","selectBimProject","currentTreeNode","getMotorToken","bimSwitchVisible","handleBimSwitchCancel","switchSiteModal","handleSiteSwitchOk","renderSiteItem","removeSiteItem","siteListCopy","_","cloneDeep","handleSiteSwitchCancel","bimProject","maskClosable","onOk","onCancel","onSubmit"],"mappings":"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","file":"static/js/20.edac6362.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/no-model.11c177b1.png\";","module.exports = __webpack_public_path__ + \"static/media/bim-bg.8eafd327.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAkUAAABKCAYAAAC1tyA9AAAFQUlEQVR4nO3d0Wob2R3H8Z8s2XHWVSiGBOpcddM+QNTbPELeItd9u971Mux1/AB1KQRaKIVSOY1tyZL2YuZIZ8bKLiyxohWfDxwyVsZCvvvyPzOjwbt377LFYMvxttcAAPbRasvxttfWRr2f6wAq66j38yDbQwkA4FurA6i/ltVx//xOFPVDqKxhu+rX+nEEALAP+hFU1qJd9WudCVKJon4MlRA6bs+pVx1H5XcBAL61Ejl1+Nz31jwPAylJVv1J0VE28XPSrifV8XG6kyPTIgBgX9QTohI+8ySzdt2laZhZmn65r34no3SnRMP2tSdJTpM8rdZpNmE0as8VRQDAviiBs8hmKjRLcpvkplqD3vkPts9KFJ2kCaCzJL+5urr6/sOHD2+vr6//sFwuT3bxFwEAfA1HR0ez8Xj8t9evX//l1atXf8/m8p/+NUer4WQyqbfNyoToLMn46urqj+/fv//zzc3N71ar1XD3fwoAwC+3Wq2Gd3d3zz9+/Pin8Xh8dX5+/imb7bX631W5Lqi/dfY0yfjy8vLtYrE4/SZ/BQDAV7JYLE4vLy/fJhmn6Zwn2VwOdJRkUN9BVqLopD35bDqd/n7nnxoA4BFMp9Pv0+yGPU33BrJB0r2DrGyhlWuKvnMNEQBwKJbL5XGS77K5eaxzN309KSpRdJzNtAgA4JDUU6Ly/MX1pCh5+ODGEkYAAIekPHux/raOB9tn/Quuj7/FJwUAeERfehD1evss2f41HwAAh6T/na7rh1DX22eD3nEdTAAAh6D/NWXr4374DHonAgAcmq2981PTIGEEAByaL/aNLTIAgIgiAIAkoggAIIkoAgBIIooAAJKIIgCAJKIIACCJKAIASCKKAACSiCIAgCSiCAAgiSgCAEgiigAAkogiAIAkoggAIIkoAgBIIooAAJKIIgCAJKIIACCJKAIASCKKAACSiCIAgCSiCAAgiSgCAEgiigAAkogiAIAkoggAIIkoAgBIIooAAJKIIgCAJKIIACCJKAIASCKKAACSiCIAgCSiCAAgiSgCAEgiigAAkogiAIAkoggAIMlPR9FqZ58CAGA3vtg3/ShaVQsA4BBt7Z2j3n/Wx8udfTQAgN1YZnv3dCZFJYSWSRbtAgA4JKVxSvOsp0VH6Y6Q6iCa7/xjAgA8rnm6YbTuoHr7rJ4SzZLMhsPh/e4/KwDA19d2zaxdD6ZF/Si6T1NQsyQ35+fn/9z1BwYAeAxt19yk6Zx5mu7pRFF/62yW5DbJ58lk8sNoNLKNBgD8qo1Go/lkMvkhyec0nVNPi1ZJVsPJZDJIE0dlDds1evbs2ezFixf/nk6nv729vT1brVYe9ggA/GoMh8PF8+fP//XmzZu/vnz58h9J/pfkU7bE0SjdKdF9krs0o6XrJMOLi4uri4uL/yQZJzlLcprkJMkonogNAOyXcjlQ2fn6f5qmmSb5b3v8OU3v3KeaFo3aNyhhNE8zJbrJJngW7ZteJ3maJoiO2/PKOYNH+9MAAH5eubW+DHrW10iniaASR5+yua6oc01RP4rKNUWD6o3n7S+XCdFJNltsgwgiAGA/lOukyy335U6z23Z9TtM0ZdvsQRT1y2pQvXEprdt0J0RlSiSKAIB98aXnLpY4uquOO1tnqbbPku5t+fUbzrOJoXIdUVmJKAIA9kM96CmrxE+5BX/bwxuTdLfPku6THUsUDdMUVR1Dg5gSAQD7p/9NHf2vMKtf63wxbH9SlN4bDbLZUuuvRBQBAPul3zP9SOqEULZMivpvVB8v23/rABJDAMA+29Y0215b+xF9I5mFP3xBewAAAABJRU5ErkJggg==\"","\n/*\n * JQuery zTree core v3.5.23\n * http://zTree.me/\n *\n * Copyright (c) 2010 Hunter.z\n *\n * Licensed same as jquery - MIT License\n * http://www.opensource.org/licenses/mit-license.php\n *\n * email: hunter.z@263.net\n * Date: 2016-04-01\n */\n(function($){\n\tvar settings = {}, roots = {}, caches = {},\n\t//default consts of core\n\t_consts = {\n\t\tclassName: {\n\t\t\tBUTTON: \"button\",\n\t\t\tLEVEL: \"level\",\n\t\t\tICO_LOADING: \"ico_loading\",\n\t\t\tSWITCH: \"switch\",\n\t\t\tNAME: 'node_name'\n\t\t},\n\t\tevent: {\n\t\t\tNODECREATED: \"ztree_nodeCreated\",\n\t\t\tCLICK: \"ztree_click\",\n\t\t\tEXPAND: \"ztree_expand\",\n\t\t\tCOLLAPSE: \"ztree_collapse\",\n\t\t\tASYNC_SUCCESS: \"ztree_async_success\",\n\t\t\tASYNC_ERROR: \"ztree_async_error\",\n\t\t\tREMOVE: \"ztree_remove\",\n\t\t\tSELECTED: \"ztree_selected\",\n\t\t\tUNSELECTED: \"ztree_unselected\"\n\t\t},\n\t\tid: {\n\t\t\tA: \"_a\",\n\t\t\tICON: \"_ico\",\n\t\t\tSPAN: \"_span\",\n\t\t\tSWITCH: \"_switch\",\n\t\t\tUL: \"_ul\"\n\t\t},\n\t\tline: {\n\t\t\tROOT: \"root\",\n\t\t\tROOTS: \"roots\",\n\t\t\tCENTER: \"center\",\n\t\t\tBOTTOM: \"bottom\",\n\t\t\tNOLINE: \"noline\",\n\t\t\tLINE: \"line\"\n\t\t},\n\t\tfolder: {\n\t\t\tOPEN: \"open\",\n\t\t\tCLOSE: \"close\",\n\t\t\tDOCU: \"docu\"\n\t\t},\n\t\tnode: {\n\t\t\tCURSELECTED: \"curSelectedNode\"\n\t\t}\n\t},\n\t//default setting of core\n\t_setting = {\n\t\ttreeId: \"\",\n\t\ttreeObj: null,\n\t\tview: {\n\t\t\taddDiyDom: null,\n\t\t\tautoCancelSelected: true,\n\t\t\tdblClickExpand: true,\n\t\t\texpandSpeed: \"fast\",\n\t\t\tfontCss: {},\n\t\t\tnameIsHTML: false,\n\t\t\tselectedMulti: true,\n\t\t\tshowIcon: true,\n\t\t\tshowLine: true,\n\t\t\tshowTitle: true,\n\t\t\ttxtSelectedEnable: false\n\t\t},\n\t\tdata: {\n\t\t\tkey: {\n\t\t\t\tchildren: \"children\",\n\t\t\t\tname: \"name\",\n\t\t\t\ttitle: \"\",\n\t\t\t\turl: \"url\",\n\t\t\t\ticon: \"icon\"\n\t\t\t},\n\t\t\tsimpleData: {\n\t\t\t\tenable: false,\n\t\t\t\tidKey: \"id\",\n\t\t\t\tpIdKey: \"pId\",\n\t\t\t\trootPId: null\n\t\t\t},\n\t\t\tkeep: {\n\t\t\t\tparent: false,\n\t\t\t\tleaf: false\n\t\t\t}\n\t\t},\n\t\tasync: {\n\t\t\tenable: false,\n\t\t\tcontentType: \"application/x-www-form-urlencoded\",\n\t\t\ttype: \"post\",\n\t\t\tdataType: \"text\",\n\t\t\turl: \"\",\n\t\t\tautoParam: [],\n\t\t\totherParam: [],\n\t\t\tdataFilter: null\n\t\t},\n\t\tcallback: {\n\t\t\tbeforeAsync:null,\n\t\t\tbeforeClick:null,\n\t\t\tbeforeDblClick:null,\n\t\t\tbeforeRightClick:null,\n\t\t\tbeforeMouseDown:null,\n\t\t\tbeforeMouseUp:null,\n\t\t\tbeforeExpand:null,\n\t\t\tbeforeCollapse:null,\n\t\t\tbeforeRemove:null,\n\n\t\t\tonAsyncError:null,\n\t\t\tonAsyncSuccess:null,\n\t\t\tonNodeCreated:null,\n\t\t\tonClick:null,\n\t\t\tonDblClick:null,\n\t\t\tonRightClick:null,\n\t\t\tonMouseDown:null,\n\t\t\tonMouseUp:null,\n\t\t\tonExpand:null,\n\t\t\tonCollapse:null,\n\t\t\tonRemove:null\n\t\t}\n\t},\n\t//default root of core\n\t//zTree use root to save full data\n\t_initRoot = function (setting) {\n\t\tvar r = data.getRoot(setting);\n\t\tif (!r) {\n\t\t\tr = {};\n\t\t\tdata.setRoot(setting, r);\n\t\t}\n\t\tr[setting.data.key.children] = [];\n\t\tr.expandTriggerFlag = false;\n\t\tr.curSelectedList = [];\n\t\tr.noSelection = true;\n\t\tr.createdNodes = [];\n\t\tr.zId = 0;\n\t\tr._ver = (new Date()).getTime();\n\t},\n\t//default cache of core\n\t_initCache = function(setting) {\n\t\tvar c = data.getCache(setting);\n\t\tif (!c) {\n\t\t\tc = {};\n\t\t\tdata.setCache(setting, c);\n\t\t}\n\t\tc.nodes = [];\n\t\tc.doms = [];\n\t},\n\t//default bindEvent of core\n\t_bindEvent = function(setting) {\n\t\tvar o = setting.treeObj,\n\t\tc = consts.event;\n\t\to.bind(c.NODECREATED, function (event, treeId, node) {\n\t\t\ttools.apply(setting.callback.onNodeCreated, [event, treeId, node]);\n\t\t});\n\n\t\to.bind(c.CLICK, function (event, srcEvent, treeId, node, clickFlag) {\n\t\t\ttools.apply(setting.callback.onClick, [srcEvent, treeId, node, clickFlag]);\n\t\t});\n\n\t\to.bind(c.EXPAND, function (event, treeId, node) {\n\t\t\ttools.apply(setting.callback.onExpand, [event, treeId, node]);\n\t\t});\n\n\t\to.bind(c.COLLAPSE, function (event, treeId, node) {\n\t\t\ttools.apply(setting.callback.onCollapse, [event, treeId, node]);\n\t\t});\n\n\t\to.bind(c.ASYNC_SUCCESS, function (event, treeId, node, msg) {\n\t\t\ttools.apply(setting.callback.onAsyncSuccess, [event, treeId, node, msg]);\n\t\t});\n\n\t\to.bind(c.ASYNC_ERROR, function (event, treeId, node, XMLHttpRequest, textStatus, errorThrown) {\n\t\t\ttools.apply(setting.callback.onAsyncError, [event, treeId, node, XMLHttpRequest, textStatus, errorThrown]);\n\t\t});\n\n\t\to.bind(c.REMOVE, function (event, treeId, treeNode) {\n\t\t\ttools.apply(setting.callback.onRemove, [event, treeId, treeNode]);\n\t\t});\n\n\t\to.bind(c.SELECTED, function (event, treeId, node) {\n\t\t\ttools.apply(setting.callback.onSelected, [treeId, node]);\n\t\t});\n\t\to.bind(c.UNSELECTED, function (event, treeId, node) {\n\t\t\ttools.apply(setting.callback.onUnSelected, [treeId, node]);\n\t\t});\n\t},\n\t_unbindEvent = function(setting) {\n\t\tvar o = setting.treeObj,\n\t\tc = consts.event;\n\t\to.unbind(c.NODECREATED)\n\t\t.unbind(c.CLICK)\n\t\t.unbind(c.EXPAND)\n\t\t.unbind(c.COLLAPSE)\n\t\t.unbind(c.ASYNC_SUCCESS)\n\t\t.unbind(c.ASYNC_ERROR)\n\t\t.unbind(c.REMOVE)\n\t\t.unbind(c.SELECTED)\n\t\t.unbind(c.UNSELECTED);\n\t},\n\t//default event proxy of core\n\t_eventProxy = function(event) {\n\t\tvar target = event.target,\n\t\tsetting = data.getSetting(event.data.treeId),\n\t\ttId = \"\", node = null,\n\t\tnodeEventType = \"\", treeEventType = \"\",\n\t\tnodeEventCallback = null, treeEventCallback = null,\n\t\ttmp = null;\n\n\t\tif (tools.eqs(event.type, \"mousedown\")) {\n\t\t\ttreeEventType = \"mousedown\";\n\t\t} else if (tools.eqs(event.type, \"mouseup\")) {\n\t\t\ttreeEventType = \"mouseup\";\n\t\t} else if (tools.eqs(event.type, \"contextmenu\")) {\n\t\t\ttreeEventType = \"contextmenu\";\n\t\t} else if (tools.eqs(event.type, \"click\")) {\n\t\t\tif (tools.eqs(target.tagName, \"span\") && target.getAttribute(\"treeNode\"+ consts.id.SWITCH) !== null) {\n\t\t\t\ttId = tools.getNodeMainDom(target).id;\n\t\t\t\tnodeEventType = \"switchNode\";\n\t\t\t} else {\n\t\t\t\ttmp = tools.getMDom(setting, target, [{tagName:\"a\", attrName:\"treeNode\"+consts.id.A}]);\n\t\t\t\tif (tmp) {\n\t\t\t\t\ttId = tools.getNodeMainDom(tmp).id;\n\t\t\t\t\tnodeEventType = \"clickNode\";\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (tools.eqs(event.type, \"dblclick\")) {\n\t\t\ttreeEventType = \"dblclick\";\n\t\t\ttmp = tools.getMDom(setting, target, [{tagName:\"a\", attrName:\"treeNode\"+consts.id.A}]);\n\t\t\tif (tmp) {\n\t\t\t\ttId = tools.getNodeMainDom(tmp).id;\n\t\t\t\tnodeEventType = \"switchNode\";\n\t\t\t}\n\t\t}\n\t\tif (treeEventType.length > 0 && tId.length == 0) {\n\t\t\ttmp = tools.getMDom(setting, target, [{tagName:\"a\", attrName:\"treeNode\"+consts.id.A}]);\n\t\t\tif (tmp) {tId = tools.getNodeMainDom(tmp).id;}\n\t\t}\n\t\t// event to node\n\t\tif (tId.length>0) {\n\t\t\tnode = data.getNodeCache(setting, tId);\n\t\t\tswitch (nodeEventType) {\n\t\t\t\tcase \"switchNode\" :\n\t\t\t\t\tif (!node.isParent) {\n\t\t\t\t\t\tnodeEventType = \"\";\n\t\t\t\t\t} else if (tools.eqs(event.type, \"click\")\n\t\t\t\t\t\t|| (tools.eqs(event.type, \"dblclick\") && tools.apply(setting.view.dblClickExpand, [setting.treeId, node], setting.view.dblClickExpand))) {\n\t\t\t\t\t\tnodeEventCallback = handler.onSwitchNode;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnodeEventType = \"\";\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"clickNode\" :\n\t\t\t\t\tnodeEventCallback = handler.onClickNode;\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\t// event to zTree\n\t\tswitch (treeEventType) {\n\t\t\tcase \"mousedown\" :\n\t\t\t\ttreeEventCallback = handler.onZTreeMousedown;\n\t\t\t\tbreak;\n\t\t\tcase \"mouseup\" :\n\t\t\t\ttreeEventCallback = handler.onZTreeMouseup;\n\t\t\t\tbreak;\n\t\t\tcase \"dblclick\" :\n\t\t\t\ttreeEventCallback = handler.onZTreeDblclick;\n\t\t\t\tbreak;\n\t\t\tcase \"contextmenu\" :\n\t\t\t\ttreeEventCallback = handler.onZTreeContextmenu;\n\t\t\t\tbreak;\n\t\t}\n\t\tvar proxyResult = {\n\t\t\tstop: false,\n\t\t\tnode: node,\n\t\t\tnodeEventType: nodeEventType,\n\t\t\tnodeEventCallback: nodeEventCallback,\n\t\t\ttreeEventType: treeEventType,\n\t\t\ttreeEventCallback: treeEventCallback\n\t\t};\n\t\treturn proxyResult\n\t},\n\t//default init node of core\n\t_initNode = function(setting, level, n, parentNode, isFirstNode, isLastNode, openFlag) {\n\t\tif (!n) return;\n\t\tvar r = data.getRoot(setting),\n\t\tchildKey = setting.data.key.children;\n\t\tn.level = level;\n\t\tn.tId = setting.treeId + \"_\" + (++r.zId);\n\t\tn.parentTId = parentNode ? parentNode.tId : null;\n\t\tn.open = (typeof n.open == \"string\") ? tools.eqs(n.open, \"true\") : !!n.open;\n\t\tif (n[childKey] && n[childKey].length > 0) {\n\t\t\tn.isParent = true;\n\t\t\tn.zAsync = true;\n\t\t} else {\n\t\t\tn.isParent = (typeof n.isParent == \"string\") ? tools.eqs(n.isParent, \"true\") : !!n.isParent;\n\t\t\tn.open = (n.isParent && !setting.async.enable) ? n.open : false;\n\t\t\tn.zAsync = !n.isParent;\n\t\t}\n\t\tn.isFirstNode = isFirstNode;\n\t\tn.isLastNode = isLastNode;\n\t\tn.getParentNode = function() {return data.getNodeCache(setting, n.parentTId);};\n\t\tn.getPreNode = function() {return data.getPreNode(setting, n);};\n\t\tn.getNextNode = function() {return data.getNextNode(setting, n);};\n\t\tn.getIndex = function() {return data.getNodeIndex(setting, n);};\n\t\tn.getPath = function() {return data.getNodePath(setting, n);};\n\t\tn.isAjaxing = false;\n\t\tdata.fixPIdKeyValue(setting, n);\n\t},\n\t_init = {\n\t\tbind: [_bindEvent],\n\t\tunbind: [_unbindEvent],\n\t\tcaches: [_initCache],\n\t\tnodes: [_initNode],\n\t\tproxys: [_eventProxy],\n\t\troots: [_initRoot],\n\t\tbeforeA: [],\n\t\tafterA: [],\n\t\tinnerBeforeA: [],\n\t\tinnerAfterA: [],\n\t\tzTreeTools: []\n\t},\n\t//method of operate data\n\tdata = {\n\t\taddNodeCache: function(setting, node) {\n\t\t\tdata.getCache(setting).nodes[data.getNodeCacheId(node.tId)] = node;\n\t\t},\n\t\tgetNodeCacheId: function(tId) {\n\t\t\treturn tId.substring(tId.lastIndexOf(\"_\")+1);\n\t\t},\n\t\taddAfterA: function(afterA) {\n\t\t\t_init.afterA.push(afterA);\n\t\t},\n\t\taddBeforeA: function(beforeA) {\n\t\t\t_init.beforeA.push(beforeA);\n\t\t},\n\t\taddInnerAfterA: function(innerAfterA) {\n\t\t\t_init.innerAfterA.push(innerAfterA);\n\t\t},\n\t\taddInnerBeforeA: function(innerBeforeA) {\n\t\t\t_init.innerBeforeA.push(innerBeforeA);\n\t\t},\n\t\taddInitBind: function(bindEvent) {\n\t\t\t_init.bind.push(bindEvent);\n\t\t},\n\t\taddInitUnBind: function(unbindEvent) {\n\t\t\t_init.unbind.push(unbindEvent);\n\t\t},\n\t\taddInitCache: function(initCache) {\n\t\t\t_init.caches.push(initCache);\n\t\t},\n\t\taddInitNode: function(initNode) {\n\t\t\t_init.nodes.push(initNode);\n\t\t},\n\t\taddInitProxy: function(initProxy, isFirst) {\n\t\t\tif (!!isFirst) {\n\t\t\t\t_init.proxys.splice(0,0,initProxy);\n\t\t\t} else {\n\t\t\t\t_init.proxys.push(initProxy);\n\t\t\t}\n\t\t},\n\t\taddInitRoot: function(initRoot) {\n\t\t\t_init.roots.push(initRoot);\n\t\t},\n\t\taddNodesData: function(setting, parentNode, index, nodes) {\n\t\t\tvar childKey = setting.data.key.children, params;\n\t\t\tif (!parentNode[childKey]) {\n\t\t\t\tparentNode[childKey] = [];\n\t\t\t\tindex = -1;\n\t\t\t} else if (index >= parentNode[childKey].length) {\n\t\t\t\tindex = -1;\n\t\t\t}\n\n\t\t\tif (parentNode[childKey].length > 0 && index === 0) {\n\t\t\t\tparentNode[childKey][0].isFirstNode = false;\n\t\t\t\tview.setNodeLineIcos(setting, parentNode[childKey][0]);\n\t\t\t} else if (parentNode[childKey].length > 0 && index < 0) {\n\t\t\t\tparentNode[childKey][parentNode[childKey].length - 1].isLastNode = false;\n\t\t\t\tview.setNodeLineIcos(setting, parentNode[childKey][parentNode[childKey].length - 1]);\n\t\t\t}\n\t\t\tparentNode.isParent = true;\n\n\t\t\tif (index<0) {\n\t\t\t\tparentNode[childKey] = parentNode[childKey].concat(nodes);\n\t\t\t} else {\n\t\t\t\tparams = [index, 0].concat(nodes);\n\t\t\t\tparentNode[childKey].splice.apply(parentNode[childKey], params);\n\t\t\t}\n\t\t},\n\t\taddSelectedNode: function(setting, node) {\n\t\t\tvar root = data.getRoot(setting);\n\t\t\tif (!data.isSelectedNode(setting, node)) {\n\t\t\t\troot.curSelectedList.push(node);\n\t\t\t}\n\t\t},\n\t\taddCreatedNode: function(setting, node) {\n\t\t\tif (!!setting.callback.onNodeCreated || !!setting.view.addDiyDom) {\n\t\t\t\tvar root = data.getRoot(setting);\n\t\t\t\troot.createdNodes.push(node);\n\t\t\t}\n\t\t},\n\t\taddZTreeTools: function(zTreeTools) {\n\t\t\t_init.zTreeTools.push(zTreeTools);\n\t\t},\n\t\texSetting: function(s) {\n\t\t\t$.extend(true, _setting, s);\n\t\t},\n\t\tfixPIdKeyValue: function(setting, node) {\n\t\t\tif (setting.data.simpleData.enable) {\n\t\t\t\tnode[setting.data.simpleData.pIdKey] = node.parentTId ? node.getParentNode()[setting.data.simpleData.idKey] : setting.data.simpleData.rootPId;\n\t\t\t}\n\t\t},\n\t\tgetAfterA: function(setting, node, array) {\n\t\t\tfor (var i=0, j=_init.afterA.length; i<j; i++) {\n\t\t\t\t_init.afterA[i].apply(this, arguments);\n\t\t\t}\n\t\t},\n\t\tgetBeforeA: function(setting, node, array) {\n\t\t\tfor (var i=0, j=_init.beforeA.length; i<j; i++) {\n\t\t\t\t_init.beforeA[i].apply(this, arguments);\n\t\t\t}\n\t\t},\n\t\tgetInnerAfterA: function(setting, node, array) {\n\t\t\tfor (var i=0, j=_init.innerAfterA.length; i<j; i++) {\n\t\t\t\t_init.innerAfterA[i].apply(this, arguments);\n\t\t\t}\n\t\t},\n\t\tgetInnerBeforeA: function(setting, node, array) {\n\t\t\tfor (var i=0, j=_init.innerBeforeA.length; i<j; i++) {\n\t\t\t\t_init.innerBeforeA[i].apply(this, arguments);\n\t\t\t}\n\t\t},\n\t\tgetCache: function(setting) {\n\t\t\treturn caches[setting.treeId];\n\t\t},\n\t\tgetNodeIndex: function(setting, node) {\n\t\t\tif (!node) return null;\n\t\t\tvar childKey = setting.data.key.children,\n\t\t\tp = node.parentTId ? node.getParentNode() : data.getRoot(setting);\n\t\t\tfor (var i=0, l=p[childKey].length-1; i<=l; i++) {\n\t\t\t\tif (p[childKey][i] === node) {\n\t\t\t\t\treturn i;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn -1;\n\t\t},\n\t\tgetNextNode: function(setting, node) {\n\t\t\tif (!node) return null;\n\t\t\tvar childKey = setting.data.key.children,\n\t\t\tp = node.parentTId ? node.getParentNode() : data.getRoot(setting);\n\t\t\tfor (var i=0, l=p[childKey].length-1; i<=l; i++) {\n\t\t\t\tif (p[childKey][i] === node) {\n\t\t\t\t\treturn (i==l ? null : p[childKey][i+1]);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn null;\n\t\t},\n\t\tgetNodeByParam: function(setting, nodes, key, value) {\n\t\t\tif (!nodes || !key) return null;\n\t\t\tvar childKey = setting.data.key.children;\n\t\t\tfor (var i = 0, l = nodes.length; i < l; i++) {\n\t\t\t\tif (nodes[i][key] == value) {\n\t\t\t\t\treturn nodes[i];\n\t\t\t\t}\n\t\t\t\tvar tmp = data.getNodeByParam(setting, nodes[i][childKey], key, value);\n\t\t\t\tif (tmp) return tmp;\n\t\t\t}\n\t\t\treturn null;\n\t\t},\n\t\tgetNodeCache: function(setting, tId) {\n\t\t\tif (!tId) return null;\n\t\t\tvar n = caches[setting.treeId].nodes[data.getNodeCacheId(tId)];\n\t\t\treturn n ? n : null;\n\t\t},\n\t\tgetNodeName: function(setting, node) {\n\t\t\tvar nameKey = setting.data.key.name;\n\t\t\treturn \"\" + node[nameKey];\n\t\t},\n\t\tgetNodePath: function(setting, node) {\n\t\t\tif (!node) return null;\n\n\t\t\tvar path;\n\t\t\tif(node.parentTId) {\n\t\t\t\tpath = node.getParentNode().getPath();\n\t\t\t} else {\n\t\t\t\tpath = [];\n\t\t\t}\n\n\t\t\tif (path) {\n\t\t\t\tpath.push(node);\n\t\t\t}\n\n\t\t\treturn path;\n\t\t},\n\t\tgetNodeTitle: function(setting, node) {\n\t\t\tvar t = setting.data.key.title === \"\" ? setting.data.key.name : setting.data.key.title;\n\t\t\treturn \"\" + node[t];\n\t\t},\n\t\tgetNodes: function(setting) {\n\t\t\treturn data.getRoot(setting)[setting.data.key.children];\n\t\t},\n\t\tgetNodesByParam: function(setting, nodes, key, value) {\n\t\t\tif (!nodes || !key) return [];\n\t\t\tvar childKey = setting.data.key.children,\n\t\t\tresult = [];\n\t\t\tfor (var i = 0, l = nodes.length; i < l; i++) {\n\t\t\t\tif (nodes[i][key] == value) {\n\t\t\t\t\tresult.push(nodes[i]);\n\t\t\t\t}\n\t\t\t\tresult = result.concat(data.getNodesByParam(setting, nodes[i][childKey], key, value));\n\t\t\t}\n\t\t\treturn result;\n\t\t},\n\t\tgetNodesByParamFuzzy: function(setting, nodes, key, value) {\n\t\t\tif (!nodes || !key) return [];\n\t\t\tvar childKey = setting.data.key.children,\n\t\t\tresult = [];\n\t\t\tvalue = value.toLowerCase();\n\t\t\tfor (var i = 0, l = nodes.length; i < l; i++) {\n\t\t\t\tif (typeof nodes[i][key] == \"string\" && nodes[i][key].toLowerCase().indexOf(value)>-1) {\n\t\t\t\t\tresult.push(nodes[i]);\n\t\t\t\t}\n\t\t\t\tresult = result.concat(data.getNodesByParamFuzzy(setting, nodes[i][childKey], key, value));\n\t\t\t}\n\t\t\treturn result;\n\t\t},\n\t\tgetNodesByFilter: function(setting, nodes, filter, isSingle, invokeParam) {\n\t\t\tif (!nodes) return (isSingle ? null : []);\n\t\t\tvar childKey = setting.data.key.children,\n\t\t\tresult = isSingle ? null : [];\n\t\t\tfor (var i = 0, l = nodes.length; i < l; i++) {\n\t\t\t\tif (tools.apply(filter, [nodes[i], invokeParam], false)) {\n\t\t\t\t\tif (isSingle) {return nodes[i];}\n\t\t\t\t\tresult.push(nodes[i]);\n\t\t\t\t}\n\t\t\t\tvar tmpResult = data.getNodesByFilter(setting, nodes[i][childKey], filter, isSingle, invokeParam);\n\t\t\t\tif (isSingle && !!tmpResult) {return tmpResult;}\n\t\t\t\tresult = isSingle ? tmpResult : result.concat(tmpResult);\n\t\t\t}\n\t\t\treturn result;\n\t\t},\n\t\tgetPreNode: function(setting, node) {\n\t\t\tif (!node) return null;\n\t\t\tvar childKey = setting.data.key.children,\n\t\t\tp = node.parentTId ? node.getParentNode() : data.getRoot(setting);\n\t\t\tfor (var i=0, l=p[childKey].length; i<l; i++) {\n\t\t\t\tif (p[childKey][i] === node) {\n\t\t\t\t\treturn (i==0 ? null : p[childKey][i-1]);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn null;\n\t\t},\n\t\tgetRoot: function(setting) {\n\t\t\treturn setting ? roots[setting.treeId] : null;\n\t\t},\n\t\tgetRoots: function() {\n\t\t\treturn roots;\n\t\t},\n\t\tgetSetting: function(treeId) {\n\t\t\treturn settings[treeId];\n\t\t},\n\t\tgetSettings: function() {\n\t\t\treturn settings;\n\t\t},\n\t\tgetZTreeTools: function(treeId) {\n\t\t\tvar r = this.getRoot(this.getSetting(treeId));\n\t\t\treturn r ? r.treeTools : null;\n\t\t},\n\t\tinitCache: function(setting) {\n\t\t\tfor (var i=0, j=_init.caches.length; i<j; i++) {\n\t\t\t\t_init.caches[i].apply(this, arguments);\n\t\t\t}\n\t\t},\n\t\tinitNode: function(setting, level, node, parentNode, preNode, nextNode) {\n\t\t\tfor (var i=0, j=_init.nodes.length; i<j; i++) {\n\t\t\t\t_init.nodes[i].apply(this, arguments);\n\t\t\t}\n\t\t},\n\t\tinitRoot: function(setting) {\n\t\t\tfor (var i=0, j=_init.roots.length; i<j; i++) {\n\t\t\t\t_init.roots[i].apply(this, arguments);\n\t\t\t}\n\t\t},\n\t\tisSelectedNode: function(setting, node) {\n\t\t\tvar root = data.getRoot(setting);\n\t\t\tfor (var i=0, j=root.curSelectedList.length; i<j; i++) {\n\t\t\t\tif(node === root.curSelectedList[i]) return true;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\tremoveNodeCache: function(setting, node) {\n\t\t\tvar childKey = setting.data.key.children;\n\t\t\tif (node[childKey]) {\n\t\t\t\tfor (var i=0, l=node[childKey].length; i<l; i++) {\n\t\t\t\t\tdata.removeNodeCache(setting, node[childKey][i]);\n\t\t\t\t}\n\t\t\t}\n\t\t\tdata.getCache(setting).nodes[data.getNodeCacheId(node.tId)] = null;\n\t\t},\n\t\tremoveSelectedNode: function(setting, node) {\n\t\t\tvar root = data.getRoot(setting);\n\t\t\tfor (var i=0, j=root.curSelectedList.length; i<j; i++) {\n\t\t\t\tif(node === root.curSelectedList[i] || !data.getNodeCache(setting, root.curSelectedList[i].tId)) {\n\t\t\t\t\troot.curSelectedList.splice(i, 1);\n\t\t\t\t\tsetting.treeObj.trigger(consts.event.UNSELECTED, [setting.treeId, node]);\n\t\t\t\t\ti--;j--;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tsetCache: function(setting, cache) {\n\t\t\tcaches[setting.treeId] = cache;\n\t\t},\n\t\tsetRoot: function(setting, root) {\n\t\t\troots[setting.treeId] = root;\n\t\t},\n\t\tsetZTreeTools: function(setting, zTreeTools) {\n\t\t\tfor (var i=0, j=_init.zTreeTools.length; i<j; i++) {\n\t\t\t\t_init.zTreeTools[i].apply(this, arguments);\n\t\t\t}\n\t\t},\n\t\ttransformToArrayFormat: function (setting, nodes) {\n\t\t\tif (!nodes) return [];\n\t\t\tvar childKey = setting.data.key.children,\n\t\t\tr = [];\n\t\t\tif (tools.isArray(nodes)) {\n\t\t\t\tfor (var i=0, l=nodes.length; i<l; i++) {\n\t\t\t\t\tr.push(nodes[i]);\n\t\t\t\t\tif (nodes[i][childKey])\n\t\t\t\t\t\tr = r.concat(data.transformToArrayFormat(setting, nodes[i][childKey]));\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tr.push(nodes);\n\t\t\t\tif (nodes[childKey])\n\t\t\t\t\tr = r.concat(data.transformToArrayFormat(setting, nodes[childKey]));\n\t\t\t}\n\t\t\treturn r;\n\t\t},\n\t\ttransformTozTreeFormat: function(setting, sNodes) {\n\t\t\tvar i,l,\n\t\t\tkey = setting.data.simpleData.idKey,\n\t\t\tparentKey = setting.data.simpleData.pIdKey,\n\t\t\tchildKey = setting.data.key.children;\n\t\t\tif (!key || key==\"\" || !sNodes) return [];\n\n\t\t\tif (tools.isArray(sNodes)) {\n\t\t\t\tvar r = [];\n\t\t\t\tvar tmpMap = [];\n\t\t\t\tfor (i=0, l=sNodes.length; i<l; i++) {\n\t\t\t\t\ttmpMap[sNodes[i][key]] = sNodes[i];\n\t\t\t\t}\n\t\t\t\tfor (i=0, l=sNodes.length; i<l; i++) {\n\t\t\t\t\tif (tmpMap[sNodes[i][parentKey]] && sNodes[i][key] != sNodes[i][parentKey]) {\n\t\t\t\t\t\tif (!tmpMap[sNodes[i][parentKey]][childKey])\n\t\t\t\t\t\t\ttmpMap[sNodes[i][parentKey]][childKey] = [];\n\t\t\t\t\t\ttmpMap[sNodes[i][parentKey]][childKey].push(sNodes[i]);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tr.push(sNodes[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn r;\n\t\t\t}else {\n\t\t\t\treturn [sNodes];\n\t\t\t}\n\t\t}\n\t},\n\t//method of event proxy\n\tevent = {\n\t\tbindEvent: function(setting) {\n\t\t\tfor (var i=0, j=_init.bind.length; i<j; i++) {\n\t\t\t\t_init.bind[i].apply(this, arguments);\n\t\t\t}\n\t\t},\n\t\tunbindEvent: function(setting) {\n\t\t\tfor (var i=0, j=_init.unbind.length; i<j; i++) {\n\t\t\t\t_init.unbind[i].apply(this, arguments);\n\t\t\t}\n\t\t},\n\t\tbindTree: function(setting) {\n\t\t\tvar eventParam = {\n\t\t\t\ttreeId: setting.treeId\n\t\t\t},\n\t\t\to = setting.treeObj;\n\t\t\tif (!setting.view.txtSelectedEnable) {\n\t\t\t\t// for can't select text\n\t\t\t\to.bind('selectstart', handler.onSelectStart).css({\n\t\t\t\t\t\"-moz-user-select\":\"-moz-none\"\n\t\t\t\t});\n\t\t\t}\n\t\t\to.bind('click', eventParam, event.proxy);\n\t\t\to.bind('dblclick', eventParam, event.proxy);\n\t\t\to.bind('mouseover', eventParam, event.proxy);\n\t\t\to.bind('mouseout', eventParam, event.proxy);\n\t\t\to.bind('mousedown', eventParam, event.proxy);\n\t\t\to.bind('mouseup', eventParam, event.proxy);\n\t\t\to.bind('contextmenu', eventParam, event.proxy);\n\t\t},\n\t\tunbindTree: function(setting) {\n\t\t\tvar o = setting.treeObj;\n\t\t\to.unbind('selectstart', handler.onSelectStart)\n\t\t\t\t.unbind('click', event.proxy)\n\t\t\t\t.unbind('dblclick', event.proxy)\n\t\t\t\t.unbind('mouseover', event.proxy)\n\t\t\t\t.unbind('mouseout', event.proxy)\n\t\t\t\t.unbind('mousedown', event.proxy)\n\t\t\t\t.unbind('mouseup', event.proxy)\n\t\t\t\t.unbind('contextmenu', event.proxy);\n\t\t},\n\t\tdoProxy: function(e) {\n\t\t\tvar results = [];\n\t\t\tfor (var i=0, j=_init.proxys.length; i<j; i++) {\n\t\t\t\tvar proxyResult = _init.proxys[i].apply(this, arguments);\n\t\t\t\tresults.push(proxyResult);\n\t\t\t\tif (proxyResult.stop) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn results;\n\t\t},\n\t\tproxy: function(e) {\n\t\t\tvar setting = data.getSetting(e.data.treeId);\n\t\t\tif (!tools.uCanDo(setting, e)) return true;\n\t\t\tvar results = event.doProxy(e),\n\t\t\tr = true, x = false;\n\t\t\tfor (var i=0, l=results.length; i<l; i++) {\n\t\t\t\tvar proxyResult = results[i];\n\t\t\t\tif (proxyResult.nodeEventCallback) {\n\t\t\t\t\tx = true;\n\t\t\t\t\tr = proxyResult.nodeEventCallback.apply(proxyResult, [e, proxyResult.node]) && r;\n\t\t\t\t}\n\t\t\t\tif (proxyResult.treeEventCallback) {\n\t\t\t\t\tx = true;\n\t\t\t\t\tr = proxyResult.treeEventCallback.apply(proxyResult, [e, proxyResult.node]) && r;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn r;\n\t\t}\n\t},\n\t//method of event handler\n\thandler = {\n\t\tonSwitchNode: function (event, node) {\n\t\t\tvar setting = data.getSetting(event.data.treeId);\n\t\t\tif (node.open) {\n\t\t\t\tif (tools.apply(setting.callback.beforeCollapse, [setting.treeId, node], true) == false) return true;\n\t\t\t\tdata.getRoot(setting).expandTriggerFlag = true;\n\t\t\t\tview.switchNode(setting, node);\n\t\t\t} else {\n\t\t\t\tif (tools.apply(setting.callback.beforeExpand, [setting.treeId, node], true) == false) return true;\n\t\t\t\tdata.getRoot(setting).expandTriggerFlag = true;\n\t\t\t\tview.switchNode(setting, node);\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\t\tonClickNode: function (event, node) {\n\t\t\tvar setting = data.getSetting(event.data.treeId),\n\t\t\tclickFlag = ( (setting.view.autoCancelSelected && (event.ctrlKey || event.metaKey)) && data.isSelectedNode(setting, node)) ? 0 : (setting.view.autoCancelSelected && (event.ctrlKey || event.metaKey) && setting.view.selectedMulti) ? 2 : 1;\n\t\t\tif (tools.apply(setting.callback.beforeClick, [setting.treeId, node, clickFlag], true) == false) return true;\n\t\t\tif (clickFlag === 0) {\n\t\t\t\tview.cancelPreSelectedNode(setting, node);\n\t\t\t} else {\n\t\t\t\tview.selectNode(setting, node, clickFlag === 2);\n\t\t\t}\n\t\t\tsetting.treeObj.trigger(consts.event.CLICK, [event, setting.treeId, node, clickFlag]);\n\t\t\treturn true;\n\t\t},\n\t\tonZTreeMousedown: function(event, node) {\n\t\t\tvar setting = data.getSetting(event.data.treeId);\n\t\t\tif (tools.apply(setting.callback.beforeMouseDown, [setting.treeId, node], true)) {\n\t\t\t\ttools.apply(setting.callback.onMouseDown, [event, setting.treeId, node]);\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\t\tonZTreeMouseup: function(event, node) {\n\t\t\tvar setting = data.getSetting(event.data.treeId);\n\t\t\tif (tools.apply(setting.callback.beforeMouseUp, [setting.treeId, node], true)) {\n\t\t\t\ttools.apply(setting.callback.onMouseUp, [event, setting.treeId, node]);\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\t\tonZTreeDblclick: function(event, node) {\n\t\t\tvar setting = data.getSetting(event.data.treeId);\n\t\t\tif (tools.apply(setting.callback.beforeDblClick, [setting.treeId, node], true)) {\n\t\t\t\ttools.apply(setting.callback.onDblClick, [event, setting.treeId, node]);\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\t\tonZTreeContextmenu: function(event, node) {\n\t\t\tvar setting = data.getSetting(event.data.treeId);\n\t\t\tif (tools.apply(setting.callback.beforeRightClick, [setting.treeId, node], true)) {\n\t\t\t\ttools.apply(setting.callback.onRightClick, [event, setting.treeId, node]);\n\t\t\t}\n\t\t\treturn (typeof setting.callback.onRightClick) != \"function\";\n\t\t},\n\t\tonSelectStart: function(e){\n\t\t\tvar n = e.originalEvent.srcElement.nodeName.toLowerCase();\n\t\t\treturn (n === \"input\" || n === \"textarea\" );\n\t\t}\n\t},\n\t//method of tools for zTree\n\ttools = {\n\t\tapply: function(fun, param, defaultValue) {\n\t\t\tif ((typeof fun) == \"function\") {\n\t\t\t\treturn fun.apply(zt, param?param:[]);\n\t\t\t}\n\t\t\treturn defaultValue;\n\t\t},\n\t\tcanAsync: function(setting, node) {\n\t\t\tvar childKey = setting.data.key.children;\n\t\t\treturn (setting.async.enable && node && node.isParent && !(node.zAsync || (node[childKey] && node[childKey].length > 0)));\n\t\t},\n\t\tclone: function (obj){\n\t\t\tif (obj === null) return null;\n\t\t\tvar o = tools.isArray(obj) ? [] : {};\n\t\t\tfor(var i in obj){\n\t\t\t\to[i] = (obj[i] instanceof Date) ? new Date(obj[i].getTime()) : (typeof obj[i] === \"object\" ? tools.clone(obj[i]) : obj[i]);\n\t\t\t}\n\t\t\treturn o;\n\t\t},\n\t\teqs: function(str1, str2) {\n\t\t\treturn str1.toLowerCase() === str2.toLowerCase();\n\t\t},\n\t\tisArray: function(arr) {\n\t\t\treturn Object.prototype.toString.apply(arr) === \"[object Array]\";\n\t\t},\n\t\t$: function(node, exp, setting) {\n\t\t\tif (!!exp && typeof exp != \"string\") {\n\t\t\t\tsetting = exp;\n\t\t\t\texp = \"\";\n\t\t\t}\n\t\t\tif (typeof node == \"string\") {\n\t\t\t\treturn $(node, setting ? setting.treeObj.get(0).ownerDocument : null);\n\t\t\t} else {\n\t\t\t\treturn $(\"#\" + node.tId + exp, setting ? setting.treeObj : null);\n\t\t\t}\n\t\t},\n\t\tgetMDom: function (setting, curDom, targetExpr) {\n\t\t\tif (!curDom) return null;\n\t\t\twhile (curDom && curDom.id !== setting.treeId) {\n\t\t\t\tfor (var i=0, l=targetExpr.length; curDom.tagName && i<l; i++) {\n\t\t\t\t\tif (tools.eqs(curDom.tagName, targetExpr[i].tagName) && curDom.getAttribute(targetExpr[i].attrName) !== null) {\n\t\t\t\t\t\treturn curDom;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tcurDom = curDom.parentNode;\n\t\t\t}\n\t\t\treturn null;\n\t\t},\n\t\tgetNodeMainDom:function(target) {\n\t\t\treturn ($(target).parent(\"li\").get(0) || $(target).parentsUntil(\"li\").parent().get(0));\n\t\t},\n\t\tisChildOrSelf: function(dom, parentId) {\n\t\t\treturn ( $(dom).closest(\"#\" + parentId).length> 0 );\n\t\t},\n\t\tuCanDo: function(setting, e) {\n\t\t\treturn true;\n\t\t}\n\t},\n\t//method of operate ztree dom\n\tview = {\n\t\taddNodes: function(setting, parentNode, index, newNodes, isSilent) {\n\t\t\tif (setting.data.keep.leaf && parentNode && !parentNode.isParent) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (!tools.isArray(newNodes)) {\n\t\t\t\tnewNodes = [newNodes];\n\t\t\t}\n\t\t\tif (setting.data.simpleData.enable) {\n\t\t\t\tnewNodes = data.transformTozTreeFormat(setting, newNodes);\n\t\t\t}\n\t\t\tif (parentNode) {\n\t\t\t\tvar target_switchObj = $$(parentNode, consts.id.SWITCH, setting),\n\t\t\t\ttarget_icoObj = $$(parentNode, consts.id.ICON, setting),\n\t\t\t\ttarget_ulObj = $$(parentNode, consts.id.UL, setting);\n\n\t\t\t\tif (!parentNode.open) {\n\t\t\t\t\tview.replaceSwitchClass(parentNode, target_switchObj, consts.folder.CLOSE);\n\t\t\t\t\tview.replaceIcoClass(parentNode, target_icoObj, consts.folder.CLOSE);\n\t\t\t\t\tparentNode.open = false;\n\t\t\t\t\ttarget_ulObj.css({\n\t\t\t\t\t\t\"display\": \"none\"\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tdata.addNodesData(setting, parentNode, index, newNodes);\n\t\t\t\tview.createNodes(setting, parentNode.level + 1, newNodes, parentNode, index);\n\t\t\t\tif (!isSilent) {\n\t\t\t\t\tview.expandCollapseParentNode(setting, parentNode, true);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tdata.addNodesData(setting, data.getRoot(setting), index, newNodes);\n\t\t\t\tview.createNodes(setting, 0, newNodes, null, index);\n\t\t\t}\n\t\t},\n\t\tappendNodes: function(setting, level, nodes, parentNode, index, initFlag, openFlag) {\n\t\t\tif (!nodes) return [];\n\t\t\tvar html = [],\n\t\t\tchildKey = setting.data.key.children;\n\n\t\t\tvar tmpPNode = (parentNode) ? parentNode: data.getRoot(setting),\n\t\t\t\ttmpPChild = tmpPNode[childKey],\n\t\t\t\tisFirstNode, isLastNode;\n\n\t\t\tif (!tmpPChild || index >= tmpPChild.length) {\n\t\t\t\tindex = -1;\n\t\t\t}\n\n\t\t\tfor (var i = 0, l = nodes.length; i < l; i++) {\n\t\t\t\tvar node = nodes[i];\n\t\t\t\tif (initFlag) {\n\t\t\t\t\tisFirstNode = ((index===0 || tmpPChild.length == nodes.length) && (i == 0));\n\t\t\t\t\tisLastNode = (index < 0 && i == (nodes.length - 1));\n\t\t\t\t\tdata.initNode(setting, level, node, parentNode, isFirstNode, isLastNode, openFlag);\n\t\t\t\t\tdata.addNodeCache(setting, node);\n\t\t\t\t}\n\n\t\t\t\tvar childHtml = [];\n\t\t\t\tif (node[childKey] && node[childKey].length > 0) {\n\t\t\t\t\t//make child html first, because checkType\n\t\t\t\t\tchildHtml = view.appendNodes(setting, level + 1, node[childKey], node, -1, initFlag, openFlag && node.open);\n\t\t\t\t}\n\t\t\t\tif (openFlag) {\n\n\t\t\t\t\tview.makeDOMNodeMainBefore(html, setting, node);\n\t\t\t\t\tview.makeDOMNodeLine(html, setting, node);\n\t\t\t\t\tdata.getBeforeA(setting, node, html);\n\t\t\t\t\tview.makeDOMNodeNameBefore(html, setting, node);\n\t\t\t\t\tdata.getInnerBeforeA(setting, node, html);\n\t\t\t\t\tview.makeDOMNodeIcon(html, setting, node);\n\t\t\t\t\tdata.getInnerAfterA(setting, node, html);\n\t\t\t\t\tview.makeDOMNodeNameAfter(html, setting, node);\n\t\t\t\t\tdata.getAfterA(setting, node, html);\n\t\t\t\t\tif (node.isParent && node.open) {\n\t\t\t\t\t\tview.makeUlHtml(setting, node, html, childHtml.join(''));\n\t\t\t\t\t}\n\t\t\t\t\tview.makeDOMNodeMainAfter(html, setting, node);\n\t\t\t\t\tdata.addCreatedNode(setting, node);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn html;\n\t\t},\n\t\tappendParentULDom: function(setting, node) {\n\t\t\tvar html = [],\n\t\t\tnObj = $$(node, setting);\n\t\t\tif (!nObj.get(0) && !!node.parentTId) {\n\t\t\t\tview.appendParentULDom(setting, node.getParentNode());\n\t\t\t\tnObj = $$(node, setting);\n\t\t\t}\n\t\t\tvar ulObj = $$(node, consts.id.UL, setting);\n\t\t\tif (ulObj.get(0)) {\n\t\t\t\tulObj.remove();\n\t\t\t}\n\t\t\tvar childKey = setting.data.key.children,\n\t\t\tchildHtml = view.appendNodes(setting, node.level+1, node[childKey], node, -1, false, true);\n\t\t\tview.makeUlHtml(setting, node, html, childHtml.join(''));\n\t\t\tnObj.append(html.join(''));\n\t\t},\n\t\tasyncNode: function(setting, node, isSilent, callback) {\n\t\t\tvar i, l;\n\t\t\tif (node && !node.isParent) {\n\t\t\t\ttools.apply(callback);\n\t\t\t\treturn false;\n\t\t\t} else if (node && node.isAjaxing) {\n\t\t\t\treturn false;\n\t\t\t} else if (tools.apply(setting.callback.beforeAsync, [setting.treeId, node], true) == false) {\n\t\t\t\ttools.apply(callback);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (node) {\n\t\t\t\tnode.isAjaxing = true;\n\t\t\t\tvar icoObj = $$(node, consts.id.ICON, setting);\n\t\t\t\ticoObj.attr({\"style\":\"\", \"class\":consts.className.BUTTON + \" \" + consts.className.ICO_LOADING});\n\t\t\t}\n\n\t\t\tvar tmpParam = {};\n\t\t\tfor (i = 0, l = setting.async.autoParam.length; node && i < l; i++) {\n\t\t\t\tvar pKey = setting.async.autoParam[i].split(\"=\"), spKey = pKey;\n\t\t\t\tif (pKey.length>1) {\n\t\t\t\t\tspKey = pKey[1];\n\t\t\t\t\tpKey = pKey[0];\n\t\t\t\t}\n\t\t\t\ttmpParam[spKey] = node[pKey];\n\t\t\t}\n\t\t\tif (tools.isArray(setting.async.otherParam)) {\n\t\t\t\tfor (i = 0, l = setting.async.otherParam.length; i < l; i += 2) {\n\t\t\t\t\ttmpParam[setting.async.otherParam[i]] = setting.async.otherParam[i + 1];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor (var p in setting.async.otherParam) {\n\t\t\t\t\ttmpParam[p] = setting.async.otherParam[p];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar _tmpV = data.getRoot(setting)._ver;\n\t\t\t$.ajax({\n\t\t\t\tcontentType: setting.async.contentType,\n                cache: false,\n\t\t\t\ttype: setting.async.type,\n\t\t\t\turl: tools.apply(setting.async.url, [setting.treeId, node], setting.async.url),\n\t\t\t\tdata: tmpParam,\n\t\t\t\tdataType: setting.async.dataType,\n\t\t\t\tsuccess: function(msg) {\n\t\t\t\t\tif (_tmpV != data.getRoot(setting)._ver) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tvar newNodes = [];\n\t\t\t\t\ttry {\n\t\t\t\t\t\tif (!msg || msg.length == 0) {\n\t\t\t\t\t\t\tnewNodes = [];\n\t\t\t\t\t\t} else if (typeof msg == \"string\") {\n\t\t\t\t\t\t\tnewNodes = eval(\"(\" + msg + \")\");\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tnewNodes = msg;\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch(err) {\n\t\t\t\t\t\tnewNodes = msg;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (node) {\n\t\t\t\t\t\tnode.isAjaxing = null;\n\t\t\t\t\t\tnode.zAsync = true;\n\t\t\t\t\t}\n\t\t\t\t\tview.setNodeLineIcos(setting, node);\n\t\t\t\t\tif (newNodes && newNodes !== \"\") {\n\t\t\t\t\t\tnewNodes = tools.apply(setting.async.dataFilter, [setting.treeId, node, newNodes], newNodes);\n\t\t\t\t\t\tview.addNodes(setting, node, -1, !!newNodes ? tools.clone(newNodes) : [], !!isSilent);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tview.addNodes(setting, node, -1, [], !!isSilent);\n\t\t\t\t\t}\n\t\t\t\t\tsetting.treeObj.trigger(consts.event.ASYNC_SUCCESS, [setting.treeId, node, msg]);\n\t\t\t\t\ttools.apply(callback);\n\t\t\t\t},\n\t\t\t\terror: function(XMLHttpRequest, textStatus, errorThrown) {\n\t\t\t\t\tif (_tmpV != data.getRoot(setting)._ver) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tif (node) node.isAjaxing = null;\n\t\t\t\t\tview.setNodeLineIcos(setting, node);\n\t\t\t\t\tsetting.treeObj.trigger(consts.event.ASYNC_ERROR, [setting.treeId, node, XMLHttpRequest, textStatus, errorThrown]);\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn true;\n\t\t},\n\t\tcancelPreSelectedNode: function (setting, node, excludeNode) {\n\t\t\tvar list = data.getRoot(setting).curSelectedList,\n\t\t\t\ti, n;\n\t\t\tfor (i=list.length-1; i>=0; i--) {\n\t\t\t\tn = list[i];\n\t\t\t\tif (node === n || (!node && (!excludeNode || excludeNode !== n))) {\n\t\t\t\t\t$$(n, consts.id.A, setting).removeClass(consts.node.CURSELECTED);\n\t\t\t\t\tif (node) {\n\t\t\t\t\t\tdata.removeSelectedNode(setting, node);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlist.splice(i, 1);\n\t\t\t\t\t\tsetting.treeObj.trigger(consts.event.UNSELECTED, [setting.treeId, n]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tcreateNodeCallback: function(setting) {\n\t\t\tif (!!setting.callback.onNodeCreated || !!setting.view.addDiyDom) {\n\t\t\t\tvar root = data.getRoot(setting);\n\t\t\t\twhile (root.createdNodes.length>0) {\n\t\t\t\t\tvar node = root.createdNodes.shift();\n\t\t\t\t\ttools.apply(setting.view.addDiyDom, [setting.treeId, node]);\n\t\t\t\t\tif (!!setting.callback.onNodeCreated) {\n\t\t\t\t\t\tsetting.treeObj.trigger(consts.event.NODECREATED, [setting.treeId, node]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tcreateNodes: function(setting, level, nodes, parentNode, index) {\n\t\t\tif (!nodes || nodes.length == 0) return;\n\t\t\tvar root = data.getRoot(setting),\n\t\t\tchildKey = setting.data.key.children,\n\t\t\topenFlag = !parentNode || parentNode.open || !!$$(parentNode[childKey][0], setting).get(0);\n\t\t\troot.createdNodes = [];\n\t\t\tvar zTreeHtml = view.appendNodes(setting, level, nodes, parentNode, index, true, openFlag),\n\t\t\t\tparentObj, nextObj;\n\n\t\t\tif (!parentNode) {\n\t\t\t\tparentObj = setting.treeObj;\n\t\t\t\t//setting.treeObj.append(zTreeHtml.join(''));\n\t\t\t} else {\n\t\t\t\tvar ulObj = $$(parentNode, consts.id.UL, setting);\n\t\t\t\tif (ulObj.get(0)) {\n\t\t\t\t\tparentObj = ulObj;\n\t\t\t\t\t//ulObj.append(zTreeHtml.join(''));\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (parentObj) {\n\t\t\t\tif (index >= 0) {\n\t\t\t\t\tnextObj = parentObj.children()[index];\n\t\t\t\t}\n\t\t\t\tif (index >=0 && nextObj) {\n\t\t\t\t\t$(nextObj).before(zTreeHtml.join(''));\n\t\t\t\t} else {\n\t\t\t\t\tparentObj.append(zTreeHtml.join(''));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tview.createNodeCallback(setting);\n\t\t},\n\t\tdestroy: function(setting) {\n\t\t\tif (!setting) return;\n\t\t\tdata.initCache(setting);\n\t\t\tdata.initRoot(setting);\n\t\t\tevent.unbindTree(setting);\n\t\t\tevent.unbindEvent(setting);\n\t\t\tsetting.treeObj.empty();\n\t\t\tdelete settings[setting.treeId];\n\t\t},\n\t\texpandCollapseNode: function(setting, node, expandFlag, animateFlag, callback) {\n\t\t\tvar root = data.getRoot(setting),\n\t\t\tchildKey = setting.data.key.children;\n\t\t\tvar tmpCb, _callback;\n\t\t\tif (!node) {\n\t\t\t\ttools.apply(callback, []);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (root.expandTriggerFlag) {\n\t\t\t\t_callback = callback;\n\t\t\t\ttmpCb = function(){\n\t\t\t\t\tif (_callback) _callback();\n\t\t\t\t\tif (node.open) {\n\t\t\t\t\t\tsetting.treeObj.trigger(consts.event.EXPAND, [setting.treeId, node]);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsetting.treeObj.trigger(consts.event.COLLAPSE, [setting.treeId, node]);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tcallback = tmpCb;\n\t\t\t\troot.expandTriggerFlag = false;\n\t\t\t}\n\t\t\tif (!node.open && node.isParent && ((!$$(node, consts.id.UL, setting).get(0)) || (node[childKey] && node[childKey].length>0 && !$$(node[childKey][0], setting).get(0)))) {\n\t\t\t\tview.appendParentULDom(setting, node);\n\t\t\t\tview.createNodeCallback(setting);\n\t\t\t}\n\t\t\tif (node.open == expandFlag) {\n\t\t\t\ttools.apply(callback, []);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar ulObj = $$(node, consts.id.UL, setting),\n\t\t\tswitchObj = $$(node, consts.id.SWITCH, setting),\n\t\t\ticoObj = $$(node, consts.id.ICON, setting);\n\n\t\t\tif (node.isParent) {\n\t\t\t\tnode.open = !node.open;\n\t\t\t\tif (node.iconOpen && node.iconClose) {\n\t\t\t\t\ticoObj.attr(\"style\", view.makeNodeIcoStyle(setting, node));\n\t\t\t\t}\n\n\t\t\t\tif (node.open) {\n\t\t\t\t\tview.replaceSwitchClass(node, switchObj, consts.folder.OPEN);\n\t\t\t\t\tview.replaceIcoClass(node, icoObj, consts.folder.OPEN);\n\t\t\t\t\tif (animateFlag == false || setting.view.expandSpeed == \"\") {\n\t\t\t\t\t\tulObj.show();\n\t\t\t\t\t\ttools.apply(callback, []);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (node[childKey] && node[childKey].length > 0) {\n\t\t\t\t\t\t\tulObj.slideDown(setting.view.expandSpeed, callback);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tulObj.show();\n\t\t\t\t\t\t\ttools.apply(callback, []);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tview.replaceSwitchClass(node, switchObj, consts.folder.CLOSE);\n\t\t\t\t\tview.replaceIcoClass(node, icoObj, consts.folder.CLOSE);\n\t\t\t\t\tif (animateFlag == false || setting.view.expandSpeed == \"\" || !(node[childKey] && node[childKey].length > 0)) {\n\t\t\t\t\t\tulObj.hide();\n\t\t\t\t\t\ttools.apply(callback, []);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tulObj.slideUp(setting.view.expandSpeed, callback);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\ttools.apply(callback, []);\n\t\t\t}\n\t\t},\n\t\texpandCollapseParentNode: function(setting, node, expandFlag, animateFlag, callback) {\n\t\t\tif (!node) return;\n\t\t\tif (!node.parentTId) {\n\t\t\t\tview.expandCollapseNode(setting, node, expandFlag, animateFlag, callback);\n\t\t\t\treturn;\n\t\t\t} else {\n\t\t\t\tview.expandCollapseNode(setting, node, expandFlag, animateFlag);\n\t\t\t}\n\t\t\tif (node.parentTId) {\n\t\t\t\tview.expandCollapseParentNode(setting, node.getParentNode(), expandFlag, animateFlag, callback);\n\t\t\t}\n\t\t},\n\t\texpandCollapseSonNode: function(setting, node, expandFlag, animateFlag, callback) {\n\t\t\tvar root = data.getRoot(setting),\n\t\t\tchildKey = setting.data.key.children,\n\t\t\ttreeNodes = (node) ? node[childKey]: root[childKey],\n\t\t\tselfAnimateSign = (node) ? false : animateFlag,\n\t\t\texpandTriggerFlag = data.getRoot(setting).expandTriggerFlag;\n\t\t\tdata.getRoot(setting).expandTriggerFlag = false;\n\t\t\tif (treeNodes) {\n\t\t\t\tfor (var i = 0, l = treeNodes.length; i < l; i++) {\n\t\t\t\t\tif (treeNodes[i]) view.expandCollapseSonNode(setting, treeNodes[i], expandFlag, selfAnimateSign);\n\t\t\t\t}\n\t\t\t}\n\t\t\tdata.getRoot(setting).expandTriggerFlag = expandTriggerFlag;\n\t\t\tview.expandCollapseNode(setting, node, expandFlag, animateFlag, callback );\n\t\t},\n\t\tisSelectedNode: function (setting, node) {\n\t\t\tif (!node) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tvar list = data.getRoot(setting).curSelectedList,\n\t\t\t\ti;\n\t\t\tfor (i=list.length-1; i>=0; i--) {\n\t\t\t\tif (node === list[i]) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\tmakeDOMNodeIcon: function(html, setting, node) {\n\t\t\tvar nameStr = data.getNodeName(setting, node),\n\t\t\tname = setting.view.nameIsHTML ? nameStr : nameStr.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;');\n\t\t\thtml.push(\"<span id='\", node.tId, consts.id.ICON,\n\t\t\t\t\"' title='' treeNode\", consts.id.ICON,\" class='\", view.makeNodeIcoClass(setting, node),\n\t\t\t\t\"' style='\", view.makeNodeIcoStyle(setting, node), \"'></span><span id='\", node.tId, consts.id.SPAN,\n\t\t\t\t\"' class='\", consts.className.NAME,\n\t\t\t\t\"'>\",name,\"</span>\");\n\t\t},\n\t\tmakeDOMNodeLine: function(html, setting, node) {\n\t\t\thtml.push(\"<span id='\", node.tId, consts.id.SWITCH,\t\"' title='' class='\", view.makeNodeLineClass(setting, node), \"' treeNode\", consts.id.SWITCH,\"></span>\");\n\t\t},\n\t\tmakeDOMNodeMainAfter: function(html, setting, node) {\n\t\t\thtml.push(\"</li>\");\n\t\t},\n\t\tmakeDOMNodeMainBefore: function(html, setting, node) {\n\t\t\thtml.push(\"<li id='\", node.tId, \"' class='\", consts.className.LEVEL, node.level,\"' tabindex='0' hidefocus='true' treenode>\");\n\t\t},\n\t\tmakeDOMNodeNameAfter: function(html, setting, node) {\n\t\t\thtml.push(\"</a>\");\n\t\t},\n\t\tmakeDOMNodeNameBefore: function(html, setting, node) {\n\t\t\tvar title = data.getNodeTitle(setting, node),\n\t\t\turl = view.makeNodeUrl(setting, node),\n\t\t\tfontcss = view.makeNodeFontCss(setting, node),\n\t\t\tfontStyle = [];\n\t\t\tfor (var f in fontcss) {\n\t\t\t\tfontStyle.push(f, \":\", fontcss[f], \";\");\n\t\t\t}\n\t\t\thtml.push(\"<a id='\", node.tId, consts.id.A, \"' class='\", consts.className.LEVEL, node.level,\"' treeNode\", consts.id.A,\" onclick=\\\"\", (node.click || ''),\n\t\t\t\t\"\\\" \", ((url != null && url.length > 0) ? \"href='\" + url + \"'\" : \"\"), \" target='\",view.makeNodeTarget(node),\"' style='\", fontStyle.join(''),\n\t\t\t\t\"'\");\n\t\t\tif (tools.apply(setting.view.showTitle, [setting.treeId, node], setting.view.showTitle) && title) {html.push(\"title='\", title.replace(/'/g,\"&#39;\").replace(/</g,'&lt;').replace(/>/g,'&gt;'),\"'\");}\n\t\t\thtml.push(\">\");\n\t\t},\n\t\tmakeNodeFontCss: function(setting, node) {\n\t\t\tvar fontCss = tools.apply(setting.view.fontCss, [setting.treeId, node], setting.view.fontCss);\n\t\t\treturn (fontCss && ((typeof fontCss) != \"function\")) ? fontCss : {};\n\t\t},\n\t\tmakeNodeIcoClass: function(setting, node) {\n\t\t\tvar icoCss = [\"ico\"];\n\t\t\tif (!node.isAjaxing) {\n\t\t\t\ticoCss[0] = (node.iconSkin ? node.iconSkin + \"_\" : \"\") + icoCss[0];\n\t\t\t\tif (node.isParent) {\n\t\t\t\t\ticoCss.push(node.open ? consts.folder.OPEN : consts.folder.CLOSE);\n\t\t\t\t} else {\n\t\t\t\t\ticoCss.push(consts.folder.DOCU);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn consts.className.BUTTON + \" \" + icoCss.join('_');\n\t\t},\n\t\tmakeNodeIcoStyle: function(setting, node) {\n\t\t\tvar icoStyle = [];\n\t\t\tif (!node.isAjaxing) {\n\t\t\t\tvar icon = (node.isParent && node.iconOpen && node.iconClose) ? (node.open ? node.iconOpen : node.iconClose) : node[setting.data.key.icon];\n\t\t\t\tif (icon) icoStyle.push(\"background:url(\", icon, \") 0 0 no-repeat;\");\n\t\t\t\tif (setting.view.showIcon == false || !tools.apply(setting.view.showIcon, [setting.treeId, node], true)) {\n\t\t\t\t\ticoStyle.push(\"width:0px;height:0px;\");\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn icoStyle.join('');\n\t\t},\n\t\tmakeNodeLineClass: function(setting, node) {\n\t\t\tvar lineClass = [];\n\t\t\tif (setting.view.showLine) {\n\t\t\t\tif (node.level == 0 && node.isFirstNode && node.isLastNode) {\n\t\t\t\t\tlineClass.push(consts.line.ROOT);\n\t\t\t\t} else if (node.level == 0 && node.isFirstNode) {\n\t\t\t\t\tlineClass.push(consts.line.ROOTS);\n\t\t\t\t} else if (node.isLastNode) {\n\t\t\t\t\tlineClass.push(consts.line.BOTTOM);\n\t\t\t\t} else {\n\t\t\t\t\tlineClass.push(consts.line.CENTER);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tlineClass.push(consts.line.NOLINE);\n\t\t\t}\n\t\t\tif (node.isParent) {\n\t\t\t\tlineClass.push(node.open ? consts.folder.OPEN : consts.folder.CLOSE);\n\t\t\t} else {\n\t\t\t\tlineClass.push(consts.folder.DOCU);\n\t\t\t}\n\t\t\treturn view.makeNodeLineClassEx(node) + lineClass.join('_');\n\t\t},\n\t\tmakeNodeLineClassEx: function(node) {\n\t\t\treturn consts.className.BUTTON + \" \" + consts.className.LEVEL + node.level + \" \" + consts.className.SWITCH + \" \";\n\t\t},\n\t\tmakeNodeTarget: function(node) {\n\t\t\treturn (node.target || \"_blank\");\n\t\t},\n\t\tmakeNodeUrl: function(setting, node) {\n\t\t\tvar urlKey = setting.data.key.url;\n\t\t\treturn node[urlKey] ? node[urlKey] : null;\n\t\t},\n\t\tmakeUlHtml: function(setting, node, html, content) {\n\t\t\thtml.push(\"<ul id='\", node.tId, consts.id.UL, \"' class='\", consts.className.LEVEL, node.level, \" \", view.makeUlLineClass(setting, node), \"' style='display:\", (node.open ? \"block\": \"none\"),\"'>\");\n\t\t\thtml.push(content);\n\t\t\thtml.push(\"</ul>\");\n\t\t},\n\t\tmakeUlLineClass: function(setting, node) {\n\t\t\treturn ((setting.view.showLine && !node.isLastNode) ? consts.line.LINE : \"\");\n\t\t},\n\t\tremoveChildNodes: function(setting, node) {\n\t\t\tif (!node) return;\n\t\t\tvar childKey = setting.data.key.children,\n\t\t\tnodes = node[childKey];\n\t\t\tif (!nodes) return;\n\n\t\t\tfor (var i = 0, l = nodes.length; i < l; i++) {\n\t\t\t\tdata.removeNodeCache(setting, nodes[i]);\n\t\t\t}\n\t\t\tdata.removeSelectedNode(setting);\n\t\t\tdelete node[childKey];\n\n\t\t\tif (!setting.data.keep.parent) {\n\t\t\t\tnode.isParent = false;\n\t\t\t\tnode.open = false;\n\t\t\t\tvar tmp_switchObj = $$(node, consts.id.SWITCH, setting),\n\t\t\t\ttmp_icoObj = $$(node, consts.id.ICON, setting);\n\t\t\t\tview.replaceSwitchClass(node, tmp_switchObj, consts.folder.DOCU);\n\t\t\t\tview.replaceIcoClass(node, tmp_icoObj, consts.folder.DOCU);\n\t\t\t\t$$(node, consts.id.UL, setting).remove();\n\t\t\t} else {\n\t\t\t\t$$(node, consts.id.UL, setting).empty();\n\t\t\t}\n\t\t},\n\t\tscrollIntoView: function(dom) {\n\t\t\tif (!dom) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (dom.scrollIntoViewIfNeeded) {\n\t\t\t\tdom.scrollIntoViewIfNeeded();\n\t\t\t} else if (dom.scrollIntoView) {\n\t\t\t\tdom.scrollIntoView(false);\n\t\t\t} else {\n\t\t\t\ttry{dom.focus().blur();}catch(e){}\n\t\t\t}\n\t\t},\n\t\tsetFirstNode: function(setting, parentNode) {\n\t\t\tvar childKey = setting.data.key.children, childLength = parentNode[childKey].length;\n\t\t\tif ( childLength > 0) {\n\t\t\t\tparentNode[childKey][0].isFirstNode = true;\n\t\t\t}\n\t\t},\n\t\tsetLastNode: function(setting, parentNode) {\n\t\t\tvar childKey = setting.data.key.children, childLength = parentNode[childKey].length;\n\t\t\tif ( childLength > 0) {\n\t\t\t\tparentNode[childKey][childLength - 1].isLastNode = true;\n\t\t\t}\n\t\t},\n\t\tremoveNode: function(setting, node) {\n\t\t\tvar root = data.getRoot(setting),\n\t\t\tchildKey = setting.data.key.children,\n\t\t\tparentNode = (node.parentTId) ? node.getParentNode() : root;\n\n\t\t\tnode.isFirstNode = false;\n\t\t\tnode.isLastNode = false;\n\t\t\tnode.getPreNode = function() {return null;};\n\t\t\tnode.getNextNode = function() {return null;};\n\n\t\t\tif (!data.getNodeCache(setting, node.tId)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t$$(node, setting).remove();\n\t\t\tdata.removeNodeCache(setting, node);\n\t\t\tdata.removeSelectedNode(setting, node);\n\n\t\t\tfor (var i = 0, l = parentNode[childKey].length; i < l; i++) {\n\t\t\t\tif (parentNode[childKey][i].tId == node.tId) {\n\t\t\t\t\tparentNode[childKey].splice(i, 1);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tview.setFirstNode(setting, parentNode);\n\t\t\tview.setLastNode(setting, parentNode);\n\n\t\t\tvar tmp_ulObj,tmp_switchObj,tmp_icoObj,\n\t\t\tchildLength = parentNode[childKey].length;\n\n\t\t\t//repair nodes old parent\n\t\t\tif (!setting.data.keep.parent && childLength == 0) {\n\t\t\t\t//old parentNode has no child nodes\n\t\t\t\tparentNode.isParent = false;\n\t\t\t\tparentNode.open = false;\n\t\t\t\ttmp_ulObj = $$(parentNode, consts.id.UL, setting);\n\t\t\t\ttmp_switchObj = $$(parentNode, consts.id.SWITCH, setting);\n\t\t\t\ttmp_icoObj = $$(parentNode, consts.id.ICON, setting);\n\t\t\t\tview.replaceSwitchClass(parentNode, tmp_switchObj, consts.folder.DOCU);\n\t\t\t\tview.replaceIcoClass(parentNode, tmp_icoObj, consts.folder.DOCU);\n\t\t\t\ttmp_ulObj.css(\"display\", \"none\");\n\n\t\t\t} else if (setting.view.showLine && childLength > 0) {\n\t\t\t\t//old parentNode has child nodes\n\t\t\t\tvar newLast = parentNode[childKey][childLength - 1];\n\t\t\t\ttmp_ulObj = $$(newLast, consts.id.UL, setting);\n\t\t\t\ttmp_switchObj = $$(newLast, consts.id.SWITCH, setting);\n\t\t\t\ttmp_icoObj = $$(newLast, consts.id.ICON, setting);\n\t\t\t\tif (parentNode == root) {\n\t\t\t\t\tif (parentNode[childKey].length == 1) {\n\t\t\t\t\t\t//node was root, and ztree has only one root after move node\n\t\t\t\t\t\tview.replaceSwitchClass(newLast, tmp_switchObj, consts.line.ROOT);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar tmp_first_switchObj = $$(parentNode[childKey][0], consts.id.SWITCH, setting);\n\t\t\t\t\t\tview.replaceSwitchClass(parentNode[childKey][0], tmp_first_switchObj, consts.line.ROOTS);\n\t\t\t\t\t\tview.replaceSwitchClass(newLast, tmp_switchObj, consts.line.BOTTOM);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tview.replaceSwitchClass(newLast, tmp_switchObj, consts.line.BOTTOM);\n\t\t\t\t}\n\t\t\t\ttmp_ulObj.removeClass(consts.line.LINE);\n\t\t\t}\n\t\t},\n\t\treplaceIcoClass: function(node, obj, newName) {\n\t\t\tif (!obj || node.isAjaxing) return;\n\t\t\tvar tmpName = obj.attr(\"class\");\n\t\t\tif (tmpName == undefined) return;\n\t\t\tvar tmpList = tmpName.split(\"_\");\n\t\t\tswitch (newName) {\n\t\t\t\tcase consts.folder.OPEN:\n\t\t\t\tcase consts.folder.CLOSE:\n\t\t\t\tcase consts.folder.DOCU:\n\t\t\t\t\ttmpList[tmpList.length-1] = newName;\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tobj.attr(\"class\", tmpList.join(\"_\"));\n\t\t},\n\t\treplaceSwitchClass: function(node, obj, newName) {\n\t\t\tif (!obj) return;\n\t\t\tvar tmpName = obj.attr(\"class\");\n\t\t\tif (tmpName == undefined) return;\n\t\t\tvar tmpList = tmpName.split(\"_\");\n\t\t\tswitch (newName) {\n\t\t\t\tcase consts.line.ROOT:\n\t\t\t\tcase consts.line.ROOTS:\n\t\t\t\tcase consts.line.CENTER:\n\t\t\t\tcase consts.line.BOTTOM:\n\t\t\t\tcase consts.line.NOLINE:\n\t\t\t\t\ttmpList[0] = view.makeNodeLineClassEx(node) + newName;\n\t\t\t\t\tbreak;\n\t\t\t\tcase consts.folder.OPEN:\n\t\t\t\tcase consts.folder.CLOSE:\n\t\t\t\tcase consts.folder.DOCU:\n\t\t\t\t\ttmpList[1] = newName;\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tobj.attr(\"class\", tmpList.join(\"_\"));\n\t\t\tif (newName !== consts.folder.DOCU) {\n\t\t\t\tobj.removeAttr(\"disabled\");\n\t\t\t} else {\n\t\t\t\tobj.attr(\"disabled\", \"disabled\");\n\t\t\t}\n\t\t},\n\t\tselectNode: function(setting, node, addFlag) {\n\t\t\tif (!addFlag) {\n\t\t\t\tview.cancelPreSelectedNode(setting, null, node);\n\t\t\t}\n\t\t\t$$(node, consts.id.A, setting).addClass(consts.node.CURSELECTED);\n\t\t\tdata.addSelectedNode(setting, node);\n\t\t\tsetting.treeObj.trigger(consts.event.SELECTED, [setting.treeId, node]);\n\t\t},\n\t\tsetNodeFontCss: function(setting, treeNode) {\n\t\t\tvar aObj = $$(treeNode, consts.id.A, setting),\n\t\t\tfontCss = view.makeNodeFontCss(setting, treeNode);\n\t\t\tif (fontCss) {\n\t\t\t\taObj.css(fontCss);\n\t\t\t}\n\t\t},\n\t\tsetNodeLineIcos: function(setting, node) {\n\t\t\tif (!node) return;\n\t\t\tvar switchObj = $$(node, consts.id.SWITCH, setting),\n\t\t\tulObj = $$(node, consts.id.UL, setting),\n\t\t\ticoObj = $$(node, consts.id.ICON, setting),\n\t\t\tulLine = view.makeUlLineClass(setting, node);\n\t\t\tif (ulLine.length==0) {\n\t\t\t\tulObj.removeClass(consts.line.LINE);\n\t\t\t} else {\n\t\t\t\tulObj.addClass(ulLine);\n\t\t\t}\n\t\t\tswitchObj.attr(\"class\", view.makeNodeLineClass(setting, node));\n\t\t\tif (node.isParent) {\n\t\t\t\tswitchObj.removeAttr(\"disabled\");\n\t\t\t} else {\n\t\t\t\tswitchObj.attr(\"disabled\", \"disabled\");\n\t\t\t}\n\t\t\ticoObj.removeAttr(\"style\");\n\t\t\ticoObj.attr(\"style\", view.makeNodeIcoStyle(setting, node));\n\t\t\ticoObj.attr(\"class\", view.makeNodeIcoClass(setting, node));\n\t\t},\n\t\tsetNodeName: function(setting, node) {\n\t\t\tvar title = data.getNodeTitle(setting, node),\n\t\t\tnObj = $$(node, consts.id.SPAN, setting);\n\t\t\tnObj.empty();\n\t\t\tif (setting.view.nameIsHTML) {\n\t\t\t\tnObj.html(data.getNodeName(setting, node));\n\t\t\t} else {\n\t\t\t\tnObj.text(data.getNodeName(setting, node));\n\t\t\t}\n\t\t\tif (tools.apply(setting.view.showTitle, [setting.treeId, node], setting.view.showTitle)) {\n\t\t\t\tvar aObj = $$(node, consts.id.A, setting);\n\t\t\t\taObj.attr(\"title\", !title ? \"\" : title);\n\t\t\t}\n\t\t},\n\t\tsetNodeTarget: function(setting, node) {\n\t\t\tvar aObj = $$(node, consts.id.A, setting);\n\t\t\taObj.attr(\"target\", view.makeNodeTarget(node));\n\t\t},\n\t\tsetNodeUrl: function(setting, node) {\n\t\t\tvar aObj = $$(node, consts.id.A, setting),\n\t\t\turl = view.makeNodeUrl(setting, node);\n\t\t\tif (url == null || url.length == 0) {\n\t\t\t\taObj.removeAttr(\"href\");\n\t\t\t} else {\n\t\t\t\taObj.attr(\"href\", url);\n\t\t\t}\n\t\t},\n\t\tswitchNode: function(setting, node) {\n\t\t\tif (node.open || !tools.canAsync(setting, node)) {\n\t\t\t\tview.expandCollapseNode(setting, node, !node.open);\n\t\t\t} else if (setting.async.enable) {\n\t\t\t\tif (!view.asyncNode(setting, node)) {\n\t\t\t\t\tview.expandCollapseNode(setting, node, !node.open);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} else if (node) {\n\t\t\t\tview.expandCollapseNode(setting, node, !node.open);\n\t\t\t}\n\t\t}\n\t};\n\t// zTree defind\n\t$.fn.zTree = {\n\t\tconsts : _consts,\n\t\t_z : {\n\t\t\ttools: tools,\n\t\t\tview: view,\n\t\t\tevent: event,\n\t\t\tdata: data\n\t\t},\n\t\tgetZTreeObj: function(treeId) {\n\t\t\tvar o = data.getZTreeTools(treeId);\n\t\t\treturn o ? o : null;\n\t\t},\n\t\tdestroy: function(treeId) {\n\t\t\tif (!!treeId && treeId.length > 0) {\n\t\t\t\tview.destroy(data.getSetting(treeId));\n\t\t\t} else {\n\t\t\t\tfor(var s in settings) {\n\t\t\t\t\tview.destroy(settings[s]);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tinit: function(obj, zSetting, zNodes) {\n\t\t\tvar setting = tools.clone(_setting);\n\t\t\t$.extend(true, setting, zSetting);\n\t\t\tsetting.treeId = obj.attr(\"id\");\n\t\t\tsetting.treeObj = obj;\n\t\t\tsetting.treeObj.empty();\n\t\t\tsettings[setting.treeId] = setting;\n\t\t\t//For some older browser,(e.g., ie6)\n\t\t\tif(typeof document.body.style.maxHeight === \"undefined\") {\n\t\t\t\tsetting.view.expandSpeed = \"\";\n\t\t\t}\n\t\t\tdata.initRoot(setting);\n\t\t\tvar root = data.getRoot(setting),\n\t\t\tchildKey = setting.data.key.children;\n\t\t\tzNodes = zNodes ? tools.clone(tools.isArray(zNodes)? zNodes : [zNodes]) : [];\n\t\t\tif (setting.data.simpleData.enable) {\n\t\t\t\troot[childKey] = data.transformTozTreeFormat(setting, zNodes);\n\t\t\t} else {\n\t\t\t\troot[childKey] = zNodes;\n\t\t\t}\n\n\t\t\tdata.initCache(setting);\n\t\t\tevent.unbindTree(setting);\n\t\t\tevent.bindTree(setting);\n\t\t\tevent.unbindEvent(setting);\n\t\t\tevent.bindEvent(setting);\n\n\t\t\tvar zTreeTools = {\n\t\t\t\tsetting : setting,\n\t\t\t\taddNodes : function(parentNode, index, newNodes, isSilent) {\n\t\t\t\t\tif (!parentNode) parentNode = null;\n\t\t\t\t\tif (parentNode && !parentNode.isParent && setting.data.keep.leaf) return null;\n\n\t\t\t\t\tvar i = parseInt(index, 10);\n\t\t\t\t\tif (isNaN(i)) {\n\t\t\t\t\t\tisSilent = !!newNodes;\n\t\t\t\t\t\tnewNodes = index;\n\t\t\t\t\t\tindex = -1;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tindex = i;\n\t\t\t\t\t}\n\t\t\t\t\tif (!newNodes) return null;\n\n\n\t\t\t\t\tvar xNewNodes = tools.clone(tools.isArray(newNodes)? newNodes: [newNodes]);\n\t\t\t\t\tfunction addCallback() {\n\t\t\t\t\t\tview.addNodes(setting, parentNode, index, xNewNodes, (isSilent==true));\n\t\t\t\t\t}\n\n\t\t\t\t\tif (tools.canAsync(setting, parentNode)) {\n\t\t\t\t\t\tview.asyncNode(setting, parentNode, isSilent, addCallback);\n\t\t\t\t\t} else {\n\t\t\t\t\t\taddCallback();\n\t\t\t\t\t}\n\t\t\t\t\treturn xNewNodes;\n\t\t\t\t},\n\t\t\t\tcancelSelectedNode : function(node) {\n\t\t\t\t\tview.cancelPreSelectedNode(setting, node);\n\t\t\t\t},\n\t\t\t\tdestroy : function() {\n\t\t\t\t\tview.destroy(setting);\n\t\t\t\t},\n\t\t\t\texpandAll : function(expandFlag) {\n\t\t\t\t\texpandFlag = !!expandFlag;\n\t\t\t\t\tview.expandCollapseSonNode(setting, null, expandFlag, true);\n\t\t\t\t\treturn expandFlag;\n\t\t\t\t},\n\t\t\t\texpandNode : function(node, expandFlag, sonSign, focus, callbackFlag) {\n\t\t\t\t\tif (!node || !node.isParent) return null;\n\t\t\t\t\tif (expandFlag !== true && expandFlag !== false) {\n\t\t\t\t\t\texpandFlag = !node.open;\n\t\t\t\t\t}\n\t\t\t\t\tcallbackFlag = !!callbackFlag;\n\n\t\t\t\t\tif (callbackFlag && expandFlag && (tools.apply(setting.callback.beforeExpand, [setting.treeId, node], true) == false)) {\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t} else if (callbackFlag && !expandFlag && (tools.apply(setting.callback.beforeCollapse, [setting.treeId, node], true) == false)) {\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\t\t\t\t\tif (expandFlag && node.parentTId) {\n\t\t\t\t\t\tview.expandCollapseParentNode(setting, node.getParentNode(), expandFlag, false);\n\t\t\t\t\t}\n\t\t\t\t\tif (expandFlag === node.open && !sonSign) {\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\n\t\t\t\t\tdata.getRoot(setting).expandTriggerFlag = callbackFlag;\n\t\t\t\t\tif (!tools.canAsync(setting, node) && sonSign) {\n\t\t\t\t\t\tview.expandCollapseSonNode(setting, node, expandFlag, true, showNodeFocus);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnode.open = !expandFlag;\n\t\t\t\t\t\tview.switchNode(this.setting, node);\n\t\t\t\t\t\tshowNodeFocus();\n\t\t\t\t\t}\n\t\t\t\t\treturn expandFlag;\n\n\t\t\t\t\tfunction showNodeFocus() {\n\t\t\t\t\t\tvar a = $$(node, setting).get(0);\n\t\t\t\t\t\tif (a && focus !== false) {\n\t\t\t\t\t\t\tview.scrollIntoView(a);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tgetNodes : function() {\n\t\t\t\t\treturn data.getNodes(setting);\n\t\t\t\t},\n\t\t\t\tgetNodeByParam : function(key, value, parentNode) {\n\t\t\t\t\tif (!key) return null;\n\t\t\t\t\treturn data.getNodeByParam(setting, parentNode?parentNode[setting.data.key.children]:data.getNodes(setting), key, value);\n\t\t\t\t},\n\t\t\t\tgetNodeByTId : function(tId) {\n\t\t\t\t\treturn data.getNodeCache(setting, tId);\n\t\t\t\t},\n\t\t\t\tgetNodesByParam : function(key, value, parentNode) {\n\t\t\t\t\tif (!key) return null;\n\t\t\t\t\treturn data.getNodesByParam(setting, parentNode?parentNode[setting.data.key.children]:data.getNodes(setting), key, value);\n\t\t\t\t},\n\t\t\t\tgetNodesByParamFuzzy : function(key, value, parentNode) {\n\t\t\t\t\tif (!key) return null;\n\t\t\t\t\treturn data.getNodesByParamFuzzy(setting, parentNode?parentNode[setting.data.key.children]:data.getNodes(setting), key, value);\n\t\t\t\t},\n\t\t\t\tgetNodesByFilter: function(filter, isSingle, parentNode, invokeParam) {\n\t\t\t\t\tisSingle = !!isSingle;\n\t\t\t\t\tif (!filter || (typeof filter != \"function\")) return (isSingle ? null : []);\n\t\t\t\t\treturn data.getNodesByFilter(setting, parentNode?parentNode[setting.data.key.children]:data.getNodes(setting), filter, isSingle, invokeParam);\n\t\t\t\t},\n\t\t\t\tgetNodeIndex : function(node) {\n\t\t\t\t\tif (!node) return null;\n\t\t\t\t\tvar childKey = setting.data.key.children,\n\t\t\t\t\tparentNode = (node.parentTId) ? node.getParentNode() : data.getRoot(setting);\n\t\t\t\t\tfor (var i=0, l = parentNode[childKey].length; i < l; i++) {\n\t\t\t\t\t\tif (parentNode[childKey][i] == node) return i;\n\t\t\t\t\t}\n\t\t\t\t\treturn -1;\n\t\t\t\t},\n\t\t\t\tgetSelectedNodes : function() {\n\t\t\t\t\tvar r = [], list = data.getRoot(setting).curSelectedList;\n\t\t\t\t\tfor (var i=0, l=list.length; i<l; i++) {\n\t\t\t\t\t\tr.push(list[i]);\n\t\t\t\t\t}\n\t\t\t\t\treturn r;\n\t\t\t\t},\n\t\t\t\tisSelectedNode : function(node) {\n\t\t\t\t\treturn data.isSelectedNode(setting, node);\n\t\t\t\t},\n\t\t\t\treAsyncChildNodes : function(parentNode, reloadType, isSilent) {\n\t\t\t\t\tif (!this.setting.async.enable) return;\n\t\t\t\t\tvar isRoot = !parentNode;\n\t\t\t\t\tif (isRoot) {\n\t\t\t\t\t\tparentNode = data.getRoot(setting);\n\t\t\t\t\t}\n\t\t\t\t\tif (reloadType==\"refresh\") {\n\t\t\t\t\t\tvar childKey = this.setting.data.key.children;\n\t\t\t\t\t\tfor (var i = 0, l = parentNode[childKey] ? parentNode[childKey].length : 0; i < l; i++) {\n\t\t\t\t\t\t\tdata.removeNodeCache(setting, parentNode[childKey][i]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdata.removeSelectedNode(setting);\n\t\t\t\t\t\tparentNode[childKey] = [];\n\t\t\t\t\t\tif (isRoot) {\n\t\t\t\t\t\t\tthis.setting.treeObj.empty();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tvar ulObj = $$(parentNode, consts.id.UL, setting);\n\t\t\t\t\t\t\tulObj.empty();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tview.asyncNode(this.setting, isRoot? null:parentNode, !!isSilent);\n\t\t\t\t},\n\t\t\t\trefresh : function() {\n\t\t\t\t\tthis.setting.treeObj.empty();\n\t\t\t\t\tvar root = data.getRoot(setting),\n\t\t\t\t\tnodes = root[setting.data.key.children]\n\t\t\t\t\tdata.initRoot(setting);\n\t\t\t\t\troot[setting.data.key.children] = nodes\n\t\t\t\t\tdata.initCache(setting);\n\t\t\t\t\tview.createNodes(setting, 0, root[setting.data.key.children], null, -1);\n\t\t\t\t},\n\t\t\t\tremoveChildNodes : function(node) {\n\t\t\t\t\tif (!node) return null;\n\t\t\t\t\tvar childKey = setting.data.key.children,\n\t\t\t\t\tnodes = node[childKey];\n\t\t\t\t\tview.removeChildNodes(setting, node);\n\t\t\t\t\treturn nodes ? nodes : null;\n\t\t\t\t},\n\t\t\t\tremoveNode : function(node, callbackFlag) {\n\t\t\t\t\tif (!node) return;\n\t\t\t\t\tcallbackFlag = !!callbackFlag;\n\t\t\t\t\tif (callbackFlag && tools.apply(setting.callback.beforeRemove, [setting.treeId, node], true) == false) return;\n\t\t\t\t\tview.removeNode(setting, node);\n\t\t\t\t\tif (callbackFlag) {\n\t\t\t\t\t\tthis.setting.treeObj.trigger(consts.event.REMOVE, [setting.treeId, node]);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tselectNode : function(node, addFlag, isSilent) {\n\t\t\t\t\tif (!node) return;\n\t\t\t\t\tif (tools.uCanDo(setting)) {\n\t\t\t\t\t\taddFlag = setting.view.selectedMulti && addFlag;\n\t\t\t\t\t\tif (node.parentTId) {\n\t\t\t\t\t\t\tview.expandCollapseParentNode(setting, node.getParentNode(), true, false, showNodeFocus);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttry{$$(node, setting).focus().blur();}catch(e){}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tview.selectNode(setting, node, addFlag);\n\t\t\t\t\t}\n\n\t\t\t\t\tfunction showNodeFocus() {\n\t\t\t\t\t\tif (isSilent) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar a = $$(node, setting).get(0);\n\t\t\t\t\t\tview.scrollIntoView(a);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\ttransformTozTreeNodes : function(simpleNodes) {\n\t\t\t\t\treturn data.transformTozTreeFormat(setting, simpleNodes);\n\t\t\t\t},\n\t\t\t\ttransformToArray : function(nodes) {\n\t\t\t\t\treturn data.transformToArrayFormat(setting, nodes);\n\t\t\t\t},\n\t\t\t\tupdateNode : function(node, checkTypeFlag) {\n\t\t\t\t\tif (!node) return;\n\t\t\t\t\tvar nObj = $$(node, setting);\n\t\t\t\t\tif (nObj.get(0) && tools.uCanDo(setting)) {\n\t\t\t\t\t\tview.setNodeName(setting, node);\n\t\t\t\t\t\tview.setNodeTarget(setting, node);\n\t\t\t\t\t\tview.setNodeUrl(setting, node);\n\t\t\t\t\t\tview.setNodeLineIcos(setting, node);\n\t\t\t\t\t\tview.setNodeFontCss(setting, node);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\troot.treeTools = zTreeTools;\n\t\t\tdata.setZTreeTools(setting, zTreeTools);\n\n\t\t\tif (root[childKey] && root[childKey].length > 0) {\n\t\t\t\tview.createNodes(setting, 0, root[childKey], null, -1);\n\t\t\t} else if (setting.async.enable && setting.async.url && setting.async.url !== '') {\n\t\t\t\tview.asyncNode(setting);\n\t\t\t}\n\t\t\treturn zTreeTools;\n\t\t}\n\t};\n\n\tvar zt = $.fn.zTree,\n\t$$ = tools.$,\n\tconsts = zt.consts;\n})(jQuery);\n/*\n * JQuery zTree excheck v3.5.23\n * http://zTree.me/\n *\n * Copyright (c) 2010 Hunter.z\n *\n * Licensed same as jquery - MIT License\n * http://www.opensource.org/licenses/mit-license.php\n *\n * email: hunter.z@263.net\n * Date: 2016-04-01\n */\n(function($){\n\t//default consts of excheck\n\tvar _consts = {\n\t\tevent: {\n\t\t\tCHECK: \"ztree_check\"\n\t\t},\n\t\tid: {\n\t\t\tCHECK: \"_check\"\n\t\t},\n\t\tcheckbox: {\n\t\t\tSTYLE: \"checkbox\",\n\t\t\tDEFAULT: \"chk\",\n\t\t\tDISABLED: \"disable\",\n\t\t\tFALSE: \"false\",\n\t\t\tTRUE: \"true\",\n\t\t\tFULL: \"full\",\n\t\t\tPART: \"part\",\n\t\t\tFOCUS: \"focus\"\n\t\t},\n\t\tradio: {\n\t\t\tSTYLE: \"radio\",\n\t\t\tTYPE_ALL: \"all\",\n\t\t\tTYPE_LEVEL: \"level\"\n\t\t}\n\t},\n\t//default setting of excheck\n\t_setting = {\n\t\tcheck: {\n\t\t\tenable: false,\n\t\t\tautoCheckTrigger: false,\n\t\t\tchkStyle: _consts.checkbox.STYLE,\n\t\t\tnocheckInherit: false,\n\t\t\tchkDisabledInherit: false,\n\t\t\tradioType: _consts.radio.TYPE_LEVEL,\n\t\t\tchkboxType: {\n\t\t\t\t\"Y\": \"ps\",\n\t\t\t\t\"N\": \"ps\"\n\t\t\t}\n\t\t},\n\t\tdata: {\n\t\t\tkey: {\n\t\t\t\tchecked: \"checked\"\n\t\t\t}\n\t\t},\n\t\tcallback: {\n\t\t\tbeforeCheck:null,\n\t\t\tonCheck:null\n\t\t}\n\t},\n\t//default root of excheck\n\t_initRoot = function (setting) {\n\t\tvar r = data.getRoot(setting);\n\t\tr.radioCheckedList = [];\n\t},\n\t//default cache of excheck\n\t_initCache = function(treeId) {},\n\t//default bind event of excheck\n\t_bindEvent = function(setting) {\n\t\tvar o = setting.treeObj,\n\t\tc = consts.event;\n\t\to.bind(c.CHECK, function (event, srcEvent, treeId, node) {\n\t\t\tevent.srcEvent = srcEvent;\n\t\t\ttools.apply(setting.callback.onCheck, [event, treeId, node]);\n\t\t});\n\t},\n\t_unbindEvent = function(setting) {\n\t\tvar o = setting.treeObj,\n\t\tc = consts.event;\n\t\to.unbind(c.CHECK);\n\t},\n\t//default event proxy of excheck\n\t_eventProxy = function(e) {\n\t\tvar target = e.target,\n\t\tsetting = data.getSetting(e.data.treeId),\n\t\ttId = \"\", node = null,\n\t\tnodeEventType = \"\", treeEventType = \"\",\n\t\tnodeEventCallback = null, treeEventCallback = null;\n\n\t\tif (tools.eqs(e.type, \"mouseover\")) {\n\t\t\tif (setting.check.enable && tools.eqs(target.tagName, \"span\") && target.getAttribute(\"treeNode\"+ consts.id.CHECK) !== null) {\n\t\t\t\ttId = tools.getNodeMainDom(target).id;\n\t\t\t\tnodeEventType = \"mouseoverCheck\";\n\t\t\t}\n\t\t} else if (tools.eqs(e.type, \"mouseout\")) {\n\t\t\tif (setting.check.enable && tools.eqs(target.tagName, \"span\") && target.getAttribute(\"treeNode\"+ consts.id.CHECK) !== null) {\n\t\t\t\ttId = tools.getNodeMainDom(target).id;\n\t\t\t\tnodeEventType = \"mouseoutCheck\";\n\t\t\t}\n\t\t} else if (tools.eqs(e.type, \"click\")) {\n\t\t\tif (setting.check.enable && tools.eqs(target.tagName, \"span\") && target.getAttribute(\"treeNode\"+ consts.id.CHECK) !== null) {\n\t\t\t\ttId = tools.getNodeMainDom(target).id;\n\t\t\t\tnodeEventType = \"checkNode\";\n\t\t\t}\n\t\t}\n\t\tif (tId.length>0) {\n\t\t\tnode = data.getNodeCache(setting, tId);\n\t\t\tswitch (nodeEventType) {\n\t\t\t\tcase \"checkNode\" :\n\t\t\t\t\tnodeEventCallback = _handler.onCheckNode;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"mouseoverCheck\" :\n\t\t\t\t\tnodeEventCallback = _handler.onMouseoverCheck;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"mouseoutCheck\" :\n\t\t\t\t\tnodeEventCallback = _handler.onMouseoutCheck;\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tvar proxyResult = {\n\t\t\tstop: nodeEventType === \"checkNode\",\n\t\t\tnode: node,\n\t\t\tnodeEventType: nodeEventType,\n\t\t\tnodeEventCallback: nodeEventCallback,\n\t\t\ttreeEventType: treeEventType,\n\t\t\ttreeEventCallback: treeEventCallback\n\t\t};\n\t\treturn proxyResult\n\t},\n\t//default init node of excheck\n\t_initNode = function(setting, level, n, parentNode, isFirstNode, isLastNode, openFlag) {\n\t\tif (!n) return;\n\t\tvar checkedKey = setting.data.key.checked;\n\t\tif (typeof n[checkedKey] == \"string\") n[checkedKey] = tools.eqs(n[checkedKey], \"true\");\n\t\tn[checkedKey] = !!n[checkedKey];\n\t\tn.checkedOld = n[checkedKey];\n\t\tif (typeof n.nocheck == \"string\") n.nocheck = tools.eqs(n.nocheck, \"true\");\n\t\tn.nocheck = !!n.nocheck || (setting.check.nocheckInherit && parentNode && !!parentNode.nocheck);\n\t\tif (typeof n.chkDisabled == \"string\") n.chkDisabled = tools.eqs(n.chkDisabled, \"true\");\n\t\tn.chkDisabled = !!n.chkDisabled || (setting.check.chkDisabledInherit && parentNode && !!parentNode.chkDisabled);\n\t\tif (typeof n.halfCheck == \"string\") n.halfCheck = tools.eqs(n.halfCheck, \"true\");\n\t\tn.halfCheck = !!n.halfCheck;\n\t\tn.check_Child_State = -1;\n\t\tn.check_Focus = false;\n\t\tn.getCheckStatus = function() {return data.getCheckStatus(setting, n);};\n\n\t\tif (setting.check.chkStyle == consts.radio.STYLE && setting.check.radioType == consts.radio.TYPE_ALL && n[checkedKey] ) {\n\t\t\tvar r = data.getRoot(setting);\n\t\t\tr.radioCheckedList.push(n);\n\t\t}\n\t},\n\t//add dom for check\n\t_beforeA = function(setting, node, html) {\n\t\tvar checkedKey = setting.data.key.checked;\n\t\tif (setting.check.enable) {\n\t\t\tdata.makeChkFlag(setting, node);\n\t\t\thtml.push(\"<span ID='\", node.tId, consts.id.CHECK, \"' class='\", view.makeChkClass(setting, node), \"' treeNode\", consts.id.CHECK, (node.nocheck === true?\" style='display:none;'\":\"\"),\"></span>\");\n\t\t}\n\t},\n\t//update zTreeObj, add method of check\n\t_zTreeTools = function(setting, zTreeTools) {\n\t\tzTreeTools.checkNode = function(node, checked, checkTypeFlag, callbackFlag) {\n\t\t\tvar checkedKey = this.setting.data.key.checked;\n\t\t\tif (node.chkDisabled === true) return;\n\t\t\tif (checked !== true && checked !== false) {\n\t\t\t\tchecked = !node[checkedKey];\n\t\t\t}\n\t\t\tcallbackFlag = !!callbackFlag;\n\n\t\t\tif (node[checkedKey] === checked && !checkTypeFlag) {\n\t\t\t\treturn;\n\t\t\t} else if (callbackFlag && tools.apply(this.setting.callback.beforeCheck, [this.setting.treeId, node], true) == false) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (tools.uCanDo(this.setting) && this.setting.check.enable && node.nocheck !== true) {\n\t\t\t\tnode[checkedKey] = checked;\n\t\t\t\tvar checkObj = $$(node, consts.id.CHECK, this.setting);\n\t\t\t\tif (checkTypeFlag || this.setting.check.chkStyle === consts.radio.STYLE) view.checkNodeRelation(this.setting, node);\n\t\t\t\tview.setChkClass(this.setting, checkObj, node);\n\t\t\t\tview.repairParentChkClassWithSelf(this.setting, node);\n\t\t\t\tif (callbackFlag) {\n\t\t\t\t\tthis.setting.treeObj.trigger(consts.event.CHECK, [null, this.setting.treeId, node]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tzTreeTools.checkAllNodes = function(checked) {\n\t\t\tview.repairAllChk(this.setting, !!checked);\n\t\t}\n\n\t\tzTreeTools.getCheckedNodes = function(checked) {\n\t\t\tvar childKey = this.setting.data.key.children;\n\t\t\tchecked = (checked !== false);\n\t\t\treturn data.getTreeCheckedNodes(this.setting, data.getRoot(this.setting)[childKey], checked);\n\t\t}\n\n\t\tzTreeTools.getChangeCheckedNodes = function() {\n\t\t\tvar childKey = this.setting.data.key.children;\n\t\t\treturn data.getTreeChangeCheckedNodes(this.setting, data.getRoot(this.setting)[childKey]);\n\t\t}\n\n\t\tzTreeTools.setChkDisabled = function(node, disabled, inheritParent, inheritChildren) {\n\t\t\tdisabled = !!disabled;\n\t\t\tinheritParent = !!inheritParent;\n\t\t\tinheritChildren = !!inheritChildren;\n\t\t\tview.repairSonChkDisabled(this.setting, node, disabled, inheritChildren);\n\t\t\tview.repairParentChkDisabled(this.setting, node.getParentNode(), disabled, inheritParent);\n\t\t}\n\n\t\tvar _updateNode = zTreeTools.updateNode;\n\t\tzTreeTools.updateNode = function(node, checkTypeFlag) {\n\t\t\tif (_updateNode) _updateNode.apply(zTreeTools, arguments);\n\t\t\tif (!node || !this.setting.check.enable) return;\n\t\t\tvar nObj = $$(node, this.setting);\n\t\t\tif (nObj.get(0) && tools.uCanDo(this.setting)) {\n\t\t\t\tvar checkObj = $$(node, consts.id.CHECK, this.setting);\n\t\t\t\tif (checkTypeFlag == true || this.setting.check.chkStyle === consts.radio.STYLE) view.checkNodeRelation(this.setting, node);\n\t\t\t\tview.setChkClass(this.setting, checkObj, node);\n\t\t\t\tview.repairParentChkClassWithSelf(this.setting, node);\n\t\t\t}\n\t\t}\n\t},\n\t//method of operate data\n\t_data = {\n\t\tgetRadioCheckedList: function(setting) {\n\t\t\tvar checkedList = data.getRoot(setting).radioCheckedList;\n\t\t\tfor (var i=0, j=checkedList.length; i<j; i++) {\n\t\t\t\tif(!data.getNodeCache(setting, checkedList[i].tId)) {\n\t\t\t\t\tcheckedList.splice(i, 1);\n\t\t\t\t\ti--; j--;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn checkedList;\n\t\t},\n\t\tgetCheckStatus: function(setting, node) {\n\t\t\tif (!setting.check.enable || node.nocheck || node.chkDisabled) return null;\n\t\t\tvar checkedKey = setting.data.key.checked,\n\t\t\tr = {\n\t\t\t\tchecked: node[checkedKey],\n\t\t\t\thalf: node.halfCheck ? node.halfCheck : (setting.check.chkStyle == consts.radio.STYLE ? (node.check_Child_State === 2) : (node[checkedKey] ? (node.check_Child_State > -1 && node.check_Child_State < 2) : (node.check_Child_State > 0)))\n\t\t\t};\n\t\t\treturn r;\n\t\t},\n\t\tgetTreeCheckedNodes: function(setting, nodes, checked, results) {\n\t\t\tif (!nodes) return [];\n\t\t\tvar childKey = setting.data.key.children,\n\t\t\tcheckedKey = setting.data.key.checked,\n\t\t\tonlyOne = (checked && setting.check.chkStyle == consts.radio.STYLE && setting.check.radioType == consts.radio.TYPE_ALL);\n\t\t\tresults = !results ? [] : results;\n\t\t\tfor (var i = 0, l = nodes.length; i < l; i++) {\n\t\t\t\tif (nodes[i].nocheck !== true && nodes[i].chkDisabled !== true && nodes[i][checkedKey] == checked) {\n\t\t\t\t\tresults.push(nodes[i]);\n\t\t\t\t\tif(onlyOne) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tdata.getTreeCheckedNodes(setting, nodes[i][childKey], checked, results);\n\t\t\t\tif(onlyOne && results.length > 0) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn results;\n\t\t},\n\t\tgetTreeChangeCheckedNodes: function(setting, nodes, results) {\n\t\t\tif (!nodes) return [];\n\t\t\tvar childKey = setting.data.key.children,\n\t\t\tcheckedKey = setting.data.key.checked;\n\t\t\tresults = !results ? [] : results;\n\t\t\tfor (var i = 0, l = nodes.length; i < l; i++) {\n\t\t\t\tif (nodes[i].nocheck !== true && nodes[i].chkDisabled !== true && nodes[i][checkedKey] != nodes[i].checkedOld) {\n\t\t\t\t\tresults.push(nodes[i]);\n\t\t\t\t}\n\t\t\t\tdata.getTreeChangeCheckedNodes(setting, nodes[i][childKey], results);\n\t\t\t}\n\t\t\treturn results;\n\t\t},\n\t\tmakeChkFlag: function(setting, node) {\n\t\t\tif (!node) return;\n\t\t\tvar childKey = setting.data.key.children,\n\t\t\tcheckedKey = setting.data.key.checked,\n\t\t\tchkFlag = -1;\n\t\t\tif (node[childKey]) {\n\t\t\t\tfor (var i = 0, l = node[childKey].length; i < l; i++) {\n\t\t\t\t\tvar cNode = node[childKey][i];\n\t\t\t\t\tvar tmp = -1;\n\t\t\t\t\tif (setting.check.chkStyle == consts.radio.STYLE) {\n\t\t\t\t\t\tif (cNode.nocheck === true || cNode.chkDisabled === true) {\n\t\t\t\t\t\t\ttmp = cNode.check_Child_State;\n\t\t\t\t\t\t} else if (cNode.halfCheck === true) {\n\t\t\t\t\t\t\ttmp = 2;\n\t\t\t\t\t\t} else if (cNode[checkedKey]) {\n\t\t\t\t\t\t\ttmp = 2;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttmp = cNode.check_Child_State > 0 ? 2:0;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (tmp == 2) {\n\t\t\t\t\t\t\tchkFlag = 2; break;\n\t\t\t\t\t\t} else if (tmp == 0){\n\t\t\t\t\t\t\tchkFlag = 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (setting.check.chkStyle == consts.checkbox.STYLE) {\n\t\t\t\t\t\tif (cNode.nocheck === true || cNode.chkDisabled === true) {\n\t\t\t\t\t\t\ttmp = cNode.check_Child_State;\n\t\t\t\t\t\t} else if (cNode.halfCheck === true) {\n\t\t\t\t\t\t\ttmp = 1;\n\t\t\t\t\t\t} else if (cNode[checkedKey] ) {\n\t\t\t\t\t\t\ttmp = (cNode.check_Child_State === -1 || cNode.check_Child_State === 2) ? 2 : 1;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttmp = (cNode.check_Child_State > 0) ? 1 : 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (tmp === 1) {\n\t\t\t\t\t\t\tchkFlag = 1; break;\n\t\t\t\t\t\t} else if (tmp === 2 && chkFlag > -1 && i > 0 && tmp !== chkFlag) {\n\t\t\t\t\t\t\tchkFlag = 1; break;\n\t\t\t\t\t\t} else if (chkFlag === 2 && tmp > -1 && tmp < 2) {\n\t\t\t\t\t\t\tchkFlag = 1; break;\n\t\t\t\t\t\t} else if (tmp > -1) {\n\t\t\t\t\t\t\tchkFlag = tmp;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tnode.check_Child_State = chkFlag;\n\t\t}\n\t},\n\t//method of event proxy\n\t_event = {\n\n\t},\n\t//method of event handler\n\t_handler = {\n\t\tonCheckNode: function (event, node) {\n\t\t\tif (node.chkDisabled === true) return false;\n\t\t\tvar setting = data.getSetting(event.data.treeId),\n\t\t\tcheckedKey = setting.data.key.checked;\n\t\t\tif (tools.apply(setting.callback.beforeCheck, [setting.treeId, node], true) == false) return true;\n\t\t\tnode[checkedKey] = !node[checkedKey];\n\t\t\tview.checkNodeRelation(setting, node);\n\t\t\tvar checkObj = $$(node, consts.id.CHECK, setting);\n\t\t\tview.setChkClass(setting, checkObj, node);\n\t\t\tview.repairParentChkClassWithSelf(setting, node);\n\t\t\tsetting.treeObj.trigger(consts.event.CHECK, [event, setting.treeId, node]);\n\t\t\treturn true;\n\t\t},\n\t\tonMouseoverCheck: function(event, node) {\n\t\t\tif (node.chkDisabled === true) return false;\n\t\t\tvar setting = data.getSetting(event.data.treeId),\n\t\t\tcheckObj = $$(node, consts.id.CHECK, setting);\n\t\t\tnode.check_Focus = true;\n\t\t\tview.setChkClass(setting, checkObj, node);\n\t\t\treturn true;\n\t\t},\n\t\tonMouseoutCheck: function(event, node) {\n\t\t\tif (node.chkDisabled === true) return false;\n\t\t\tvar setting = data.getSetting(event.data.treeId),\n\t\t\tcheckObj = $$(node, consts.id.CHECK, setting);\n\t\t\tnode.check_Focus = false;\n\t\t\tview.setChkClass(setting, checkObj, node);\n\t\t\treturn true;\n\t\t}\n\t},\n\t//method of tools for zTree\n\t_tools = {\n\n\t},\n\t//method of operate ztree dom\n\t_view = {\n\t\tcheckNodeRelation: function(setting, node) {\n\t\t\tvar pNode, i, l,\n\t\t\tchildKey = setting.data.key.children,\n\t\t\tcheckedKey = setting.data.key.checked,\n\t\t\tr = consts.radio;\n\t\t\tif (setting.check.chkStyle == r.STYLE) {\n\t\t\t\tvar checkedList = data.getRadioCheckedList(setting);\n\t\t\t\tif (node[checkedKey]) {\n\t\t\t\t\tif (setting.check.radioType == r.TYPE_ALL) {\n\t\t\t\t\t\tfor (i = checkedList.length-1; i >= 0; i--) {\n\t\t\t\t\t\t\tpNode = checkedList[i];\n\t\t\t\t\t\t\tif (pNode[checkedKey] && pNode != node) {\n\t\t\t\t\t\t\t\tpNode[checkedKey] = false;\n\t\t\t\t\t\t\t\tcheckedList.splice(i, 1);\n\n\t\t\t\t\t\t\t\tview.setChkClass(setting, $$(pNode, consts.id.CHECK, setting), pNode);\n\t\t\t\t\t\t\t\tif (pNode.parentTId != node.parentTId) {\n\t\t\t\t\t\t\t\t\tview.repairParentChkClassWithSelf(setting, pNode);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcheckedList.push(node);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar parentNode = (node.parentTId) ? node.getParentNode() : data.getRoot(setting);\n\t\t\t\t\t\tfor (i = 0, l = parentNode[childKey].length; i < l; i++) {\n\t\t\t\t\t\t\tpNode = parentNode[childKey][i];\n\t\t\t\t\t\t\tif (pNode[checkedKey] && pNode != node) {\n\t\t\t\t\t\t\t\tpNode[checkedKey] = false;\n\t\t\t\t\t\t\t\tview.setChkClass(setting, $$(pNode, consts.id.CHECK, setting), pNode);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else if (setting.check.radioType == r.TYPE_ALL) {\n\t\t\t\t\tfor (i = 0, l = checkedList.length; i < l; i++) {\n\t\t\t\t\t\tif (node == checkedList[i]) {\n\t\t\t\t\t\t\tcheckedList.splice(i, 1);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t} else {\n\t\t\t\tif (node[checkedKey] && (!node[childKey] || node[childKey].length==0 || setting.check.chkboxType.Y.indexOf(\"s\") > -1)) {\n\t\t\t\t\tview.setSonNodeCheckBox(setting, node, true);\n\t\t\t\t}\n\t\t\t\tif (!node[checkedKey] && (!node[childKey] || node[childKey].length==0 || setting.check.chkboxType.N.indexOf(\"s\") > -1)) {\n\t\t\t\t\tview.setSonNodeCheckBox(setting, node, false);\n\t\t\t\t}\n\t\t\t\tif (node[checkedKey] && setting.check.chkboxType.Y.indexOf(\"p\") > -1) {\n\t\t\t\t\tview.setParentNodeCheckBox(setting, node, true);\n\t\t\t\t}\n\t\t\t\tif (!node[checkedKey] && setting.check.chkboxType.N.indexOf(\"p\") > -1) {\n\t\t\t\t\tview.setParentNodeCheckBox(setting, node, false);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tmakeChkClass: function(setting, node) {\n\t\t\tvar checkedKey = setting.data.key.checked,\n\t\t\tc = consts.checkbox, r = consts.radio,\n\t\t\tfullStyle = \"\";\n\t\t\tif (node.chkDisabled === true) {\n\t\t\t\tfullStyle = c.DISABLED;\n\t\t\t} else if (node.halfCheck) {\n\t\t\t\tfullStyle = c.PART;\n\t\t\t} else if (setting.check.chkStyle == r.STYLE) {\n\t\t\t\tfullStyle = (node.check_Child_State < 1)? c.FULL:c.PART;\n\t\t\t} else {\n\t\t\t\tfullStyle = node[checkedKey] ? ((node.check_Child_State === 2 || node.check_Child_State === -1) ? c.FULL:c.PART) : ((node.check_Child_State < 1)? c.FULL:c.PART);\n\t\t\t}\n\t\t\tvar chkName = setting.check.chkStyle + \"_\" + (node[checkedKey] ? c.TRUE : c.FALSE) + \"_\" + fullStyle;\n\t\t\tchkName = (node.check_Focus && node.chkDisabled !== true) ? chkName + \"_\" + c.FOCUS : chkName;\n\t\t\treturn consts.className.BUTTON + \" \" + c.DEFAULT + \" \" + chkName;\n\t\t},\n\t\trepairAllChk: function(setting, checked) {\n\t\t\tif (setting.check.enable && setting.check.chkStyle === consts.checkbox.STYLE) {\n\t\t\t\tvar checkedKey = setting.data.key.checked,\n\t\t\t\tchildKey = setting.data.key.children,\n\t\t\t\troot = data.getRoot(setting);\n\t\t\t\tfor (var i = 0, l = root[childKey].length; i<l ; i++) {\n\t\t\t\t\tvar node = root[childKey][i];\n\t\t\t\t\tif (node.nocheck !== true && node.chkDisabled !== true) {\n\t\t\t\t\t\tnode[checkedKey] = checked;\n\t\t\t\t\t}\n\t\t\t\t\tview.setSonNodeCheckBox(setting, node, checked);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\trepairChkClass: function(setting, node) {\n\t\t\tif (!node) return;\n\t\t\tdata.makeChkFlag(setting, node);\n\t\t\tif (node.nocheck !== true) {\n\t\t\t\tvar checkObj = $$(node, consts.id.CHECK, setting);\n\t\t\t\tview.setChkClass(setting, checkObj, node);\n\t\t\t}\n\t\t},\n\t\trepairParentChkClass: function(setting, node) {\n\t\t\tif (!node || !node.parentTId) return;\n\t\t\tvar pNode = node.getParentNode();\n\t\t\tview.repairChkClass(setting, pNode);\n\t\t\tview.repairParentChkClass(setting, pNode);\n\t\t},\n\t\trepairParentChkClassWithSelf: function(setting, node) {\n\t\t\tif (!node) return;\n\t\t\tvar childKey = setting.data.key.children;\n\t\t\tif (node[childKey] && node[childKey].length > 0) {\n\t\t\t\tview.repairParentChkClass(setting, node[childKey][0]);\n\t\t\t} else {\n\t\t\t\tview.repairParentChkClass(setting, node);\n\t\t\t}\n\t\t},\n\t\trepairSonChkDisabled: function(setting, node, chkDisabled, inherit) {\n\t\t\tif (!node) return;\n\t\t\tvar childKey = setting.data.key.children;\n\t\t\tif (node.chkDisabled != chkDisabled) {\n\t\t\t\tnode.chkDisabled = chkDisabled;\n\t\t\t}\n\t\t\tview.repairChkClass(setting, node);\n\t\t\tif (node[childKey] && inherit) {\n\t\t\t\tfor (var i = 0, l = node[childKey].length; i < l; i++) {\n\t\t\t\t\tvar sNode = node[childKey][i];\n\t\t\t\t\tview.repairSonChkDisabled(setting, sNode, chkDisabled, inherit);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\trepairParentChkDisabled: function(setting, node, chkDisabled, inherit) {\n\t\t\tif (!node) return;\n\t\t\tif (node.chkDisabled != chkDisabled && inherit) {\n\t\t\t\tnode.chkDisabled = chkDisabled;\n\t\t\t}\n\t\t\tview.repairChkClass(setting, node);\n\t\t\tview.repairParentChkDisabled(setting, node.getParentNode(), chkDisabled, inherit);\n\t\t},\n\t\tsetChkClass: function(setting, obj, node) {\n\t\t\tif (!obj) return;\n\t\t\tif (node.nocheck === true) {\n\t\t\t\tobj.hide();\n\t\t\t} else {\n\t\t\t\tobj.show();\n\t\t\t}\n            obj.attr('class', view.makeChkClass(setting, node));\n\t\t},\n\t\tsetParentNodeCheckBox: function(setting, node, value, srcNode) {\n\t\t\tvar childKey = setting.data.key.children,\n\t\t\tcheckedKey = setting.data.key.checked,\n\t\t\tcheckObj = $$(node, consts.id.CHECK, setting);\n\t\t\tif (!srcNode) srcNode = node;\n\t\t\tdata.makeChkFlag(setting, node);\n\t\t\tif (node.nocheck !== true && node.chkDisabled !== true) {\n\t\t\t\tnode[checkedKey] = value;\n\t\t\t\tview.setChkClass(setting, checkObj, node);\n\t\t\t\tif (setting.check.autoCheckTrigger && node != srcNode) {\n\t\t\t\t\tsetting.treeObj.trigger(consts.event.CHECK, [null, setting.treeId, node]);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (node.parentTId) {\n\t\t\t\tvar pSign = true;\n\t\t\t\tif (!value) {\n\t\t\t\t\tvar pNodes = node.getParentNode()[childKey];\n\t\t\t\t\tfor (var i = 0, l = pNodes.length; i < l; i++) {\n\t\t\t\t\t\tif ((pNodes[i].nocheck !== true && pNodes[i].chkDisabled !== true && pNodes[i][checkedKey])\n\t\t\t\t\t\t|| ((pNodes[i].nocheck === true || pNodes[i].chkDisabled === true) && pNodes[i].check_Child_State > 0)) {\n\t\t\t\t\t\t\tpSign = false;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (pSign) {\n\t\t\t\t\tview.setParentNodeCheckBox(setting, node.getParentNode(), value, srcNode);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tsetSonNodeCheckBox: function(setting, node, value, srcNode) {\n\t\t\tif (!node) return;\n\t\t\tvar childKey = setting.data.key.children,\n\t\t\tcheckedKey = setting.data.key.checked,\n\t\t\tcheckObj = $$(node, consts.id.CHECK, setting);\n\t\t\tif (!srcNode) srcNode = node;\n\n\t\t\tvar hasDisable = false;\n\t\t\tif (node[childKey]) {\n\t\t\t\tfor (var i = 0, l = node[childKey].length; i < l; i++) {\n\t\t\t\t\tvar sNode = node[childKey][i];\n\t\t\t\t\tview.setSonNodeCheckBox(setting, sNode, value, srcNode);\n\t\t\t\t\tif (sNode.chkDisabled === true) hasDisable = true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (node != data.getRoot(setting) && node.chkDisabled !== true) {\n\t\t\t\tif (hasDisable && node.nocheck !== true) {\n\t\t\t\t\tdata.makeChkFlag(setting, node);\n\t\t\t\t}\n\t\t\t\tif (node.nocheck !== true && node.chkDisabled !== true) {\n\t\t\t\t\tnode[checkedKey] = value;\n\t\t\t\t\tif (!hasDisable) node.check_Child_State = (node[childKey] && node[childKey].length > 0) ? (value ? 2 : 0) : -1;\n\t\t\t\t} else {\n\t\t\t\t\tnode.check_Child_State = -1;\n\t\t\t\t}\n\t\t\t\tview.setChkClass(setting, checkObj, node);\n\t\t\t\tif (setting.check.autoCheckTrigger && node != srcNode && node.nocheck !== true && node.chkDisabled !== true) {\n\t\t\t\t\tsetting.treeObj.trigger(consts.event.CHECK, [null, setting.treeId, node]);\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\t},\n\n\t_z = {\n\t\ttools: _tools,\n\t\tview: _view,\n\t\tevent: _event,\n\t\tdata: _data\n\t};\n\t$.extend(true, $.fn.zTree.consts, _consts);\n\t$.extend(true, $.fn.zTree._z, _z);\n\n\tvar zt = $.fn.zTree,\n\ttools = zt._z.tools,\n\tconsts = zt.consts,\n\tview = zt._z.view,\n\tdata = zt._z.data,\n\tevent = zt._z.event,\n\t$$ = tools.$;\n\n\tdata.exSetting(_setting);\n\tdata.addInitBind(_bindEvent);\n\tdata.addInitUnBind(_unbindEvent);\n\tdata.addInitCache(_initCache);\n\tdata.addInitNode(_initNode);\n\tdata.addInitProxy(_eventProxy, true);\n\tdata.addInitRoot(_initRoot);\n\tdata.addBeforeA(_beforeA);\n\tdata.addZTreeTools(_zTreeTools);\n\n\tvar _createNodes = view.createNodes;\n\tview.createNodes = function(setting, level, nodes, parentNode, index) {\n\t\tif (_createNodes) _createNodes.apply(view, arguments);\n\t\tif (!nodes) return;\n\t\tview.repairParentChkClassWithSelf(setting, parentNode);\n\t}\n\tvar _removeNode = view.removeNode;\n\tview.removeNode = function(setting, node) {\n\t\tvar parentNode = node.getParentNode();\n\t\tif (_removeNode) _removeNode.apply(view, arguments);\n\t\tif (!node || !parentNode) return;\n\t\tview.repairChkClass(setting, parentNode);\n\t\tview.repairParentChkClass(setting, parentNode);\n\t}\n\n\tvar _appendNodes = view.appendNodes;\n\tview.appendNodes = function(setting, level, nodes, parentNode, index, initFlag, openFlag) {\n\t\tvar html = \"\";\n\t\tif (_appendNodes) {\n\t\t\thtml = _appendNodes.apply(view, arguments);\n\t\t}\n\t\tif (parentNode) {\n\t\t\tdata.makeChkFlag(setting, parentNode);\n\t\t}\n\t\treturn html;\n\t}\n})(jQuery);\n/*\n * JQuery zTree exedit v3.5.23\n * http://zTree.me/\n *\n * Copyright (c) 2010 Hunter.z\n *\n * Licensed same as jquery - MIT License\n * http://www.opensource.org/licenses/mit-license.php\n *\n * email: hunter.z@263.net\n * Date: 2016-04-01\n */\n(function($){\n\t//default consts of exedit\n\tvar _consts = {\n\t\tevent: {\n\t\t\tDRAG: \"ztree_drag\",\n\t\t\tDROP: \"ztree_drop\",\n\t\t\tRENAME: \"ztree_rename\",\n\t\t\tDRAGMOVE:\"ztree_dragmove\"\n\t\t},\n\t\tid: {\n\t\t\tEDIT: \"_edit\",\n\t\t\tINPUT: \"_input\",\n\t\t\tREMOVE: \"_remove\"\n\t\t},\n\t\tmove: {\n\t\t\tTYPE_INNER: \"inner\",\n\t\t\tTYPE_PREV: \"prev\",\n\t\t\tTYPE_NEXT: \"next\"\n\t\t},\n\t\tnode: {\n\t\t\tCURSELECTED_EDIT: \"curSelectedNode_Edit\",\n\t\t\tTMPTARGET_TREE: \"tmpTargetzTree\",\n\t\t\tTMPTARGET_NODE: \"tmpTargetNode\"\n\t\t}\n\t},\n\t//default setting of exedit\n\t_setting = {\n\t\tedit: {\n\t\t\tenable: false,\n\t\t\teditNameSelectAll: false,\n\t\t\tshowRemoveBtn: true,\n\t\t\tshowRenameBtn: true,\n\t\t\tremoveTitle: \"remove\",\n\t\t\trenameTitle: \"rename\",\n\t\t\tdrag: {\n\t\t\t\tautoExpandTrigger: false,\n\t\t\t\tisCopy: true,\n\t\t\t\tisMove: true,\n\t\t\t\tprev: true,\n\t\t\t\tnext: true,\n\t\t\t\tinner: true,\n\t\t\t\tminMoveSize: 5,\n\t\t\t\tborderMax: 10,\n\t\t\t\tborderMin: -5,\n\t\t\t\tmaxShowNodeNum: 5,\n\t\t\t\tautoOpenTime: 500\n\t\t\t}\n\t\t},\n\t\tview: {\n\t\t\taddHoverDom: null,\n\t\t\tremoveHoverDom: null\n\t\t},\n\t\tcallback: {\n\t\t\tbeforeDrag:null,\n\t\t\tbeforeDragOpen:null,\n\t\t\tbeforeDrop:null,\n\t\t\tbeforeEditName:null,\n\t\t\tbeforeRename:null,\n\t\t\tonDrag:null,\n\t\t\tonDragMove:null,\n\t\t\tonDrop:null,\n\t\t\tonRename:null\n\t\t}\n\t},\n\t//default root of exedit\n\t_initRoot = function (setting) {\n\t\tvar r = data.getRoot(setting), rs = data.getRoots();\n\t\tr.curEditNode = null;\n\t\tr.curEditInput = null;\n\t\tr.curHoverNode = null;\n\t\tr.dragFlag = 0;\n\t\tr.dragNodeShowBefore = [];\n\t\tr.dragMaskList = new Array();\n\t\trs.showHoverDom = true;\n\t},\n\t//default cache of exedit\n\t_initCache = function(treeId) {},\n\t//default bind event of exedit\n\t_bindEvent = function(setting) {\n\t\tvar o = setting.treeObj;\n\t\tvar c = consts.event;\n\t\to.bind(c.RENAME, function (event, treeId, treeNode, isCancel) {\n\t\t\ttools.apply(setting.callback.onRename, [event, treeId, treeNode, isCancel]);\n\t\t});\n\n\t\to.bind(c.DRAG, function (event, srcEvent, treeId, treeNodes) {\n\t\t\ttools.apply(setting.callback.onDrag, [srcEvent, treeId, treeNodes]);\n\t\t});\n\n\t\to.bind(c.DRAGMOVE,function(event, srcEvent, treeId, treeNodes){\n\t\t\ttools.apply(setting.callback.onDragMove,[srcEvent, treeId, treeNodes]);\n\t\t});\n\n\t\to.bind(c.DROP, function (event, srcEvent, treeId, treeNodes, targetNode, moveType, isCopy) {\n\t\t\ttools.apply(setting.callback.onDrop, [srcEvent, treeId, treeNodes, targetNode, moveType, isCopy]);\n\t\t});\n\t},\n\t_unbindEvent = function(setting) {\n\t\tvar o = setting.treeObj;\n\t\tvar c = consts.event;\n\t\to.unbind(c.RENAME);\n\t\to.unbind(c.DRAG);\n\t\to.unbind(c.DRAGMOVE);\n\t\to.unbind(c.DROP);\n\t},\n\t//default event proxy of exedit\n\t_eventProxy = function(e) {\n\t\tvar target = e.target,\n\t\tsetting = data.getSetting(e.data.treeId),\n\t\trelatedTarget = e.relatedTarget,\n\t\ttId = \"\", node = null,\n\t\tnodeEventType = \"\", treeEventType = \"\",\n\t\tnodeEventCallback = null, treeEventCallback = null,\n\t\ttmp = null;\n\n\t\tif (tools.eqs(e.type, \"mouseover\")) {\n\t\t\ttmp = tools.getMDom(setting, target, [{tagName:\"a\", attrName:\"treeNode\"+consts.id.A}]);\n\t\t\tif (tmp) {\n\t\t\t\ttId = tools.getNodeMainDom(tmp).id;\n\t\t\t\tnodeEventType = \"hoverOverNode\";\n\t\t\t}\n\t\t} else if (tools.eqs(e.type, \"mouseout\")) {\n\t\t\ttmp = tools.getMDom(setting, relatedTarget, [{tagName:\"a\", attrName:\"treeNode\"+consts.id.A}]);\n\t\t\tif (!tmp) {\n\t\t\t\ttId = \"remove\";\n\t\t\t\tnodeEventType = \"hoverOutNode\";\n\t\t\t}\n\t\t} else if (tools.eqs(e.type, \"mousedown\")) {\n\t\t\ttmp = tools.getMDom(setting, target, [{tagName:\"a\", attrName:\"treeNode\"+consts.id.A}]);\n\t\t\tif (tmp) {\n\t\t\t\ttId = tools.getNodeMainDom(tmp).id;\n\t\t\t\tnodeEventType = \"mousedownNode\";\n\t\t\t}\n\t\t}\n\t\tif (tId.length>0) {\n\t\t\tnode = data.getNodeCache(setting, tId);\n\t\t\tswitch (nodeEventType) {\n\t\t\t\tcase \"mousedownNode\" :\n\t\t\t\t\tnodeEventCallback = _handler.onMousedownNode;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"hoverOverNode\" :\n\t\t\t\t\tnodeEventCallback = _handler.onHoverOverNode;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"hoverOutNode\" :\n\t\t\t\t\tnodeEventCallback = _handler.onHoverOutNode;\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tvar proxyResult = {\n\t\t\tstop: false,\n\t\t\tnode: node,\n\t\t\tnodeEventType: nodeEventType,\n\t\t\tnodeEventCallback: nodeEventCallback,\n\t\t\ttreeEventType: treeEventType,\n\t\t\ttreeEventCallback: treeEventCallback\n\t\t};\n\t\treturn proxyResult\n\t},\n\t//default init node of exedit\n\t_initNode = function(setting, level, n, parentNode, isFirstNode, isLastNode, openFlag) {\n\t\tif (!n) return;\n\t\tn.isHover = false;\n\t\tn.editNameFlag = false;\n\t},\n\t//update zTreeObj, add method of edit\n\t_zTreeTools = function(setting, zTreeTools) {\n\t\tzTreeTools.cancelEditName = function(newName) {\n\t\t\tvar root = data.getRoot(this.setting);\n\t\t\tif (!root.curEditNode) return;\n\t\t\tview.cancelCurEditNode(this.setting, newName?newName:null, true);\n\t\t}\n\t\tzTreeTools.copyNode = function(targetNode, node, moveType, isSilent) {\n\t\t\tif (!node) return null;\n\t\t\tif (targetNode && !targetNode.isParent && this.setting.data.keep.leaf && moveType === consts.move.TYPE_INNER) return null;\n\t\t\tvar _this = this,\n\t\t\t\tnewNode = tools.clone(node);\n\t\t\tif (!targetNode) {\n\t\t\t\ttargetNode = null;\n\t\t\t\tmoveType = consts.move.TYPE_INNER;\n\t\t\t}\n\t\t\tif (moveType == consts.move.TYPE_INNER) {\n\t\t\t\tfunction copyCallback() {\n\t\t\t\t\tview.addNodes(_this.setting, targetNode, -1, [newNode], isSilent);\n\t\t\t\t}\n\n\t\t\t\tif (tools.canAsync(this.setting, targetNode)) {\n\t\t\t\t\tview.asyncNode(this.setting, targetNode, isSilent, copyCallback);\n\t\t\t\t} else {\n\t\t\t\t\tcopyCallback();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tview.addNodes(this.setting, targetNode.parentNode, -1, [newNode], isSilent);\n\t\t\t\tview.moveNode(this.setting, targetNode, newNode, moveType, false, isSilent);\n\t\t\t}\n\t\t\treturn newNode;\n\t\t}\n\t\tzTreeTools.editName = function(node) {\n\t\t\tif (!node || !node.tId || node !== data.getNodeCache(this.setting, node.tId)) return;\n\t\t\tif (node.parentTId) view.expandCollapseParentNode(this.setting, node.getParentNode(), true);\n\t\t\tview.editNode(this.setting, node)\n\t\t}\n\t\tzTreeTools.moveNode = function(targetNode, node, moveType, isSilent) {\n\t\t\tif (!node) return node;\n\t\t\tif (targetNode && !targetNode.isParent && this.setting.data.keep.leaf && moveType === consts.move.TYPE_INNER) {\n\t\t\t\treturn null;\n\t\t\t} else if (targetNode && ((node.parentTId == targetNode.tId && moveType == consts.move.TYPE_INNER) || $$(node, this.setting).find(\"#\" + targetNode.tId).length > 0)) {\n\t\t\t\treturn null;\n\t\t\t} else if (!targetNode) {\n\t\t\t\ttargetNode = null;\n\t\t\t}\n\t\t\tvar _this = this;\n\t\t\tfunction moveCallback() {\n\t\t\t\tview.moveNode(_this.setting, targetNode, node, moveType, false, isSilent);\n\t\t\t}\n\t\t\tif (tools.canAsync(this.setting, targetNode) && moveType === consts.move.TYPE_INNER) {\n\t\t\t\tview.asyncNode(this.setting, targetNode, isSilent, moveCallback);\n\t\t\t} else {\n\t\t\t\tmoveCallback();\n\t\t\t}\n\t\t\treturn node;\n\t\t}\n\t\tzTreeTools.setEditable = function(editable) {\n\t\t\tthis.setting.edit.enable = editable;\n\t\t\treturn this.refresh();\n\t\t}\n\t},\n\t//method of operate data\n\t_data = {\n\t\tsetSonNodeLevel: function(setting, parentNode, node) {\n\t\t\tif (!node) return;\n\t\t\tvar childKey = setting.data.key.children;\n\t\t\tnode.level = (parentNode)? parentNode.level + 1 : 0;\n\t\t\tif (!node[childKey]) return;\n\t\t\tfor (var i = 0, l = node[childKey].length; i < l; i++) {\n\t\t\t\tif (node[childKey][i]) data.setSonNodeLevel(setting, node, node[childKey][i]);\n\t\t\t}\n\t\t}\n\t},\n\t//method of event proxy\n\t_event = {\n\n\t},\n\t//method of event handler\n\t_handler = {\n\t\tonHoverOverNode: function(event, node) {\n\t\t\tvar setting = data.getSetting(event.data.treeId),\n\t\t\troot = data.getRoot(setting);\n\t\t\tif (root.curHoverNode != node) {\n\t\t\t\t_handler.onHoverOutNode(event);\n\t\t\t}\n\t\t\troot.curHoverNode = node;\n\t\t\tview.addHoverDom(setting, node);\n\t\t},\n\t\tonHoverOutNode: function(event, node) {\n\t\t\tvar setting = data.getSetting(event.data.treeId),\n\t\t\troot = data.getRoot(setting);\n\t\t\tif (root.curHoverNode && !data.isSelectedNode(setting, root.curHoverNode)) {\n\t\t\t\tview.removeTreeDom(setting, root.curHoverNode);\n\t\t\t\troot.curHoverNode = null;\n\t\t\t}\n\t\t},\n\t\tonMousedownNode: function(eventMouseDown, _node) {\n\t\t\tvar i,l,\n\t\t\tsetting = data.getSetting(eventMouseDown.data.treeId),\n\t\t\troot = data.getRoot(setting), roots = data.getRoots();\n\t\t\t//right click can't drag & drop\n\t\t\tif (eventMouseDown.button == 2 || !setting.edit.enable || (!setting.edit.drag.isCopy && !setting.edit.drag.isMove)) return true;\n\n\t\t\t//input of edit node name can't drag & drop\n\t\t\tvar target = eventMouseDown.target,\n\t\t\t_nodes = data.getRoot(setting).curSelectedList,\n\t\t\tnodes = [];\n\t\t\tif (!data.isSelectedNode(setting, _node)) {\n\t\t\t\tnodes = [_node];\n\t\t\t} else {\n\t\t\t\tfor (i=0, l=_nodes.length; i<l; i++) {\n\t\t\t\t\tif (_nodes[i].editNameFlag && tools.eqs(target.tagName, \"input\") && target.getAttribute(\"treeNode\"+consts.id.INPUT) !== null) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\tnodes.push(_nodes[i]);\n\t\t\t\t\tif (nodes[0].parentTId !== _nodes[i].parentTId) {\n\t\t\t\t\t\tnodes = [_node];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tview.editNodeBlur = true;\n\t\t\tview.cancelCurEditNode(setting);\n\n\t\t\tvar doc = $(setting.treeObj.get(0).ownerDocument),\n\t\t\tbody = $(setting.treeObj.get(0).ownerDocument.body), curNode, tmpArrow, tmpTarget,\n\t\t\tisOtherTree = false,\n\t\t\ttargetSetting = setting,\n\t\t\tsourceSetting = setting,\n\t\t\tpreNode, nextNode,\n\t\t\tpreTmpTargetNodeId = null,\n\t\t\tpreTmpMoveType = null,\n\t\t\ttmpTargetNodeId = null,\n\t\t\tmoveType = consts.move.TYPE_INNER,\n\t\t\tmouseDownX = eventMouseDown.clientX,\n\t\t\tmouseDownY = eventMouseDown.clientY,\n\t\t\tstartTime = (new Date()).getTime();\n\n\t\t\tif (tools.uCanDo(setting)) {\n\t\t\t\tdoc.bind(\"mousemove\", _docMouseMove);\n\t\t\t}\n\t\t\tfunction _docMouseMove(event) {\n\t\t\t\t//avoid start drag after click node\n\t\t\t\tif (root.dragFlag == 0 && Math.abs(mouseDownX - event.clientX) < setting.edit.drag.minMoveSize\n\t\t\t\t\t&& Math.abs(mouseDownY - event.clientY) < setting.edit.drag.minMoveSize) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\tvar i, l, tmpNode, tmpDom, tmpNodes,\n\t\t\t\tchildKey = setting.data.key.children;\n\t\t\t\tbody.css(\"cursor\", \"pointer\");\n\n\t\t\t\tif (root.dragFlag == 0) {\n\t\t\t\t\tif (tools.apply(setting.callback.beforeDrag, [setting.treeId, nodes], true) == false) {\n\t\t\t\t\t\t_docMouseUp(event);\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\n\t\t\t\t\tfor (i=0, l=nodes.length; i<l; i++) {\n\t\t\t\t\t\tif (i==0) {\n\t\t\t\t\t\t\troot.dragNodeShowBefore = [];\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttmpNode = nodes[i];\n\t\t\t\t\t\tif (tmpNode.isParent && tmpNode.open) {\n\t\t\t\t\t\t\tview.expandCollapseNode(setting, tmpNode, !tmpNode.open);\n\t\t\t\t\t\t\troot.dragNodeShowBefore[tmpNode.tId] = true;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\troot.dragNodeShowBefore[tmpNode.tId] = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\troot.dragFlag = 1;\n\t\t\t\t\troots.showHoverDom = false;\n\t\t\t\t\ttools.showIfameMask(setting, true);\n\n\t\t\t\t\t//sort\n\t\t\t\t\tvar isOrder = true, lastIndex = -1;\n\t\t\t\t\tif (nodes.length>1) {\n\t\t\t\t\t\tvar pNodes = nodes[0].parentTId ? nodes[0].getParentNode()[childKey] : data.getNodes(setting);\n\t\t\t\t\t\ttmpNodes = [];\n\t\t\t\t\t\tfor (i=0, l=pNodes.length; i<l; i++) {\n\t\t\t\t\t\t\tif (root.dragNodeShowBefore[pNodes[i].tId] !== undefined) {\n\t\t\t\t\t\t\t\tif (isOrder && lastIndex > -1 && (lastIndex+1) !== i) {\n\t\t\t\t\t\t\t\t\tisOrder = false;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\ttmpNodes.push(pNodes[i]);\n\t\t\t\t\t\t\t\tlastIndex = i;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (nodes.length === tmpNodes.length) {\n\t\t\t\t\t\t\t\tnodes = tmpNodes;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (isOrder) {\n\t\t\t\t\t\tpreNode = nodes[0].getPreNode();\n\t\t\t\t\t\tnextNode = nodes[nodes.length-1].getNextNode();\n\t\t\t\t\t}\n\n\t\t\t\t\t//set node in selected\n\t\t\t\t\tcurNode = $$(\"<ul class='zTreeDragUL'></ul>\", setting);\n\t\t\t\t\tfor (i=0, l=nodes.length; i<l; i++) {\n\t\t\t\t\t\ttmpNode = nodes[i];\n\t\t\t\t\t\ttmpNode.editNameFlag = false;\n\t\t\t\t\t\tview.selectNode(setting, tmpNode, i>0);\n\t\t\t\t\t\tview.removeTreeDom(setting, tmpNode);\n\n\t\t\t\t\t\tif (i > setting.edit.drag.maxShowNodeNum-1) {\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\ttmpDom = $$(\"<li id='\"+ tmpNode.tId +\"_tmp'></li>\", setting);\n\t\t\t\t\t\ttmpDom.append($$(tmpNode, consts.id.A, setting).clone());\n\t\t\t\t\t\ttmpDom.css(\"padding\", \"0\");\n\t\t\t\t\t\ttmpDom.children(\"#\" + tmpNode.tId + consts.id.A).removeClass(consts.node.CURSELECTED);\n\t\t\t\t\t\tcurNode.append(tmpDom);\n\t\t\t\t\t\tif (i == setting.edit.drag.maxShowNodeNum-1) {\n\t\t\t\t\t\t\ttmpDom = $$(\"<li id='\"+ tmpNode.tId +\"_moretmp'><a>  ...  </a></li>\", setting);\n\t\t\t\t\t\t\tcurNode.append(tmpDom);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tcurNode.attr(\"id\", nodes[0].tId + consts.id.UL + \"_tmp\");\n\t\t\t\t\tcurNode.addClass(setting.treeObj.attr(\"class\"));\n\t\t\t\t\tcurNode.appendTo(body);\n\n\t\t\t\t\ttmpArrow = $$(\"<span class='tmpzTreeMove_arrow'></span>\", setting);\n\t\t\t\t\ttmpArrow.attr(\"id\", \"zTreeMove_arrow_tmp\");\n\t\t\t\t\ttmpArrow.appendTo(body);\n\n\t\t\t\t\tsetting.treeObj.trigger(consts.event.DRAG, [event, setting.treeId, nodes]);\n\t\t\t\t}\n\n\t\t\t\tif (root.dragFlag == 1) {\n\t\t\t\t\tif (tmpTarget && tmpArrow.attr(\"id\") == event.target.id && tmpTargetNodeId && (event.clientX + doc.scrollLeft()+2) > ($(\"#\" + tmpTargetNodeId + consts.id.A, tmpTarget).offset().left)) {\n\t\t\t\t\t\tvar xT = $(\"#\" + tmpTargetNodeId + consts.id.A, tmpTarget);\n\t\t\t\t\t\tevent.target = (xT.length > 0) ? xT.get(0) : event.target;\n\t\t\t\t\t} else if (tmpTarget) {\n\t\t\t\t\t\ttmpTarget.removeClass(consts.node.TMPTARGET_TREE);\n\t\t\t\t\t\tif (tmpTargetNodeId) $(\"#\" + tmpTargetNodeId + consts.id.A, tmpTarget).removeClass(consts.node.TMPTARGET_NODE + \"_\" + consts.move.TYPE_PREV)\n\t\t\t\t\t\t\t.removeClass(consts.node.TMPTARGET_NODE + \"_\" + _consts.move.TYPE_NEXT).removeClass(consts.node.TMPTARGET_NODE + \"_\" + _consts.move.TYPE_INNER);\n\t\t\t\t\t}\n\t\t\t\t\ttmpTarget = null;\n\t\t\t\t\ttmpTargetNodeId = null;\n\n\t\t\t\t\t//judge drag & drop in multi ztree\n\t\t\t\t\tisOtherTree = false;\n\t\t\t\t\ttargetSetting = setting;\n\t\t\t\t\tvar settings = data.getSettings();\n\t\t\t\t\tfor (var s in settings) {\n\t\t\t\t\t\tif (settings[s].treeId && settings[s].edit.enable && settings[s].treeId != setting.treeId\n\t\t\t\t\t\t\t&& (event.target.id == settings[s].treeId || $(event.target).parents(\"#\" + settings[s].treeId).length>0)) {\n\t\t\t\t\t\t\tisOtherTree = true;\n\t\t\t\t\t\t\ttargetSetting = settings[s];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tvar docScrollTop = doc.scrollTop(),\n\t\t\t\t\tdocScrollLeft = doc.scrollLeft(),\n\t\t\t\t\ttreeOffset = targetSetting.treeObj.offset(),\n\t\t\t\t\tscrollHeight = targetSetting.treeObj.get(0).scrollHeight,\n\t\t\t\t\tscrollWidth = targetSetting.treeObj.get(0).scrollWidth,\n\t\t\t\t\tdTop = (event.clientY + docScrollTop - treeOffset.top),\n\t\t\t\t\tdBottom = (targetSetting.treeObj.height() + treeOffset.top - event.clientY - docScrollTop),\n\t\t\t\t\tdLeft = (event.clientX + docScrollLeft - treeOffset.left),\n\t\t\t\t\tdRight = (targetSetting.treeObj.width() + treeOffset.left - event.clientX - docScrollLeft),\n\t\t\t\t\tisTop = (dTop < setting.edit.drag.borderMax && dTop > setting.edit.drag.borderMin),\n\t\t\t\t\tisBottom = (dBottom < setting.edit.drag.borderMax && dBottom > setting.edit.drag.borderMin),\n\t\t\t\t\tisLeft = (dLeft < setting.edit.drag.borderMax && dLeft > setting.edit.drag.borderMin),\n\t\t\t\t\tisRight = (dRight < setting.edit.drag.borderMax && dRight > setting.edit.drag.borderMin),\n\t\t\t\t\tisTreeInner = dTop > setting.edit.drag.borderMin && dBottom > setting.edit.drag.borderMin && dLeft > setting.edit.drag.borderMin && dRight > setting.edit.drag.borderMin,\n\t\t\t\t\tisTreeTop = (isTop && targetSetting.treeObj.scrollTop() <= 0),\n\t\t\t\t\tisTreeBottom = (isBottom && (targetSetting.treeObj.scrollTop() + targetSetting.treeObj.height()+10) >= scrollHeight),\n\t\t\t\t\tisTreeLeft = (isLeft && targetSetting.treeObj.scrollLeft() <= 0),\n\t\t\t\t\tisTreeRight = (isRight && (targetSetting.treeObj.scrollLeft() + targetSetting.treeObj.width()+10) >= scrollWidth);\n\n\t\t\t\t\tif (event.target && tools.isChildOrSelf(event.target, targetSetting.treeId)) {\n\t\t\t\t\t\t//get node <li> dom\n\t\t\t\t\t\tvar targetObj = event.target;\n\t\t\t\t\t\twhile (targetObj && targetObj.tagName && !tools.eqs(targetObj.tagName, \"li\") && targetObj.id != targetSetting.treeId) {\n\t\t\t\t\t\t\ttargetObj = targetObj.parentNode;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar canMove = true;\n\t\t\t\t\t\t//don't move to self or children of self\n\t\t\t\t\t\tfor (i=0, l=nodes.length; i<l; i++) {\n\t\t\t\t\t\t\ttmpNode = nodes[i];\n\t\t\t\t\t\t\tif (targetObj.id === tmpNode.tId) {\n\t\t\t\t\t\t\t\tcanMove = false;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t} else if ($$(tmpNode, setting).find(\"#\" + targetObj.id).length > 0) {\n\t\t\t\t\t\t\t\tcanMove = false;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (canMove && event.target && tools.isChildOrSelf(event.target, targetObj.id + consts.id.A)) {\n\t\t\t\t\t\t\ttmpTarget = $(targetObj);\n\t\t\t\t\t\t\ttmpTargetNodeId = targetObj.id;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t//the mouse must be in zTree\n\t\t\t\t\ttmpNode = nodes[0];\n\t\t\t\t\tif (isTreeInner && tools.isChildOrSelf(event.target, targetSetting.treeId)) {\n\t\t\t\t\t\t//judge mouse move in root of ztree\n\t\t\t\t\t\tif (!tmpTarget && (event.target.id == targetSetting.treeId || isTreeTop || isTreeBottom || isTreeLeft || isTreeRight) && (isOtherTree || (!isOtherTree && tmpNode.parentTId))) {\n\t\t\t\t\t\t\ttmpTarget = targetSetting.treeObj;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t//auto scroll top\n\t\t\t\t\t\tif (isTop) {\n\t\t\t\t\t\t\ttargetSetting.treeObj.scrollTop(targetSetting.treeObj.scrollTop()-10);\n\t\t\t\t\t\t} else if (isBottom)  {\n\t\t\t\t\t\t\ttargetSetting.treeObj.scrollTop(targetSetting.treeObj.scrollTop()+10);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (isLeft) {\n\t\t\t\t\t\t\ttargetSetting.treeObj.scrollLeft(targetSetting.treeObj.scrollLeft()-10);\n\t\t\t\t\t\t} else if (isRight) {\n\t\t\t\t\t\t\ttargetSetting.treeObj.scrollLeft(targetSetting.treeObj.scrollLeft()+10);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t//auto scroll left\n\t\t\t\t\t\tif (tmpTarget && tmpTarget != targetSetting.treeObj && tmpTarget.offset().left < targetSetting.treeObj.offset().left) {\n\t\t\t\t\t\t\ttargetSetting.treeObj.scrollLeft(targetSetting.treeObj.scrollLeft()+ tmpTarget.offset().left - targetSetting.treeObj.offset().left);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tcurNode.css({\n\t\t\t\t\t\t\"top\": (event.clientY + docScrollTop + 3) + \"px\",\n\t\t\t\t\t\t\"left\": (event.clientX + docScrollLeft + 3) + \"px\"\n\t\t\t\t\t});\n\n\t\t\t\t\tvar dX = 0;\n\t\t\t\t\tvar dY = 0;\n\t\t\t\t\tif (tmpTarget && tmpTarget.attr(\"id\")!=targetSetting.treeId) {\n\t\t\t\t\t\tvar tmpTargetNode = tmpTargetNodeId == null ? null: data.getNodeCache(targetSetting, tmpTargetNodeId),\n\t\t\t\t\t\t\tisCopy = ((event.ctrlKey || event.metaKey) && setting.edit.drag.isMove && setting.edit.drag.isCopy) || (!setting.edit.drag.isMove && setting.edit.drag.isCopy),\n\t\t\t\t\t\t\tisPrev = !!(preNode && tmpTargetNodeId === preNode.tId),\n\t\t\t\t\t\t\tisNext = !!(nextNode && tmpTargetNodeId === nextNode.tId),\n\t\t\t\t\t\t\tisInner = (tmpNode.parentTId && tmpNode.parentTId == tmpTargetNodeId),\n\t\t\t\t\t\t\tcanPrev = (isCopy || !isNext) && tools.apply(targetSetting.edit.drag.prev, [targetSetting.treeId, nodes, tmpTargetNode], !!targetSetting.edit.drag.prev),\n\t\t\t\t\t\t\tcanNext = (isCopy || !isPrev) && tools.apply(targetSetting.edit.drag.next, [targetSetting.treeId, nodes, tmpTargetNode], !!targetSetting.edit.drag.next),\n\t\t\t\t\t\t\tcanInner = (isCopy || !isInner) && !(targetSetting.data.keep.leaf && !tmpTargetNode.isParent) && tools.apply(targetSetting.edit.drag.inner, [targetSetting.treeId, nodes, tmpTargetNode], !!targetSetting.edit.drag.inner);\n\n\t\t\t\t\t\tfunction clearMove() {\n\t\t\t\t\t\t\ttmpTarget = null;\n\t\t\t\t\t\t\ttmpTargetNodeId = \"\";\n\t\t\t\t\t\t\tmoveType = consts.move.TYPE_INNER;\n\t\t\t\t\t\t\ttmpArrow.css({\n\t\t\t\t\t\t\t\t\"display\":\"none\"\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tif (window.zTreeMoveTimer) {\n\t\t\t\t\t\t\t\tclearTimeout(window.zTreeMoveTimer);\n\t\t\t\t\t\t\t\twindow.zTreeMoveTargetNodeTId = null\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (!canPrev && !canNext && !canInner) {\n\t\t\t\t\t\t\tclearMove();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tvar tmpTargetA = $(\"#\" + tmpTargetNodeId + consts.id.A, tmpTarget),\n\t\t\t\t\t\t\t\ttmpNextA = tmpTargetNode.isLastNode ? null : $(\"#\" + tmpTargetNode.getNextNode().tId + consts.id.A, tmpTarget.next()),\n\t\t\t\t\t\t\t\ttmpTop = tmpTargetA.offset().top,\n\t\t\t\t\t\t\t\ttmpLeft = tmpTargetA.offset().left,\n\t\t\t\t\t\t\t\tprevPercent = canPrev ? (canInner ? 0.25 : (canNext ? 0.5 : 1) ) : -1,\n\t\t\t\t\t\t\t\tnextPercent = canNext ? (canInner ? 0.75 : (canPrev ? 0.5 : 0) ) : -1,\n\t\t\t\t\t\t\t\tdY_percent = (event.clientY + docScrollTop - tmpTop)/tmpTargetA.height();\n\n\t\t\t\t\t\t\tif ((prevPercent==1 || dY_percent<=prevPercent && dY_percent>=-.2) && canPrev) {\n\t\t\t\t\t\t\t\tdX = 1 - tmpArrow.width();\n\t\t\t\t\t\t\t\tdY = tmpTop - tmpArrow.height()/2;\n\t\t\t\t\t\t\t\tmoveType = consts.move.TYPE_PREV;\n\t\t\t\t\t\t\t} else if ((nextPercent==0 || dY_percent>=nextPercent && dY_percent<=1.2) && canNext) {\n\t\t\t\t\t\t\t\tdX = 1 - tmpArrow.width();\n\t\t\t\t\t\t\t\tdY = (tmpNextA == null || (tmpTargetNode.isParent && tmpTargetNode.open)) ? (tmpTop + tmpTargetA.height() - tmpArrow.height()/2) : (tmpNextA.offset().top - tmpArrow.height()/2);\n\t\t\t\t\t\t\t\tmoveType = consts.move.TYPE_NEXT;\n\t\t\t\t\t\t\t} else if (canInner) {\n\t\t\t\t\t\t\t\tdX = 5 - tmpArrow.width();\n\t\t\t\t\t\t\t\tdY = tmpTop;\n\t\t\t\t\t\t\t\tmoveType = consts.move.TYPE_INNER;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tclearMove();\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (tmpTarget) {\n\t\t\t\t\t\t\t\ttmpArrow.css({\n\t\t\t\t\t\t\t\t\t\"display\":\"block\",\n\t\t\t\t\t\t\t\t\t\"top\": dY + \"px\",\n\t\t\t\t\t\t\t\t\t\"left\": (tmpLeft + dX) + \"px\"\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\ttmpTargetA.addClass(consts.node.TMPTARGET_NODE + \"_\" + moveType);\n\n\t\t\t\t\t\t\t\tif (preTmpTargetNodeId != tmpTargetNodeId || preTmpMoveType != moveType) {\n\t\t\t\t\t\t\t\t\tstartTime = (new Date()).getTime();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (tmpTargetNode && tmpTargetNode.isParent && moveType == consts.move.TYPE_INNER) {\n\t\t\t\t\t\t\t\t\tvar startTimer = true;\n\t\t\t\t\t\t\t\t\tif (window.zTreeMoveTimer && window.zTreeMoveTargetNodeTId !== tmpTargetNode.tId) {\n\t\t\t\t\t\t\t\t\t\tclearTimeout(window.zTreeMoveTimer);\n\t\t\t\t\t\t\t\t\t\twindow.zTreeMoveTargetNodeTId = null;\n\t\t\t\t\t\t\t\t\t} else if (window.zTreeMoveTimer && window.zTreeMoveTargetNodeTId === tmpTargetNode.tId) {\n\t\t\t\t\t\t\t\t\t\tstartTimer = false;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif (startTimer) {\n\t\t\t\t\t\t\t\t\t\twindow.zTreeMoveTimer = setTimeout(function() {\n\t\t\t\t\t\t\t\t\t\t\tif (moveType != consts.move.TYPE_INNER) return;\n\t\t\t\t\t\t\t\t\t\t\tif (tmpTargetNode && tmpTargetNode.isParent && !tmpTargetNode.open && (new Date()).getTime() - startTime > targetSetting.edit.drag.autoOpenTime\n\t\t\t\t\t\t\t\t\t\t\t\t&& tools.apply(targetSetting.callback.beforeDragOpen, [targetSetting.treeId, tmpTargetNode], true)) {\n\t\t\t\t\t\t\t\t\t\t\t\tview.switchNode(targetSetting, tmpTargetNode);\n\t\t\t\t\t\t\t\t\t\t\t\tif (targetSetting.edit.drag.autoExpandTrigger) {\n\t\t\t\t\t\t\t\t\t\t\t\t\ttargetSetting.treeObj.trigger(consts.event.EXPAND, [targetSetting.treeId, tmpTargetNode]);\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}, targetSetting.edit.drag.autoOpenTime+50);\n\t\t\t\t\t\t\t\t\t\twindow.zTreeMoveTargetNodeTId = tmpTargetNode.tId;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tmoveType = consts.move.TYPE_INNER;\n\t\t\t\t\t\tif (tmpTarget && tools.apply(targetSetting.edit.drag.inner, [targetSetting.treeId, nodes, null], !!targetSetting.edit.drag.inner)) {\n\t\t\t\t\t\t\ttmpTarget.addClass(consts.node.TMPTARGET_TREE);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttmpTarget = null;\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttmpArrow.css({\n\t\t\t\t\t\t\t\"display\":\"none\"\n\t\t\t\t\t\t});\n\t\t\t\t\t\tif (window.zTreeMoveTimer) {\n\t\t\t\t\t\t\tclearTimeout(window.zTreeMoveTimer);\n\t\t\t\t\t\t\twindow.zTreeMoveTargetNodeTId = null;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tpreTmpTargetNodeId = tmpTargetNodeId;\n\t\t\t\t\tpreTmpMoveType = moveType;\n\n\t\t\t\t\tsetting.treeObj.trigger(consts.event.DRAGMOVE, [event, setting.treeId, nodes]);\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tdoc.bind(\"mouseup\", _docMouseUp);\n\t\t\tfunction _docMouseUp(event) {\n\t\t\t\tif (window.zTreeMoveTimer) {\n\t\t\t\t\tclearTimeout(window.zTreeMoveTimer);\n\t\t\t\t\twindow.zTreeMoveTargetNodeTId = null;\n\t\t\t\t}\n\t\t\t\tpreTmpTargetNodeId = null;\n\t\t\t\tpreTmpMoveType = null;\n\t\t\t\tdoc.unbind(\"mousemove\", _docMouseMove);\n\t\t\t\tdoc.unbind(\"mouseup\", _docMouseUp);\n\t\t\t\tdoc.unbind(\"selectstart\", _docSelect);\n\t\t\t\tbody.css(\"cursor\", \"auto\");\n\t\t\t\tif (tmpTarget) {\n\t\t\t\t\ttmpTarget.removeClass(consts.node.TMPTARGET_TREE);\n\t\t\t\t\tif (tmpTargetNodeId) $(\"#\" + tmpTargetNodeId + consts.id.A, tmpTarget).removeClass(consts.node.TMPTARGET_NODE + \"_\" + consts.move.TYPE_PREV)\n\t\t\t\t\t\t\t.removeClass(consts.node.TMPTARGET_NODE + \"_\" + _consts.move.TYPE_NEXT).removeClass(consts.node.TMPTARGET_NODE + \"_\" + _consts.move.TYPE_INNER);\n\t\t\t\t}\n\t\t\t\ttools.showIfameMask(setting, false);\n\n\t\t\t\troots.showHoverDom = true;\n\t\t\t\tif (root.dragFlag == 0) return;\n\t\t\t\troot.dragFlag = 0;\n\n\t\t\t\tvar i, l, tmpNode;\n\t\t\t\tfor (i=0, l=nodes.length; i<l; i++) {\n\t\t\t\t\ttmpNode = nodes[i];\n\t\t\t\t\tif (tmpNode.isParent && root.dragNodeShowBefore[tmpNode.tId] && !tmpNode.open) {\n\t\t\t\t\t\tview.expandCollapseNode(setting, tmpNode, !tmpNode.open);\n\t\t\t\t\t\tdelete root.dragNodeShowBefore[tmpNode.tId];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (curNode) curNode.remove();\n\t\t\t\tif (tmpArrow) tmpArrow.remove();\n\n\t\t\t\tvar isCopy = ((event.ctrlKey || event.metaKey) && setting.edit.drag.isMove && setting.edit.drag.isCopy) || (!setting.edit.drag.isMove && setting.edit.drag.isCopy);\n\t\t\t\tif (!isCopy && tmpTarget && tmpTargetNodeId && nodes[0].parentTId && tmpTargetNodeId==nodes[0].parentTId && moveType == consts.move.TYPE_INNER) {\n\t\t\t\t\ttmpTarget = null;\n\t\t\t\t}\n\t\t\t\tif (tmpTarget) {\n\t\t\t\t\tvar dragTargetNode = tmpTargetNodeId == null ? null: data.getNodeCache(targetSetting, tmpTargetNodeId);\n\t\t\t\t\tif (tools.apply(setting.callback.beforeDrop, [targetSetting.treeId, nodes, dragTargetNode, moveType, isCopy], true) == false) {\n\t\t\t\t\t\tview.selectNodes(sourceSetting, nodes);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tvar newNodes = isCopy ? tools.clone(nodes) : nodes;\n\n\t\t\t\t\tfunction dropCallback() {\n\t\t\t\t\t\tif (isOtherTree) {\n\t\t\t\t\t\t\tif (!isCopy) {\n\t\t\t\t\t\t\t\tfor(var i=0, l=nodes.length; i<l; i++) {\n\t\t\t\t\t\t\t\t\tview.removeNode(setting, nodes[i]);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (moveType == consts.move.TYPE_INNER) {\n\t\t\t\t\t\t\t\tview.addNodes(targetSetting, dragTargetNode, -1, newNodes);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tview.addNodes(targetSetting, dragTargetNode.getParentNode(), moveType == consts.move.TYPE_PREV ? dragTargetNode.getIndex() : dragTargetNode.getIndex()+1, newNodes);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (isCopy && moveType == consts.move.TYPE_INNER) {\n\t\t\t\t\t\t\t\tview.addNodes(targetSetting, dragTargetNode, -1, newNodes);\n\t\t\t\t\t\t\t} else if (isCopy) {\n\t\t\t\t\t\t\t\tview.addNodes(targetSetting, dragTargetNode.getParentNode(), moveType == consts.move.TYPE_PREV ? dragTargetNode.getIndex() : dragTargetNode.getIndex()+1, newNodes);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tif (moveType != consts.move.TYPE_NEXT) {\n\t\t\t\t\t\t\t\t\tfor (i=0, l=newNodes.length; i<l; i++) {\n\t\t\t\t\t\t\t\t\t\tview.moveNode(targetSetting, dragTargetNode, newNodes[i], moveType, false);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tfor (i=-1, l=newNodes.length-1; i<l; l--) {\n\t\t\t\t\t\t\t\t\t\tview.moveNode(targetSetting, dragTargetNode, newNodes[l], moveType, false);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tview.selectNodes(targetSetting, newNodes);\n\n\t\t\t\t\t\tvar a = $$(newNodes[0], setting).get(0);\n\t\t\t\t\t\tview.scrollIntoView(a);\n\n\t\t\t\t\t\tsetting.treeObj.trigger(consts.event.DROP, [event, targetSetting.treeId, newNodes, dragTargetNode, moveType, isCopy]);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (moveType == consts.move.TYPE_INNER && tools.canAsync(targetSetting, dragTargetNode)) {\n\t\t\t\t\t\tview.asyncNode(targetSetting, dragTargetNode, false, dropCallback);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdropCallback();\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\t\t\t\t\tview.selectNodes(sourceSetting, nodes);\n\t\t\t\t\tsetting.treeObj.trigger(consts.event.DROP, [event, setting.treeId, nodes, null, null, null]);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tdoc.bind(\"selectstart\", _docSelect);\n\t\t\tfunction _docSelect() {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t//Avoid FireFox's Bug\n\t\t\t//If zTree Div CSS set 'overflow', so drag node outside of zTree, and event.target is error.\n\t\t\tif(eventMouseDown.preventDefault) {\n\t\t\t\teventMouseDown.preventDefault();\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t},\n\t//method of tools for zTree\n\t_tools = {\n\t\tgetAbs: function (obj) {\n\t\t\tvar oRect = obj.getBoundingClientRect(),\n\t\t\tscrollTop = document.body.scrollTop+document.documentElement.scrollTop,\n\t\t\tscrollLeft = document.body.scrollLeft+document.documentElement.scrollLeft;\n\t\t\treturn [oRect.left+scrollLeft,oRect.top+scrollTop];\n\t\t},\n\t\tinputFocus: function(inputObj) {\n\t\t\tif (inputObj.get(0)) {\n\t\t\t\tinputObj.focus();\n\t\t\t\ttools.setCursorPosition(inputObj.get(0), inputObj.val().length);\n\t\t\t}\n\t\t},\n\t\tinputSelect: function(inputObj) {\n\t\t\tif (inputObj.get(0)) {\n\t\t\t\tinputObj.focus();\n\t\t\t\tinputObj.select();\n\t\t\t}\n\t\t},\n\t\tsetCursorPosition: function(obj, pos){\n\t\t\tif(obj.setSelectionRange) {\n\t\t\t\tobj.focus();\n\t\t\t\tobj.setSelectionRange(pos,pos);\n\t\t\t} else if (obj.createTextRange) {\n\t\t\t\tvar range = obj.createTextRange();\n\t\t\t\trange.collapse(true);\n\t\t\t\trange.moveEnd('character', pos);\n\t\t\t\trange.moveStart('character', pos);\n\t\t\t\trange.select();\n\t\t\t}\n\t\t},\n\t\tshowIfameMask: function(setting, showSign) {\n\t\t\tvar root = data.getRoot(setting);\n\t\t\t//clear full mask\n\t\t\twhile (root.dragMaskList.length > 0) {\n\t\t\t\troot.dragMaskList[0].remove();\n\t\t\t\troot.dragMaskList.shift();\n\t\t\t}\n\t\t\tif (showSign) {\n\t\t\t\t//show mask\n\t\t\t\tvar iframeList = $$(\"iframe\", setting);\n\t\t\t\tfor (var i = 0, l = iframeList.length; i < l; i++) {\n\t\t\t\t\tvar obj = iframeList.get(i),\n\t\t\t\t\tr = tools.getAbs(obj),\n\t\t\t\t\tdragMask = $$(\"<div id='zTreeMask_\" + i + \"' class='zTreeMask' style='top:\" + r[1] + \"px; left:\" + r[0] + \"px; width:\" + obj.offsetWidth + \"px; height:\" + obj.offsetHeight + \"px;'></div>\", setting);\n\t\t\t\t\tdragMask.appendTo($$(\"body\", setting));\n\t\t\t\t\troot.dragMaskList.push(dragMask);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\t//method of operate ztree dom\n\t_view = {\n\t\taddEditBtn: function(setting, node) {\n\t\t\tif (node.editNameFlag || $$(node, consts.id.EDIT, setting).length > 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (!tools.apply(setting.edit.showRenameBtn, [setting.treeId, node], setting.edit.showRenameBtn)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar aObj = $$(node, consts.id.A, setting),\n\t\t\teditStr = \"<span class='\" + consts.className.BUTTON + \" edit' id='\" + node.tId + consts.id.EDIT + \"' title='\"+tools.apply(setting.edit.renameTitle, [setting.treeId, node], setting.edit.renameTitle)+\"' treeNode\"+consts.id.EDIT+\" style='display:none;'></span>\";\n\t\t\taObj.append(editStr);\n\n\t\t\t$$(node, consts.id.EDIT, setting).bind('click',\n\t\t\t\tfunction() {\n\t\t\t\t\tif (!tools.uCanDo(setting) || tools.apply(setting.callback.beforeEditName, [setting.treeId, node], true) == false) return false;\n\t\t\t\t\tview.editNode(setting, node);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\t).show();\n\t\t},\n\t\taddRemoveBtn: function(setting, node) {\n\t\t\tif (node.editNameFlag || $$(node, consts.id.REMOVE, setting).length > 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (!tools.apply(setting.edit.showRemoveBtn, [setting.treeId, node], setting.edit.showRemoveBtn)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar aObj = $$(node, consts.id.A, setting),\n\t\t\tremoveStr = \"<span class='\" + consts.className.BUTTON + \" remove' id='\" + node.tId + consts.id.REMOVE + \"' title='\"+tools.apply(setting.edit.removeTitle, [setting.treeId, node], setting.edit.removeTitle)+\"' treeNode\"+consts.id.REMOVE+\" style='display:none;'></span>\";\n\t\t\taObj.append(removeStr);\n\n\t\t\t$$(node, consts.id.REMOVE, setting).bind('click',\n\t\t\t\tfunction() {\n\t\t\t\t\tif (!tools.uCanDo(setting) || tools.apply(setting.callback.beforeRemove, [setting.treeId, node], true) == false) return false;\n\t\t\t\t\tview.removeNode(setting, node);\n\t\t\t\t\tsetting.treeObj.trigger(consts.event.REMOVE, [setting.treeId, node]);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\t).bind('mousedown',\n\t\t\t\tfunction(eventMouseDown) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\t).show();\n\t\t},\n\t\taddHoverDom: function(setting, node) {\n\t\t\tif (data.getRoots().showHoverDom) {\n\t\t\t\tnode.isHover = true;\n\t\t\t\tif (setting.edit.enable) {\n\t\t\t\t\tview.addEditBtn(setting, node);\n\t\t\t\t\tview.addRemoveBtn(setting, node);\n\t\t\t\t}\n\t\t\t\ttools.apply(setting.view.addHoverDom, [setting.treeId, node]);\n\t\t\t}\n\t\t},\n\t\tcancelCurEditNode: function (setting, forceName, isCancel) {\n\t\t\tvar root = data.getRoot(setting),\n\t\t\tnameKey = setting.data.key.name,\n\t\t\tnode = root.curEditNode;\n\n\t\t\tif (node) {\n\t\t\t\tvar inputObj = root.curEditInput,\n\t\t\t\tnewName = forceName ? forceName:(isCancel ? node[nameKey]: inputObj.val());\n\t\t\t\tif (tools.apply(setting.callback.beforeRename, [setting.treeId, node, newName, isCancel], true) === false) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n                node[nameKey] = newName;\n                var aObj = $$(node, consts.id.A, setting);\n\t\t\t\taObj.removeClass(consts.node.CURSELECTED_EDIT);\n\t\t\t\tinputObj.unbind();\n\t\t\t\tview.setNodeName(setting, node);\n\t\t\t\tnode.editNameFlag = false;\n\t\t\t\troot.curEditNode = null;\n\t\t\t\troot.curEditInput = null;\n\t\t\t\tview.selectNode(setting, node, false);\n                setting.treeObj.trigger(consts.event.RENAME, [setting.treeId, node, isCancel]);\n\t\t\t}\n\t\t\troot.noSelection = true;\n\t\t\treturn true;\n\t\t},\n\t\teditNode: function(setting, node) {\n\t\t\tvar root = data.getRoot(setting);\n\t\t\tview.editNodeBlur = false;\n\t\t\tif (data.isSelectedNode(setting, node) && root.curEditNode == node && node.editNameFlag) {\n\t\t\t\tsetTimeout(function() {tools.inputFocus(root.curEditInput);}, 0);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar nameKey = setting.data.key.name;\n\t\t\tnode.editNameFlag = true;\n\t\t\tview.removeTreeDom(setting, node);\n\t\t\tview.cancelCurEditNode(setting);\n\t\t\tview.selectNode(setting, node, false);\n\t\t\t$$(node, consts.id.SPAN, setting).html(\"<input type=text class='rename' id='\" + node.tId + consts.id.INPUT + \"' treeNode\" + consts.id.INPUT + \" >\");\n\t\t\tvar inputObj = $$(node, consts.id.INPUT, setting);\n\t\t\tinputObj.attr(\"value\", node[nameKey]);\n\t\t\tif (setting.edit.editNameSelectAll) {\n\t\t\t\ttools.inputSelect(inputObj);\n\t\t\t} else {\n\t\t\t\ttools.inputFocus(inputObj);\n\t\t\t}\n\n\t\t\tinputObj.bind('blur', function(event) {\n\t\t\t\tif (!view.editNodeBlur) {\n\t\t\t\t\tview.cancelCurEditNode(setting);\n\t\t\t\t}\n\t\t\t}).bind('keydown', function(event) {\n\t\t\t\tif (event.keyCode==\"13\") {\n\t\t\t\t\tview.editNodeBlur = true;\n\t\t\t\t\tview.cancelCurEditNode(setting);\n\t\t\t\t} else if (event.keyCode==\"27\") {\n\t\t\t\t\tview.cancelCurEditNode(setting, null, true);\n\t\t\t\t}\n\t\t\t}).bind('click', function(event) {\n\t\t\t\treturn false;\n\t\t\t}).bind('dblclick', function(event) {\n\t\t\t\treturn false;\n\t\t\t});\n\n\t\t\t$$(node, consts.id.A, setting).addClass(consts.node.CURSELECTED_EDIT);\n\t\t\troot.curEditInput = inputObj;\n\t\t\troot.noSelection = false;\n\t\t\troot.curEditNode = node;\n\t\t},\n\t\tmoveNode: function(setting, targetNode, node, moveType, animateFlag, isSilent) {\n\t\t\tvar root = data.getRoot(setting),\n\t\t\tchildKey = setting.data.key.children;\n\t\t\tif (targetNode == node) return;\n\t\t\tif (setting.data.keep.leaf && targetNode && !targetNode.isParent && moveType == consts.move.TYPE_INNER) return;\n\t\t\tvar oldParentNode = (node.parentTId ? node.getParentNode(): root),\n\t\t\ttargetNodeIsRoot = (targetNode === null || targetNode == root);\n\t\t\tif (targetNodeIsRoot && targetNode === null) targetNode = root;\n\t\t\tif (targetNodeIsRoot) moveType = consts.move.TYPE_INNER;\n\t\t\tvar targetParentNode = (targetNode.parentTId ? targetNode.getParentNode() : root);\n\n\t\t\tif (moveType != consts.move.TYPE_PREV && moveType != consts.move.TYPE_NEXT) {\n\t\t\t\tmoveType = consts.move.TYPE_INNER;\n\t\t\t}\n\n\t\t\tif (moveType == consts.move.TYPE_INNER) {\n\t\t\t\tif (targetNodeIsRoot) {\n\t\t\t\t\t//parentTId of root node is null\n\t\t\t\t\tnode.parentTId = null;\n\t\t\t\t} else {\n\t\t\t\t\tif (!targetNode.isParent) {\n\t\t\t\t\t\ttargetNode.isParent = true;\n\t\t\t\t\t\ttargetNode.open = !!targetNode.open;\n\t\t\t\t\t\tview.setNodeLineIcos(setting, targetNode);\n\t\t\t\t\t}\n\t\t\t\t\tnode.parentTId = targetNode.tId;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t//move node Dom\n\t\t\tvar targetObj, target_ulObj;\n\t\t\tif (targetNodeIsRoot) {\n\t\t\t\ttargetObj = setting.treeObj;\n\t\t\t\ttarget_ulObj = targetObj;\n\t\t\t} else {\n\t\t\t\tif (!isSilent && moveType == consts.move.TYPE_INNER) {\n\t\t\t\t\tview.expandCollapseNode(setting, targetNode, true, false);\n\t\t\t\t} else if (!isSilent) {\n\t\t\t\t\tview.expandCollapseNode(setting, targetNode.getParentNode(), true, false);\n\t\t\t\t}\n\t\t\t\ttargetObj = $$(targetNode, setting);\n\t\t\t\ttarget_ulObj = $$(targetNode, consts.id.UL, setting);\n\t\t\t\tif (!!targetObj.get(0) && !target_ulObj.get(0)) {\n\t\t\t\t\tvar ulstr = [];\n\t\t\t\t\tview.makeUlHtml(setting, targetNode, ulstr, '');\n\t\t\t\t\ttargetObj.append(ulstr.join(''));\n\t\t\t\t}\n\t\t\t\ttarget_ulObj = $$(targetNode, consts.id.UL, setting);\n\t\t\t}\n\t\t\tvar nodeDom = $$(node, setting);\n\t\t\tif (!nodeDom.get(0)) {\n\t\t\t\tnodeDom = view.appendNodes(setting, node.level, [node], null, -1, false, true).join('');\n\t\t\t} else if (!targetObj.get(0)) {\n\t\t\t\tnodeDom.remove();\n\t\t\t}\n\t\t\tif (target_ulObj.get(0) && moveType == consts.move.TYPE_INNER) {\n\t\t\t\ttarget_ulObj.append(nodeDom);\n\t\t\t} else if (targetObj.get(0) && moveType == consts.move.TYPE_PREV) {\n\t\t\t\ttargetObj.before(nodeDom);\n\t\t\t} else if (targetObj.get(0) && moveType == consts.move.TYPE_NEXT) {\n\t\t\t\ttargetObj.after(nodeDom);\n\t\t\t}\n\n\t\t\t//repair the data after move\n\t\t\tvar i,l,\n\t\t\ttmpSrcIndex = -1,\n\t\t\ttmpTargetIndex = 0,\n\t\t\toldNeighbor = null,\n\t\t\tnewNeighbor = null,\n\t\t\toldLevel = node.level;\n\t\t\tif (node.isFirstNode) {\n\t\t\t\ttmpSrcIndex = 0;\n\t\t\t\tif (oldParentNode[childKey].length > 1 ) {\n\t\t\t\t\toldNeighbor = oldParentNode[childKey][1];\n\t\t\t\t\toldNeighbor.isFirstNode = true;\n\t\t\t\t}\n\t\t\t} else if (node.isLastNode) {\n\t\t\t\ttmpSrcIndex = oldParentNode[childKey].length -1;\n\t\t\t\toldNeighbor = oldParentNode[childKey][tmpSrcIndex - 1];\n\t\t\t\toldNeighbor.isLastNode = true;\n\t\t\t} else {\n\t\t\t\tfor (i = 0, l = oldParentNode[childKey].length; i < l; i++) {\n\t\t\t\t\tif (oldParentNode[childKey][i].tId == node.tId) {\n\t\t\t\t\t\ttmpSrcIndex = i;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (tmpSrcIndex >= 0) {\n\t\t\t\toldParentNode[childKey].splice(tmpSrcIndex, 1);\n\t\t\t}\n\t\t\tif (moveType != consts.move.TYPE_INNER) {\n\t\t\t\tfor (i = 0, l = targetParentNode[childKey].length; i < l; i++) {\n\t\t\t\t\tif (targetParentNode[childKey][i].tId == targetNode.tId) tmpTargetIndex = i;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (moveType == consts.move.TYPE_INNER) {\n\t\t\t\tif (!targetNode[childKey]) targetNode[childKey] = new Array();\n\t\t\t\tif (targetNode[childKey].length > 0) {\n\t\t\t\t\tnewNeighbor = targetNode[childKey][targetNode[childKey].length - 1];\n\t\t\t\t\tnewNeighbor.isLastNode = false;\n\t\t\t\t}\n\t\t\t\ttargetNode[childKey].splice(targetNode[childKey].length, 0, node);\n\t\t\t\tnode.isLastNode = true;\n\t\t\t\tnode.isFirstNode = (targetNode[childKey].length == 1);\n\t\t\t} else if (targetNode.isFirstNode && moveType == consts.move.TYPE_PREV) {\n\t\t\t\ttargetParentNode[childKey].splice(tmpTargetIndex, 0, node);\n\t\t\t\tnewNeighbor = targetNode;\n\t\t\t\tnewNeighbor.isFirstNode = false;\n\t\t\t\tnode.parentTId = targetNode.parentTId;\n\t\t\t\tnode.isFirstNode = true;\n\t\t\t\tnode.isLastNode = false;\n\n\t\t\t} else if (targetNode.isLastNode && moveType == consts.move.TYPE_NEXT) {\n\t\t\t\ttargetParentNode[childKey].splice(tmpTargetIndex + 1, 0, node);\n\t\t\t\tnewNeighbor = targetNode;\n\t\t\t\tnewNeighbor.isLastNode = false;\n\t\t\t\tnode.parentTId = targetNode.parentTId;\n\t\t\t\tnode.isFirstNode = false;\n\t\t\t\tnode.isLastNode = true;\n\n\t\t\t} else {\n\t\t\t\tif (moveType == consts.move.TYPE_PREV) {\n\t\t\t\t\ttargetParentNode[childKey].splice(tmpTargetIndex, 0, node);\n\t\t\t\t} else {\n\t\t\t\t\ttargetParentNode[childKey].splice(tmpTargetIndex + 1, 0, node);\n\t\t\t\t}\n\t\t\t\tnode.parentTId = targetNode.parentTId;\n\t\t\t\tnode.isFirstNode = false;\n\t\t\t\tnode.isLastNode = false;\n\t\t\t}\n\t\t\tdata.fixPIdKeyValue(setting, node);\n\t\t\tdata.setSonNodeLevel(setting, node.getParentNode(), node);\n\n\t\t\t//repair node what been moved\n\t\t\tview.setNodeLineIcos(setting, node);\n\t\t\tview.repairNodeLevelClass(setting, node, oldLevel)\n\n\t\t\t//repair node's old parentNode dom\n\t\t\tif (!setting.data.keep.parent && oldParentNode[childKey].length < 1) {\n\t\t\t\t//old parentNode has no child nodes\n\t\t\t\toldParentNode.isParent = false;\n\t\t\t\toldParentNode.open = false;\n\t\t\t\tvar tmp_ulObj = $$(oldParentNode, consts.id.UL, setting),\n\t\t\t\ttmp_switchObj = $$(oldParentNode, consts.id.SWITCH, setting),\n\t\t\t\ttmp_icoObj = $$(oldParentNode, consts.id.ICON, setting);\n\t\t\t\tview.replaceSwitchClass(oldParentNode, tmp_switchObj, consts.folder.DOCU);\n\t\t\t\tview.replaceIcoClass(oldParentNode, tmp_icoObj, consts.folder.DOCU);\n\t\t\t\ttmp_ulObj.css(\"display\", \"none\");\n\n\t\t\t} else if (oldNeighbor) {\n\t\t\t\t//old neigbor node\n\t\t\t\tview.setNodeLineIcos(setting, oldNeighbor);\n\t\t\t}\n\n\t\t\t//new neigbor node\n\t\t\tif (newNeighbor) {\n\t\t\t\tview.setNodeLineIcos(setting, newNeighbor);\n\t\t\t}\n\n\t\t\t//repair checkbox / radio\n\t\t\tif (!!setting.check && setting.check.enable && view.repairChkClass) {\n\t\t\t\tview.repairChkClass(setting, oldParentNode);\n\t\t\t\tview.repairParentChkClassWithSelf(setting, oldParentNode);\n\t\t\t\tif (oldParentNode != node.parent)\n\t\t\t\t\tview.repairParentChkClassWithSelf(setting, node);\n\t\t\t}\n\n\t\t\t//expand parents after move\n\t\t\tif (!isSilent) {\n\t\t\t\tview.expandCollapseParentNode(setting, node.getParentNode(), true, animateFlag);\n\t\t\t}\n\t\t},\n\t\tremoveEditBtn: function(setting, node) {\n\t\t\t$$(node, consts.id.EDIT, setting).unbind().remove();\n\t\t},\n\t\tremoveRemoveBtn: function(setting, node) {\n\t\t\t$$(node, consts.id.REMOVE, setting).unbind().remove();\n\t\t},\n\t\tremoveTreeDom: function(setting, node) {\n\t\t\tnode.isHover = false;\n\t\t\tview.removeEditBtn(setting, node);\n\t\t\tview.removeRemoveBtn(setting, node);\n\t\t\ttools.apply(setting.view.removeHoverDom, [setting.treeId, node]);\n\t\t},\n\t\trepairNodeLevelClass: function(setting, node, oldLevel) {\n\t\t\tif (oldLevel === node.level) return;\n\t\t\tvar liObj = $$(node, setting),\n\t\t\taObj = $$(node, consts.id.A, setting),\n\t\t\tulObj = $$(node, consts.id.UL, setting),\n\t\t\toldClass = consts.className.LEVEL + oldLevel,\n\t\t\tnewClass = consts.className.LEVEL + node.level;\n\t\t\tliObj.removeClass(oldClass);\n\t\t\tliObj.addClass(newClass);\n\t\t\taObj.removeClass(oldClass);\n\t\t\taObj.addClass(newClass);\n\t\t\tulObj.removeClass(oldClass);\n\t\t\tulObj.addClass(newClass);\n\t\t},\n\t\tselectNodes : function(setting, nodes) {\n\t\t\tfor (var i=0, l=nodes.length; i<l; i++) {\n\t\t\t\tview.selectNode(setting, nodes[i], i>0);\n\t\t\t}\n\t\t}\n\t},\n\n\t_z = {\n\t\ttools: _tools,\n\t\tview: _view,\n\t\tevent: _event,\n\t\tdata: _data\n\t};\n\t$.extend(true, $.fn.zTree.consts, _consts);\n\t$.extend(true, $.fn.zTree._z, _z);\n\n\tvar zt = $.fn.zTree,\n\ttools = zt._z.tools,\n\tconsts = zt.consts,\n\tview = zt._z.view,\n\tdata = zt._z.data,\n\tevent = zt._z.event,\n\t$$ = tools.$;\n\n\tdata.exSetting(_setting);\n\tdata.addInitBind(_bindEvent);\n\tdata.addInitUnBind(_unbindEvent);\n\tdata.addInitCache(_initCache);\n\tdata.addInitNode(_initNode);\n\tdata.addInitProxy(_eventProxy);\n\tdata.addInitRoot(_initRoot);\n\tdata.addZTreeTools(_zTreeTools);\n\n\tvar _cancelPreSelectedNode = view.cancelPreSelectedNode;\n\tview.cancelPreSelectedNode = function (setting, node) {\n\t\tvar list = data.getRoot(setting).curSelectedList;\n\t\tfor (var i=0, j=list.length; i<j; i++) {\n\t\t\tif (!node || node === list[i]) {\n\t\t\t\tview.removeTreeDom(setting, list[i]);\n\t\t\t\tif (node) break;\n\t\t\t}\n\t\t}\n\t\tif (_cancelPreSelectedNode) _cancelPreSelectedNode.apply(view, arguments);\n\t}\n\n\tvar _createNodes = view.createNodes;\n\tview.createNodes = function(setting, level, nodes, parentNode, index) {\n\t\tif (_createNodes) {\n\t\t\t_createNodes.apply(view, arguments);\n\t\t}\n\t\tif (!nodes) return;\n\t\tif (view.repairParentChkClassWithSelf) {\n\t\t\tview.repairParentChkClassWithSelf(setting, parentNode);\n\t\t}\n\t}\n\n\tvar _makeNodeUrl = view.makeNodeUrl;\n\tview.makeNodeUrl = function(setting, node) {\n\t\treturn setting.edit.enable ? null : (_makeNodeUrl.apply(view, arguments));\n\t}\n\n\tvar _removeNode = view.removeNode;\n\tview.removeNode = function(setting, node) {\n\t\tvar root = data.getRoot(setting);\n\t\tif (root.curEditNode === node) root.curEditNode = null;\n\t\tif (_removeNode) {\n\t\t\t_removeNode.apply(view, arguments);\n\t\t}\n\t}\n\n\tvar _selectNode = view.selectNode;\n\tview.selectNode = function(setting, node, addFlag) {\n\t\tvar root = data.getRoot(setting);\n\t\tif (data.isSelectedNode(setting, node) && root.curEditNode == node && node.editNameFlag) {\n\t\t\treturn false;\n\t\t}\n\t\tif (_selectNode) _selectNode.apply(view, arguments);\n\t\tview.addHoverDom(setting, node);\n\t\treturn true;\n\t}\n\n\tvar _uCanDo = tools.uCanDo;\n\ttools.uCanDo = function(setting, e) {\n\t\tvar root = data.getRoot(setting);\n\t\tif (e && (tools.eqs(e.type, \"mouseover\") || tools.eqs(e.type, \"mouseout\") || tools.eqs(e.type, \"mousedown\") || tools.eqs(e.type, \"mouseup\"))) {\n\t\t\treturn true;\n\t\t}\n\t\tif (root.curEditNode) {\n\t\t\tview.editNodeBlur = false;\n\t\t\troot.curEditInput.focus();\n\t\t}\n\t\treturn (!root.curEditNode) && (_uCanDo ? _uCanDo.apply(view, arguments) : true);\n\t}\n})(jQuery);\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG4AAABKCAYAAABaZmHbAAAB6klEQVR4nO3dv2oUUQBG8TOzhBiCVoLYarARH0DFSqxiae9zmMrORkjjC1iGba1crEQLHyFiuyBYGYKkkLW4UURCdicwe/0u59csOzvFB2dn/1TTUdwEngEPgMvof3QEvAdeAF86YAd4A1ypuUor+w48ngAvgduVx2h1m8D1DvgMbFceo2GOe4yWaLuvvUAXY7hQhgtluFCGC2W4UIYLZbhQhgtluFCGC2W4UIYLZbhQhgtluFCGC2W4UIYLZbhQhgtluFCGC2W4UIYLZbhQhgtluFCGC2W4UIYLZbhQhgtluFCGC2W4UIYLZbhQhgtluFCGC2W4UIYLZbhQhgtluFCGC2W4UIYLZbhQhgtluFCGC2W4UD2wqD1Cgy16YF57hQab98C09goNNp0An4A7wI3KY7SaGbDXnT7pgEeU25BtVpt0MZeAJwPOnwInI20Z0wnlNmQzYNEtOTnFa8obb5kZ8HTkLWvRSrhbwDtgcs45P4GHwOFaFo2slf9xh8DBknMOaCQatHPFAVwDPgJbZ7z2A7gHfF3rohGd99GS5pjyw+ruGa+9At6ud864WrrioNyY9wNw9a9j34D7lJvDNqOV77jfjoD9f47t01i0Vm1Qrrr56eNG3TkaYpcSbrf2EA3TAc9p7zv8j18tZC7p4u6S5AAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAABB0lEQVQ4ja3TvUoDQRiF4WcThSBCCpuAIFiZSmSbgKBgY5MmjYWF7ZY2IlilSSeSwkvQO7FLsY2VXoQQ0qpoM4uL7E825MAwf9955wy7E83jWI3aeAnjU3xXFbfqaEhwHFpSVxzVJNzBe+jhAwehXynhJAfLDphUGaqAR4qvmIS9RsAIj2hvDAa6aaqbptleG9OmwEuclJlwhotlgdu4zyZfs1kZ9AFbywDvsFuRLtNeqK0E7uOmyP2zWBQt3wZPKXCKzhLpMnX8+0B54DlGDdJlGgUv/l7KJl7Rb5Aurzcc4jNLeF0GK/gPi9QPDC30MF4xWV5j9KJ5HD/hag1AeG5huCYYDH8BM60tncghbV0AAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABAUlEQVQ4jaXTP0oDQRTH8c9OgvcwIIgBBVu1EYuIHiOggo0X8U9hEYzHECyCjXqDKNgI3sBGAiuJFjsr45IFE78wMLx5v988Zt7L3s/XVVhBF7tYjLFX3KKP5zQ5SwwWcIojhKprZIIrnGAEzUR8g50keRMZ7pNYwAGWYoV5edNZRQyPeKipZDtWK6AdXWflEO2geLDGHAYNdAM6c4hLOgGtfxi06r4rJausreQsD4ommcZGTfwr2b81FR22PCWx7gtTBgHXGP8hucoY/YAhenMY9DAsH/EEgxnEd1HzMzQ59nCpGJg6JvHm/aj5NXU5jrGKC7zgEx94irE1RQuPStE3S7Qx3hM0lzIAAAAASUVORK5CYII=\"","import styled from 'styled-components';\nimport noModel from '../../../static/imgs/no-model.png';\nimport bimBg from '../../../static/imgs/bim-bg.png';\nimport toolbar from '../../../static/imgs/toolbar-bg.png';\nimport icon from \"../../../static/imgs/icon.png\";\nexport const BimModel = styled.div`\n   padding:20px;\n   height: calc(100vh - 80px);\n   background: #f6f6f3;\n  .bim-model{\n    background:#fff;\n    width:100%;\n    height:100%;\n    .model-picture {\n        height: 509px;\n        width: 100%;\n        margin:0 auto;\n        background:url(${noModel}) no-repeat center 190px ;\n        background-size:initial;\n    }\n    .model-title{\n        text-align:center;\n    }\n    .model-title p{\n        font-size:18px;color:#A0ADD0;text-align:center;padding-right:10px;\n    }\n    \n  }\n  .ant-spin-nested-loading {\n        height:100%;\n        .ant-spin-container {\n            height:100%;\n        }\n    }\n  .bim-view {\n    width:100%;\n    height:100%;\n    // background-image:url(${bimBg});\n    background-size:100%;\n    background-position:center center;\n    background-repeat: no-repeat;\n    \n    \n  }\n  .is-visble {\n      display:none;\n  }\n  .tool-bar {\n      position:absolute;bottom:40px;width:500px;margin:0 auto;height:60px;line-height:60px;text-align:center;background:url(${toolbar}) 0 0 no-repeat;left:50%;transform: translate(-50%, 0%);background-size:100%;color:#fff;\n      .ant-btn-group {line-height: 72px;line-height:77px;}\n      .tool-active .icon-tool{\n        background-position-y: -300px !important;\n      }\n      .tool-btn {\n        background: transparent;border-color:transparent;margin-right:29px;height: auto;\n        .icon-tool {\n            width:29px;height:28px;background:url(${icon}) no-repeat 0 0 ;\n        }\n        .icon-tool.icon-modal {\n            background-position:0 -271px;\n        }\n        .icon-tool.icon-filter {\n            background-position: -30px -271px;\n        }\n        .icon-tool.icon-tree {\n            background-position: -61px -271px;\n        }\n        .icon-tool.icon-ring {\n            background-position: -92px -271px;\n        }\n        .icon-tool.icon-handle {\n            background-position: -123px -271px;\n        }\n        .icon-tool.icon-floor {\n            background-position: -151px -271px;\n        }\n        \n      }\n      .ant-btn:active, .ant-btn.active{\n        background-position-y: -300px;\n      }\n      \n      .tool-btn:last-child{\n        margin-right:0;\n    }\n  }\n`;\n\n","import React, { PureComponent } from 'react';\nimport {Button} from 'antd';\nclass NoBimPage extends PureComponent {\n    //选择模型\n    switchModel = ()=>{\n        this.props.switchModels();\n    }\n    render() { \n        return ( \n            <div>\n                <div className='model-picture'></div>\n                <div className='model-title'>\n                    <p  style={{display:'inline-block'}}>{this.props.title}</p>\n                    <Button type='primary' onClick={this.switchModel}>BIM模型</Button>\n                </div>\n            </div>\n         );\n    }\n}\n \nexport default NoBimPage;","import React, { Component ,Fragment} from 'react';\nimport ReactDOM from 'react-dom';\n\nimport {Button, Col, Form, Input, message, Modal, Row, Select, Table,Icon,TreeSelect,Tree,Drawer,Tabs ,Popover,Slider,Spin,Switch,Checkbox} from 'antd';\nimport zTree from '../../../static/ztree/js/jquery.ztree.all.js';\nimport { fileToObject } from 'antd/lib/upload/utils';\n//样式文件一定不要忘了引入，不然会没有样式\nimport '../../../static/ztree/css/zTreeStyle/zTreeStyle.css';\nimport tipImage from \"../../../static/imgs/tip-pop.png\";\nimport tipIcon from \"../../../static/imgs/icon-error.png\";\nimport tipIconWarning from \"../../../static/imgs/icon-warning.png\";\nimport * as type from \"../../../axios/index\";\nMotor.Config.serverUrl = window.MOTOR_SERVERURL_CONFIG;\n/* \n    接口打通测试 \"http://192.168.2.57:8765/motor\"\n    BUILD版\t有效期：2025-12-10\n    AppID:\tcdf05910b5684a549da66b3e3e2c3757 \n    AppSecret:\t98715dc24bab0b69c89d2c7bbca5830b\n    企业名称:\t上海鲁班集团\n */\nconst { TreeNode } = TreeSelect;\n\n\nconst size = 'small';\nconst initDrawerStats = {\n    visibleModal: false,\n    visibleFilter: false,\n    visibleTree: false,\n    visibleRing : false,\n    visibleHandel : false,\n    visibleFloor : false,\n}\n\n  const initSwitch = {\n    xAxis:false,\n    yAxis:false,\n    zAxis:false,\n    xyzAxis:false\n  }\n  let clippingPlaneEditor;\n  let project;\n  let viewer;\n  let treeDatas = {};\n  let defaultCheckedKeys =[];\n  let currentNameStr,rootTreeNodes=[];\n  let removeStart,removeStop;\n  let plainOptions = ['已关联','未关联'];\n  let waringTitle = {\n    productionStateStatisticsList:'生产状态',\n    pendingProductionStatisticsList:'待生产',\n    delayProductionStatisticsList:'已延期',\n  }\n  let projectId = \"ab22a7c9-991e-4e68-ac47-cec355e362e9\";\n  let componentsList = [];\n  let totalColorList = [];\n  let markers;\n  let zTreeObj;//筛选控制树\n  let filterSetting = {\n    view: {\n        showIcon:false,\n        showLine:true,\n        fontCss : {color:\"#666\"}\n    },\n    data: {\n        simpleData: {\n            enable: true\n        },\n        key: {\n            checked: \"isChecked\"\n        },\n        \n    },\n\n    check: {\n        enable: true,       //设置是否显示checkbox复选框\n    },\n    callback: {\n        onCheck: function (e, id, treeNode) {\n            project.setVisiblityFromTree(treeNode);\n        },\n        onClick: function (e, id, treeNode) {},\n        onDblClick: function (e, id, treeNode) {},\n        onExpand: function (event, treeId, treeNode) {\n            if (treeNode.level === 3 && (!treeNode.children)) {\n                treeNode.children = [];\n                dynamicloadNodes(treeNode).then(function (data) {\n                    treeNode.children = [];\n                    zTreeObj.addNodes(treeNode, data)\n                    reSetNodes(zTreeObj)\n                })\n            }\n        }\n    }\n};\nfunction dynamicloadNodes(treeNode) {\n    /* return new Promise(function(reslove,reject){\n        reslove(Motor.Project.getChildNodesFromTree(treeNode))\n    }) */\n    return Motor.Project.getChildNodesFromTree(treeNode);\n}\n// 重新设置数据\nfunction reSetNodes(zTreeObj) {\n    let node = zTreeObj.getNodes();\n    node.forEach((rootnode)=>{\n        rootTreeNodes.push(rootnode);\n    })\n    let nodes = zTreeObj.transformToArray(node);\n    if (nodes.length > 0) {\n        for (let i = 0; i < nodes.length; i++) {\n            if (!nodes[i].children) {\n                if (nodes[i].level === 3) {\n                    nodes[i].isParent = true;\n                }\n                nodes[i].nocheck = true;\n                zTreeObj.updateNode(nodes[i]);\n            }\n        }\n    }\n}\nfunction convertCanvasToImage(canvas) {\n    //新Image对象，可以理解为DOM\n    var image = new Image();\n    // canvas.toDataURL 返回的是一串Base64编码的URL\n    // 指定格式 PNG\n    image.src = canvas.toDataURL(\"image/png\");\n    return image.src;\n}\nfunction rendImage(url,context) {\n    // let createImg = document.createElement('img');\n    let bgImg = new Image();\n        bgImg.setAttribute('src', url);\n    return bgImg;\n}\n function dealWords(options) {\n    var allRow = Math.ceil(options.ctx.measureText(options.word).width / options.maxWidth);//实际总共能分多少行\n    var count = allRow >= options.maxLine ? options.maxLine : allRow;//实际能分多少行与设置的最大显示行数比，谁小就用谁做循环次数\n        \n    var endPos = 0;//当前字符串的截断点\n    for (var j = 0; j < count; j++) {\n        var nowStr = options.word.slice(endPos);//当前剩余的字符串\n        var rowWid = 0;//每一行当前宽度    \n        if (options.ctx.measureText(nowStr).width > options.maxWidth) {//如果当前的字符串宽度大于最大宽度，然后开始截取\n            for (var m = 0; m < nowStr.length; m++) {\n                rowWid += options.ctx.measureText(nowStr[m]).width;//当前字符串总宽度\n                if (rowWid > options.maxWidth) {                        \n                    if (j === options.maxLine - 1) { //如果是最后一行\n                        options.ctx.fillText(nowStr.slice(0, m - 1) + '...', options.x, options.y + (j + 1) * 18);    //(j+1)*18这是每一行的高度        \n                    } else {\n                        options.ctx.fillText(nowStr.slice(0, m), options.x, options.y + (j + 1) * 18);\n                    }\n                    endPos += m;//下次截断点\n                    break;\n                }\n            }\n        } else {//如果当前的字符串宽度小于最大宽度就直接输出\n            options.ctx.fillText(nowStr.slice(0), options.x, options.y + (j + 1) * 18);\n        }\n    }\n}\n\n// Converts image to canvas; returns new canvas element\nfunction convertImageToCanvas(image,status,name,icon) {\n    let canvas = document.createElement(\"canvas\");\n    let context = canvas.getContext(\"2d\");\n\tcanvas.width = 117;\n    canvas.height = 74;\n    canvas.title = name;\n    // 气泡框背景图片绘制\n    canvas.getContext(\"2d\").drawImage(rendImage(image), 0, 0);\n    canvas.getContext(\"2d\").drawImage(rendImage(icon), 10, 10);\n    context.font=\"12px microsoft yahei\";\n    context.fillStyle='#fff';\n    context.maxWidth = '100px';\n    context.fillText(status,35,23);\n    // context.fillText(name,10,50);\n\n    dealWords({ ctx: context,//画布上下文\n        fontSize: 12,//字体大小\n        word: name+\"\",//需要处理的文字\n        maxWidth: 100,//一行文字最大宽度\n        x: 10,//文字在x轴要显示的位置\n        y: 30,//文字在y轴要显示的位置\n        maxLine: 1//文字最多显示的行数\n    })\n    /* canvas.onmousemove = function(e) {\n        console.log(777778)\n    } */\n    return convertCanvasToImage(canvas)\n}\n\nclass ThreeView extends Component {\n    state = {  \n        visibleModal: false,    //BIM模型盒子显隐\n        visibleFilter: false,   //模型条件筛选\n        visibleTree: false,     //构件属性\n        visibleRing : false,    //构件报警信息\n        visibleHandel : false,  //漫游模式\n        visibleFloor : false,   //切割\n        treeValue:undefined,    //下拉树选中\n        bimTreeData:[],//bim模型数据\n        autoExpandParent: true, //自动展开父节点\n        expandedKeys:[],        //展开状态\n        checkedKeys:[],         //checked列表\n        selectedKeys: [],       //选中状态\n        reverse: false,\n        loading:true,\n        checkedList:['已关联', '未关联'],\n\n        romaList:[{       //筛选关联列表\n            name:'鼠标控制模式',\n            id:1\n        },{\n            name:'键盘模式',\n            id:2\n        }],\n        compAttrList:[],//属性列表\n        statusAndWaring:{},//状态及预警\n        filterTreeData:[],\n        filterCheckDisable:false,\n        xAxis:false,\n        yAxis:false,\n        zAxis:false,\n        xyzAxis:false,\n        keyMode:false,//键盘模式\n        currentBimInfos:{\n            projectId:\"\",\n            motor3dId:\"\"\n            /* appid:'cdf05910b5684a549da66b3e3e2c3757',\n            secret:'98715dc24bab0b69c89d2c7bbca5830b',\n            projectId:\"9be193d0-9c08-4b8f-b20e-4e070038a4bf\" */\n        },\n        romaValue:'1',\n        filterPageComp:[],//关联未关联列表\n        filterCompParams:{\n            pageSize:1000,\n            ppid:0,\n            pageIndex:1,\n            isRefBeam:0\n        },\n        plainOptions:{link:true,unlink:true},\n        linkComponent:{\n            linkList:[],\n            unlinkList:[]\n        },\n        markerTooltips:{\n            name:\"\",\n            position:{left:0,top:0}\n        }\n    }\n\n    //获梁场所属取项目部\n    getDeptInfo = () => {\n        type.getDeptInfo().then((data) => {\n            if(data.data.code === 1 && data.data.data.hasOwnProperty('deptId')) {\n                data.data.data['id'] = data.data.data.deptId;\n                data.data.data['pId'] = 0;\n                data.data.data['value'] = data.data.data.deptId;\n                data.data.data['title'] =  (<span><span className='icon-dept'></span>{data.data.data.deptName}</span>);\n                data.data.data['disabled'] = true;\n                this.getListDeptNode(data.data.data);\n            }\n        })\n    }\n    //获取项目部节点信息\n    getListDeptNode = (parent) => {\n        type.getListDeptNode().then((data) => {\n            if(data.data.code === 1 && data.data.data.hasOwnProperty('projectList')) {\n                let directlyPpidList = [];\n                let noDirectlyPpidList = [];\n                Object.keys(data.data.data).map((keys) => (\n                    data.data.data[keys].map((val,key) => {\n                        if(val.parentId){\n                            val.id = val.nodeId;\n                            val.pId = val.parentId;\n                            val.value = val.nodeId;\n                            val.key = val.nodeId;\n                            val['disabled'] = true;\n                            if (val.nodeType === 1) {\n                                val.title = (<span ><span className='icon-biao'></span>{val.nodeName}</span>);\n                            } else if (val.nodeType === 2) {\n                                val.title = (<span ><span className='icon-xiang'></span>{val.nodeName}</span>);\n                            } else if (val.nodeType === 3) {\n                                val.title = (<span ><span className='icon-dan'></span>{val.nodeName}</span>);\n                            }\n                        }else{\n                            val.id = val.ppid;\n                            val.pId = val.nodeId;\n                            val.value = val.ppid;\n                            val.key = val.ppid;\n                            if (val.projTypeStr === '土建预算') {\n                                val.title = (<span ><span className='icon-project icon-tujian'></span>{val.projectName}</span>);\n                            }else if (val.projTypeStr === '钢筋预算') {\n                                val.title = (<span ><span className='icon-project icon-gangjin'></span>{val.projectName}</span>);\n                            } else if (val.projTypeStr === '造价工程') {\n                                val.title = (<span ><span className='icon-project icon-zaojia'></span>{val.projectName}</span>);\n                            } else if (val.projTypeStr === '安装预算') {\n                                val.title = (<span ><span className='icon-project icon-anzhuang'></span>{val.projectName}</span>);\n                            } else if (val.projTypeStr === '场布预算') {\n                                val.title = (<span ><span className='icon-project icon-changbu'></span>{val.projectName}</span>);\n                            } else if (val.projTypeStr === 'Tekla') {\n                                val.title = (<span ><span className='icon-project icon-tekla'></span>{val.projectName}</span>);\n                            } else if (val.projTypeStr === 'Revit') {\n                                val.title = (<span ><span className='icon-project icon-revit'></span>{val.projectName}</span>);\n                            } else if (val.projTypeStr === '班筑家装') {\n                                val.title = (<span ><span className='icon-project icon-banzhu'></span>{val.projectName}</span>);\n                            } else if (val.projTypeStr === 'Civil3D') {\n                                val.title = (<span ><span className='icon-project icon-civil3D'></span>{val.projectName}</span>);\n                            } else if (val.projTypeStr === 'Bentley') {\n                                val.title = (<span ><span className='icon-project icon-bentley'></span>{val.projectName}</span>);\n                            } else if (val.projTypeStr === 'Rhino') {\n                                val.title = (<span ><span className='icon-project icon-rhino'></span>{val.projectName}</span>);\n                            } else if (val.projTypeStr === 'IFC') {\n                                val.title = (<span ><span className='icon-project icon-ifc'></span>{val.projectName}</span>);\n                            }\n                            if(val.nodeType === 0 || val.nodeType === null) {\n                                directlyPpidList.push(val)\n                            } else {\n                                noDirectlyPpidList.push(val);\n                            }\n                        }\n                    })\n                ))\n                let obj = data.data.data.deptUnitList.concat(directlyPpidList).concat(noDirectlyPpidList).concat([parent]);\n                this.setState({bimTreeData:obj});\n            }\n        })\n    }\n    treeNodeFilter = (inputValue,treeNode) =>{\n        console.log(inputValue,treeNode)\n        if(treeNode.props.hasOwnProperty(\"projectName\")) {\n            if(treeNode.props.projectName.indexOf(inputValue) != -1){\n                return true;\n            }\n        } else if(treeNode.props.hasOwnProperty(\"nodeName\")){\n            if(treeNode.props.nodeName.indexOf(inputValue) != -1){\n                return true;\n            }\n        }\n        return false;\n    }\n     //修改梁场关联的临建BIM模型[梁场V1.1]\n     putBeatBim = (params) => {\n        return new Promise(function(reslove,reject){\n            type.putBeatBim(params).then((data)=>{\n                if(data.data.code === 1) {\n                    reslove(data.data);\n                }\n            })\n        })\n    }\n    handleBimSwitchOk = ()=> {\n        if(this.state.treeValue === undefined) {\n            return false;\n        }\n        this.setState({loading:true});\n        this.initBimProject(this.state.currentBimInfos);\n    }\n      //查询构件属性\n      getBimCompAttr = (params) => {\n          type.getBimCompAttr(params).then((data)=> {\n            if(data.data.code === 1 ){\n                if(data.data.data.length>0){\n                    this.setState({compAttrList:data.data.data});\n                }else {\n                    this.setState({compAttrList:[]});\n                }\n            }\n          })\n      }\n\n      //查询构件树的状态(已关联 or 未关联)\n      getPageComp = (params)=> {\n        let self = this;\n        return new Promise(function(resolve,reject){\n            type.getPageComp(params).then((data)=>{\n                /* if(data.data.code === 1 ){\n                    resolve(data.data.data)\n                } else {\n                    resolve([]);\n                } */\n                resolve(data.data.data)\n            })\n        })\n      }\n      //梁体状态统计接口[梁场V1.1]\n      getStaticisticsBodyStatus = () => {\n            let self = this;\n            return new Promise(function(resolve,reject){\n                type.getStaticisticsBodyStatus().then((data)=>{\n                    resolve(data.data.data)\n                    if(data.data.code===1 ){\n                        /* Object.keys(data.data.data).map(key=>{\n                            if( key === 'productionStateStatisticsList') {\n                                data.data.data[key].map((val1,key1)=>{\n                                    if(val1.handles.length === 0) {\n                                        val1.handles = componentsList.slice(key1*2,key1*2+2)\n                                    }\n                                })\n                            } else if (key === 'pendingProductionStatisticsList' || key === \"delayProductionStatisticsList\") {\n                                data.data.data['pendingProductionStatisticsList'] = [{\n                                    name:123,number:123,handles:[\"1cf2b015-1754-4298-a290-4801584492eb-0047f279\",\"1cf2b015-1754-4298-a290-4801584492eb-0047f271\"]\n                                },{\n                                    name:456,number:456,handles:[\"1cf2b015-1754-4298-a290-4801584492eb-0047f180\",\"1cf2b015-1754-4298-a290-4801584492eb-0047f195\"]\n                                }]\n                                data.data.data[key].map((val1,key1)=>{\n                                    if(val1.handles.length === 0) {\n                                        val1.handles = componentsList.slice(key1*2,key1*2+2)\n                                    }\n                                })\n                            }\n                        })\n                        console.log(data.data.data,'data') */\n                        self.setState({statusAndWaring:data.data.data});\n                    }else {\n                        self.setState({statusAndWaring:{normal:staticComponentList}})\n                    }\n                })\n            })\n      }\n      showDrawer = (type,e) => {\n        let clearComponentList = [];\n        \n        this.setState(initDrawerStats);\n        this.setState({\n            xAxis:false,\n            yAxis:false,\n            zAxis:false,\n            xyzAxis:false,\n            keyMode:false,\n            romaValue:this.state.romaList[0].name\n        })\n        this.setState({\n            [type]:true\n        });\n        project.deselectAllComponents();\n        viewer.navigationMode = Motor.NavigationMode.NAV_FREE_MOUSE;\n        if (clippingPlaneEditor && !clippingPlaneEditor.isDestroyed()) {\n            clippingPlaneEditor.destroy();\n        }\n        markers.removeAll();\n\n        console.log(totalColorList,'clearComponentList')\n        project.resetComponentsDefaultColorByOption(totalColorList);\n        if(type === 'visibleModal') {\n            this.getDeptInfo()\n        } else if(type === 'visibleRing') {\n            totalColorList = [];\n            // project.setComponentsColor( Motor.Color.fromCssColorString('#67ADDF'),[\"1522209c-e2d1-4f56-8d92-8ae6dbb9e99f\",\"f23b32df-14e0-483d-b86d-c77f1cdab16d\"]);\n            // resetComponentsDefaultColor([\"1522209c-e2d1-4f56-8d92-8ae6dbb9e99f\",\"f23b32df-14e0-483d-b86d-c77f1cdab16d\"]);\n            this.getStaticisticsBodyStatus().then((data)=>{\n                Object.keys(this.state.statusAndWaring).map((key)=>{\n                    if(key === 'productionStateStatisticsList') {\n                        this.state.statusAndWaring[key].map((val,key1)=> {\n                            let colorList = [];\n                            if(val.handles.length>0 && val.handles && val.name!=\"未生产\") {\n                                val.handles.map((val2,key2) => {\n                                    colorList.push({bimGuid:val2});\n                                    totalColorList.push({bimGuid:val2});\n                                })\n                                val['componentList'] = colorList;\n                                // project.setComponentsColor( Motor.Color.fromCssColorString(val.color),colorList);\n                                if(val.color !=\"\"){\n                                    project.setComponentsColorByOption(colorList,Motor.Color.fromCssColorString(val.color));\n                                }\n                            }\n                        })\n                    } else if (key === 'pendingProductionStatisticsList' || key === \"delayProductionStatisticsList\") {\n                        this.state.statusAndWaring[key].map((val,key1)=> {\n                            let markList = [];\n                            if(val.handles.length>0 && val.handles) {\n                                this.markerComponent(val.handles,key,val.name);\n                            }\n                        })\n                    }\n                })\n            })\n        }else if(type=='visibleFilter'){\n            \n        }\n      };\n      /* BIM模型 */\n      onHandelChange = (value, label, extra) => {\n          this.setState({plainOptions:{link:true,unlink:true}});\n          if (value === undefined) {\n            this.setState({treeValue:undefined});\n          } else {\n            if (extra.triggerNode.props.hasOwnProperty('ppid')) {\n                this.putBeatBim({ppid:value}).then((data)=>{\n                    if(data.code === 1 && data.data.result) {\n                        this.setState({treeValue:value,currentBimInfos:{projectId:extra.triggerNode.props.projectId,motor3dId:extra.triggerNode.props.motor3dId}});\n                    }\n                })\n            }\n          }\n      }\n      onClose = () => {\n        //   console.log(6666, 'close')\n        project.deselectAllComponents();\n        this.setState(initDrawerStats);\n      };\n      bimView = () => {\n        // console.log(123);\n        /* viewer.marqueeEditor.startMarquee();\n        //鼠标开始框选\n        removeStart = viewer.marqueeEditor.marqueeStart.addEventListener(function() {\n            console.log('框选开始');\n        });\n        //鼠标结束框选\n        removeStop = viewer.marqueeEditor.marqueeStop.addEventListener(function() {\n            console.log('框选结束');\n        }); */\n      }\n      onExpand = expandedKeys => {\n        console.log('onExpand', expandedKeys);\n        // if not set autoExpandParent to false, if children expanded, parent can not collapse.\n        // or, you can remove all expanded children keys.\n        this.setState({\n          expandedKeys,\n          autoExpandParent: false,\n        });\n      };\n      onCheck = (checkedKeys,treeNode) => {\n        treeNode.node.props.dataRef.isChecked = treeNode.checked;\n        project.setVisiblityFromTree(treeNode.node.props.dataRef);\n        this.siteList = treeNode.checkedNodes;\n        this.setState({ checkedKeys });\n      };\n    \n      onSelect = (selectedKeys, info) => {\n        this.setState({ selectedKeys });\n      };\n      renderTreeNodes = (data,parent) => \n            data.map(item => {\n                if (item.children) {\n                    return (\n                        // icon={<Icon type=\"carry-out\" style={{ fontSize: '16px', color: '#08c' }} />}\n                        <TreeNode  title={item.name} key={item.id} dataRef={item}>\n                        {this.renderTreeNodes(item.children,item)}\n                        </TreeNode>\n                    );\n                }\n                return <TreeNode title={item.name} key={item.id} {...item} />;\n          });\n      //关联树结构筛选数据处理\n      filterCompFormat = (data)=>{\n          let arrList = [];\n          data.map((val,key)=>{\n              if (val.hl) {\n                if (arrList.indexOf(val.hl) === -1) {\n                    arrList.push({bimGuid:val.hl})\n                }\n              }\n          })\n          return arrList;\n      }\n      filterTreeList  = (isRef) =>{\n        let self = this;\n        self.state.filterCompParams.isRefBeam = isRef;\n        self.state.filterCompParams.ppid = self.state.treeValue;\n        this.setState(self.state.filterCompParams);\n        return new Promise(resolve=>{\n            this.getPageComp(self.state.filterCompParams).then((data)=>{\n                if (data === null){\n                    return false;\n                } else if (data.length == 0 ) {\n                    return false;\n                }\n                (async function (){\n                    let i = 1;\n                    let isBreack = false;\n                    let filterList = [];\n                    while (!isBreack) { \n                        i++;\n                        await new Promise(resolve=>{\n                            type.getPageComp({ppid:self.state.treeValue,pageSize:1000,pageIndex:i,isRefBeam:self.state.filterCompParams.isRefBeam}).then((data1)=>{\n                                isBreack = (data1.data.data !== null && data1.data.data.length<1000)?true:false;\n                                data = data.concat(data1.data.data);\n                                resolve(data);\n                            })\n                        })\n\n                    }\n                    if (data.length>0) {\n                        // console.log(self.filterCompFormat(data))\n                        // project.setComponentsVisiblity(checkedEvent.target.checked,self.filterCompFormat(data))\n                        // project.setComponentsVisibilityByOption(self.filterCompFormat(data),checkedEvent.target.checked);\n                        self.setState({loading:false});\n                    } else {\n                        self.setState({loading:false});\n                    }\n                    \n                    resolve(data);\n                })(); \n            });\n        })\n      }\n      /* filter筛选 */\n      onCheckChange = (checkedEvent) => {\n          this.setState({loading:true});\n          let self =this;\n          self.state.plainOptions.unlink = checkedEvent.target.value==\"未关联\"?checkedEvent.target.checked:self.state.plainOptions.unlink\n          self.state.plainOptions.link = checkedEvent.target.value==\"已关联\"?checkedEvent.target.checked:self.state.plainOptions.link;\n          self.state.filterCompParams.isRefBeam = checkedEvent.target.value === '未关联'?0:1;\n          self.state.filterCompParams.ppid = self.state.treeValue;\n          self.setState(self.state.filterCompParams);\n          self.setState(this.setState.plainOptions);\n          console.log(this.state.loading,'loading')\n          if (self.state.filterCompParams.isRefBeam === 0) {\n                setTimeout(()=>{\n                    project.setComponentsVisibilityByOption(self.filterCompFormat(self.state.linkComponent.unlinkList),checkedEvent.target.checked);\n                    self.setState({loading:false})\n                },1000)\n            } else {\n                setTimeout(()=>{\n                    project.setComponentsVisibilityByOption(self.filterCompFormat(self.state.linkComponent.linkList),checkedEvent.target.checked);\n                    self.setState({loading:false})\n                },1000)\n            }\n          \n      }\n      filterTreeStructure = (data,parent,pid)=> {\n        let i = 0;\n        data.map(item => {\n            i++;\n            item['pid'] = pid;\n            item['id'] = i + 1 + pid * 10; \n            /* if(!item.projectId && parent){\n                item['id'] = Math.floor(Math.random() * 10000) \n            } */\n            if (item.children) {\n                this.filterTreeStructure(item.children,item,item.id)\n            }\n            defaultCheckedKeys.push(item.id);\n        })\n     }\n      handleFilterChange = (value)=> {\n        // console.log(`selected ${value}`);\n      }\n      deepTraversa = (node, nodeList = []) => {\n        if (node !== null) {\n          nodeList.push(node.id + '')\n          let children = node.children\n          if(children){\n            for (let i = 0; i < children.length; i++) {\n                this.deepTraversa(children[i], nodeList)\n              }\n          }\n        }\n        return nodeList\n      }\n      /* ztree 展开全部或者关闭全部 */\n      onExpandNode = (stauts) =>{\n        var zTree = $.fn.zTree.getZTreeObj(\"filter-tree\");\n        zTree.expandAll(stauts);\n      }\n      //展开全部\n    onExpandAll = () => {\n        const expandedKeys = [];\n        // console.log(this.state.autoExpandParent)\n        this.state.filterTreeData.forEach(item => {\n            expandedKeys.push(this.deepTraversa(item))\n        })\n        this.setState({\n            expandedKeys: expandedKeys.flat()\n        });\n    }\n\n    //收起全部\n    onExpandClose = () => {\n        console.log(this.state.autoExpandParent)\n        this.setState({\n            expandedKeys: []\n        });\n    }\n    // 选中构件\n    selectComponent = (item,event) =>{\n        event.stopPropagation();\n        // project.deselectAllComponents();\n        project.selectComponentsByOption(item.componentList);\n    }\n    selectMarkers = (item)=> {\n        // this.markerComponent(item.id);\n    }\n    // 取消选中\n    deSelectComponent = () => {\n        this.setState({compAttrList:[]})\n        project.deselectAllComponents();\n    }\n    /* 属性面板 */\n    tabCallback = ()=>{\n        \n    }\n    renderCompAttr = (data,type) => \n        data.map((item,index)=> {\n            // console.log(data,'data')\n            \n            return (\n                <div className='tab-property' key={item.groupName}>\n                    <p className={'tab-title'}>{item.attrList.filter(item=>item.value!='').length>0?item.groupName:''}</p> \n                    {\n                        (item.attrList)? \n                            item.attrList.map((subItem,subIndex) => {\n                                return <div className='tab-property' key={subItem.name+subItem.id}>\n                                    {subItem.value !== ''?\n                                        <p className='tab-item'>{subItem.name}{'：'+subItem.value}</p>\n                                        :<></>\n                                    }\n                                </div>\n                            })\n                        \n                        :null\n                    }\n                </div>\n            )\n        })\n    /* 剖切 */\n    changeClippingPlaneEditor = (checked,event)=> {\n        let axis = '';\n        if(clippingPlaneEditor.isDestroyed()) {\n            clippingPlaneEditor = new Motor.ClippingPlaneEditor(project);\n        }\n        if(event.currentTarget.className.indexOf('x-axis')!==-1){\n            axis = 'X';\n        } else if(event.currentTarget.className.indexOf('y-axis')!==-1) {\n            axis = 'Y';\n        } else if(event.currentTarget.className.indexOf('z-axis')!==-1) {\n            axis = 'Z';\n        } \n        if(event.currentTarget.className.indexOf('xyz-axis')!==-1) {\n            axis = 'XYZ';\n        }\n        let currentAxis = axis.toLocaleLowerCase()+'Axis';\n        let currentObj = {};\n        currentObj[currentAxis] = checked;\n        if(checked){\n            this.setState(initSwitch,()=>{\n                // console.log(currentAxis,'currentAxis')\n                this.setState(currentObj);\n                clippingPlaneEditor.addClippingPlane(axis);\n            })\n        }else {\n            this.setState(currentObj);\n            if (clippingPlaneEditor && !clippingPlaneEditor.isDestroyed()) {\n                clippingPlaneEditor.destroy();\n            }\n        }\n    }\n    /* 漫游模式(鼠标键盘模式设置) */\n    handelRomaChange = (value)=> {\n        \n        if(value===1) {//鼠标漫游模式\n            this.setState({keyMode:false,romaValue:value});\n            viewer.navigationMode = Motor.NavigationMode.NAV_FREE_MOUSE;\n            \n        } else {\n            this.setState({keyMode:true,romaValue:value});\n            viewer.navigationMode = Motor.NavigationMode.NAV_FREE_KEY;\n            \n        }\n    }\n    /* 键盘模式速度控制 */\n    onSliderChange = (value)=> {\n        viewer.roamEditor.movementSpeed = value;\n    }\n    \n    onRomaPopover = (value)=>{\n        if(!value){\n            this.setState(initDrawerStats)\n        }\n    }\n    onPopoverHide = (event)=>{\n        // console.log(event.currentTarget.getAttribute(\"Name\"),'currentIssue')\n        if(event.currentTarget.getAttribute(\"Name\") ==='floor'){\n            this.setState({\n                visibleFloor: false,\n            });\n            if (clippingPlaneEditor && !clippingPlaneEditor.isDestroyed()) {\n                clippingPlaneEditor.destroy();\n            }\n        }else {\n            this.setState({\n                visibleHandel: false,\n                keyMode:false,\n            });\n            viewer.navigationMode = Motor.NavigationMode.NAV_FREE_MOUSE;\n        }\n    }\n    markerComponent = (count,key,name)=> {\n        let markerList = [];\n        let markerInfosArr = [];\n            markers.removeAll();\n        if(!count) {\n            return false;\n        }\n        project.queryComponentsByBIMGuid(count).then(function(components){\n            console.log(components,'components')\n            components.forEach((val,key)=>{\n                markerList.push(Motor.Cartographic.fromCartesian(val.position));\n            })\n            markerList.forEach((val1,key1)=>{\n                markerInfosArr.push({\n                    id:`marker${val1}-${name}`,\n                    position: {\n                        cartographicRadians: [val1.longitude,val1.latitude,val1.height]\n                    },\n                    pixelOffset:{\n                        cartesian2:[-10,-30]//左移10个像素，上移30个像素\n                    },\n                    billboard: {\n                        image: convertImageToCanvas(tipImage,key==='pendingProductionStatisticsList'?\"待生产\":\"已延期\",name,key==='pendingProductionStatisticsList'?tipIconWarning:tipIcon),//图片地址\n                        verticalOrigin: 'BOTTOM',\n                        horizontalOrigin: 'CENTER',\n                        sizeInMeters:true,//缩放比利\n                        scale:0.08,\n                        disableDepthTestDistance: Number.POSITIVE_INFINITY//标注始终在最前\n                    }\n                })\n            })\n            markers.add(markerInfosArr);\n            // console.log(convertImageToCanvas(tipImage,1,'哈哈哈哈哈',tipIcon),'markerInfosArr')\n        })\n    }\n    initBimProject = (currentBimInfo) => {\n        // console.log(currentBimInfo,'currentBimInfo')\n        if (currentBimInfo.motor3dId == null) {\n            this.setState({loading:false})\n            return false;\n        }\n        if (viewer) {\n            if(!viewer.isDestroyed()) {\n                viewer.destroy();\n            }\n        }\n        let self = this;\n        viewer = new Motor.Viewer({\n            container: this.threeViewContainer,\n            viewerMode: Motor.ViewerMode.BIM,\n            /* appid: currentBimInfo.appid,\n            secret: currentBimInfo.secret, */\n            access_token:self.props.token,\n            antialias:true,\n            backgroundColor:Motor.Color.fromCssColorString('#f6f6f3')\n        });\n        Motor.Config.serverUrl = window.MOTOR_SERVERURL_CONFIG;\n        //初始化\n        viewer.initialize().then(() => {\n\n            project = viewer.queryProject(currentBimInfo.motor3dId);\n            //开启框选放大功能\n            viewer.enableMarquee = true;\n            markers = new Motor.MarkerCollection({\n                viewer: viewer,//Motor.Viewer实例\n            })\n            let marquee = document.getElementById('marquee');\n            project.open().then(() => {\n                clippingPlaneEditor = new Motor.ClippingPlaneEditor(project);\n                this.markerComponent();\n                this.filterTreeList(0).then((data)=>{\n                    this.state.linkComponent.unlinkList = data;\n                    this.setState(this.state.linkComponent);\n                    this.filterTreeList(1).then((data1)=>{\n                        this.state.linkComponent.linkList = data1;\n                        this.setState(this.state.linkComponent);\n                        if(data.length>3000 ||data1.length>3000){\n                            message.error('BIM模型超出3000个构件，已禁用已关联未关联操作！');\n                            self.state.filterCheckDisable = true;\n                            return;\n                        } else {\n                            self.state.filterCheckDisable = false;\n                        }\n                    });\n                });\n                \n                project.getTreeStructure().then(data=>{\n                    if(data.children.length >0) {\n                        self.state.filterCheckDisable = false;\n                    } else {\n                        self.state.filterCheckDisable = true;\n                        data['nocheck'] = true;\n\n                    }\n                    zTreeObj =  $.fn.zTree.init($(\"#filter-tree\"), filterSetting, data);\n                    zTreeObj.expandAll(true);\n                    zTreeObj.checkAllNodes(true);\n                    reSetNodes(zTreeObj);\n                });\n            })\n                \n            //当前选择的构件\n            let currentComponent;\n            viewer.addMouseEventListener(Motor.MouseEventType.MOUSE_MOVE, function (mouse) {\n                self.state.markerTooltips.position.left = mouse.startPosition?mouse.startPosition.x:0;\n                self.state.markerTooltips.position.top = mouse.startPosition?mouse.startPosition.y:0;\n                let obj = viewer.pick(mouse.startPosition,project);\n                if (obj instanceof Motor.MarkerView) {\n                    if(obj.id.indexOf('marker')!=-1){\n                        self.state.markerTooltips.name = obj.id.split('-')[1];\n                        self.setState(self.state.markerTooltips)\n                    }\n                } else {\n                    self.state.markerTooltips.name = \"\";\n                    self.setState(self.state.markerTooltips)\n                }\n            })\n            viewer.addMouseEventListener(Motor.MouseEventType.LEFT_CLICK, function (mouse) {\n                console.log(mouse,'mouse')\n                project.deselectAllComponents();\n                //根据屏幕坐标coords，获取点选的对象\n                let obj = viewer.pick(mouse.position,project);\n                if (obj instanceof Motor.Component) {\n                    console.log(obj,'infos')\n                    obj.select();\n                    currentComponent = obj;\n                    obj.getProperties().then((data)=>{\n                        // console.log(data,'data');\n                        self.getBimCompAttr({handle:data.bimGuid,ppid:parseInt(self.state.treeValue),projTypeStr:self.props.treeNode.projTypeStr,floor:data.floor})\n                    })\n                } else {\n                    if (currentComponent) {\n                        currentComponent.deselect();\n                    }\n                }\n            })\n            //定义点选回调函数\n            viewer.addMouseEventListener(Motor.MouseEventType.LEFT_DOUBLE_CLICK, function (mouse) {\n                //根据屏幕坐标coords，获取点选的对象\n                let obj = viewer.pick(mouse.position,project);\n                if (obj instanceof Motor.Component) {\n                    //镜头锁定构件\n                    viewer.flyTo(obj)\n                }\n            })\n        });\n    }\n\n    componentDidMount(){\n        let currentBimInfo = this.state.treeValue?this.state.currentBimInfos:this.props.selectBimInfo;\n        this.setState({treeValue:this.props.treeNode.ppid});\n        this.initBimProject(currentBimInfo);\n    }\n    render() { \n        // console.log(123,'bimview')\n        const formItemLayout = {\n            labelCol: {\n              xs: { span: 24 },\n              sm: { span: 8 },\n            },\n            wrapperCol: {\n              xs: { span: 24 },\n              sm: { span: 16 },\n            },\n        };\n        return (  \n            <>\n            <Spin spinning={this.state.loading} tip=\"拼命加载中...\">\n                <img src={tipImage} alt='bg' style={{display:'none'}} id='ringoImage'/>\n                <img src={tipIcon} alt='icon' style={{display:'none'}} id='icon'/>\n                <img src={tipIconWarning} alt='iconWarning' style={{display:'none'}} id='iconWarning'/>\n                {this.state.markerTooltips.name!=''?<div className = \"tootips\" style={{left:this.state.markerTooltips.position.left,top:this.state.markerTooltips.position.top}}>{this.state.markerTooltips.name}</div>:<></>}\n                <Row className='bim-view' onClick = {()=>this.bimView()}>\n                        <div ref={element => this.threeViewContainer = element} style={{height:'100%'}}></div>\n                </Row>\n                <Row className={`tool-bar ${this.props.selectBimInfo.motor3dId == null ? \"is-visble\" :''}` }>\n                    <Button.Group>\n                        <Button  size={size} className={`tool-btn ${this.state.visibleModal?'tool-active':''}`} title=\"BIM模型\" onClick={()=> this.showDrawer('visibleModal')}>\n                            <span className=\"icon-tool icon-modal\" ></span>\n                        </Button>\n                        <Button  size={size} className={`tool-btn ${this.state.visibleFilter?'tool-active':''}`} title=\"筛选\" onClick={()=> this.showDrawer('visibleFilter')}>\n                            <span className=\"icon-tool icon-filter\" ></span>\n                        </Button>\n                        <Button  size={size} className={`tool-btn ${this.state.visibleTree?'tool-active':''}`} title=\"构件属性\" onClick={()=> this.showDrawer('visibleTree')}>\n                            <span className=\"icon-tool icon-tree\" ></span>\n                        </Button>\n                        <Button  size={size} className={`tool-btn ${this.state.visibleRing?'tool-active':''}`} title=\"状态及预警\" onClick={()=> this.showDrawer('visibleRing')}>\n                            <span className=\"icon-tool icon-ring\" ></span>\n                        </Button>\n                        <Popover placement=\"top\" title={\n                            <p>漫游<span style={{float:'right'}} name='roma' onClick={this.onPopoverHide}><Icon type=\"close\" /></span></p>\n                        } overlayClassName='popover-roma' arrowPointAtCenter = {true} autoAdjustOverflow ={true} visible={this.state.visibleHandel} onVisibleChange ={this.onPopoverChange} content={\n                            <div onClick={this.hide}>\n                                <span className ='icon-schema'></span>\n                                <Select value={this.state.romaValue}  style={{width:200}} onChange={this.handelRomaChange}>\n                                    {\n                                        this.state.romaList.map((item,index)=>{\n                                            return <Select.Option value={item.id} key={index}>{item.name}</Select.Option>\n                                        })\n                                    }\n                                </Select>\n                                <p style={{paddingTop:'10px'}}><span className='icon-speed'></span>移动速度</p>\n                                <Slider min={0} max={10}  step={1} defaultValue={1}  disabled={!this.state.keyMode} onAfterChange={this.onSliderChange}  />\n                            </div>\n                        } trigger=\"click\">\n                            <Button  size={size} className={`tool-btn ${this.state.visibleHandel?'tool-active':''}`} title=\"漫游\" onClick={()=> this.showDrawer('visibleHandel')}>\n                                <span className=\"icon-tool icon-handle\" ></span>\n                            </Button>\n                        </Popover>\n                        <Popover placement=\"top\" visible={this.state.visibleFloor} title = {\n                            <p>剖切<span name='floor' style={{float:'right'}} onClick={this.onPopoverHide}><Icon type=\"close\" /></span></p>\n                        }  overlayClassName='popover-roma' arrowPointAtCenter = {true} autoAdjustOverflow ={true} onVisibleChange ={this.onPopoverChange} content={\n                            <div>\n                                <div>\n                                    <span className='x-span'>X轴：</span><Switch size=\"small\"  className='x-axis' checkedChildren=\"开\" unCheckedChildren=\"关\" checked={this.state.xAxis}  onChange={this.changeClippingPlaneEditor}/>\n                                </div>\n                                <div>\n                                    <span className='x-span'>Y轴：</span><Switch size=\"small\" className='y-axis' checkedChildren=\"开\" unCheckedChildren=\"关\" checked={this.state.yAxis} onChange={this.changeClippingPlaneEditor} />\n                                </div>\n                                <div>\n                                    <span className='x-span'>Z轴：</span><Switch size=\"small\" className='z-axis' checkedChildren=\"开\" unCheckedChildren=\"关\" checked={this.state.zAxis} onChange={this.changeClippingPlaneEditor} />\n                                </div>\n                                <div>\n                                    <span className='x-span'>XYZ轴：</span><Switch size=\"small\" className='xyz-axis' checkedChildren=\"开\" unCheckedChildren=\"关\" checked={this.state.xyzAxis} onChange={this.changeClippingPlaneEditor}/>\n                                </div>\n                            </div>\n                        } trigger=\"click\">\n                            <Button  size={size} className={`tool-btn ${this.state.visibleFloor?'tool-active':''}`} title=\"剖切\" onClick={()=> this.showDrawer('visibleFloor')}>\n                                <span className=\"icon-tool icon-floor\" ></span>\n                            </Button>\n                        </Popover>\n                    </Button.Group>\n                    <Drawer className ='drawer-view'\n                        title=\"BIM模型\"\n                        placement=\"right\"\n                        closable={true}\n                        mask = {false}\n                        width={339}\n                        height={200}\n                        onClose={this.onClose}\n                        visible={this.state.visibleModal}\n                    >\n                        <Form {...formItemLayout}>\n                            <Form.Item label=\"梁场BIM模型\" className='form-item'>\n                                <TreeSelect\n                                    showSearch\n                                    treeDataSimpleMode\n                                    dropdownClassName ='bim-drawer-tree'\n                                    value={this.state.treeValue}\n                                    dropdownStyle={{minWidth:300,maxWidth:300, maxHeight: 400, overflow: 'auto' }}\n                                    placeholder=\"关联模型\"\n                                    filterTreeNode={this.treeNodeFilter}\n                                    allowClear\n                                    treeDefaultExpandAll\n                                    getPopupContainer = {triggerNode => triggerNode.parentNode}\n                                    treeData={this.state.bimTreeData}\n                                    onChange={this.onHandelChange}\n                                />\n                            </Form.Item>\n                            <Form.Item  className='form-item'>\n                                <Tree\n                                    showLine\n                                    checkable\n                                    onExpand={this.onExpand}\n                                    onCheck={this.onCheck}\n                                    checkedKeys={this.state.checkedKeys}\n                                    onSelect={this.onSelect}\n                                    selectedKeys={this.state.selectedKeys}\n                                    defaultExpandAll = {true}\n                                    switcherIcon={<span className='icon-arrow' />}\n                                >\n                                    {this.renderTreeNodes(this.state.filterTreeData)}\n                                </Tree>\n                            </Form.Item>\n                        </Form>\n                        <div style={{position:'absolute',bottom:'20px'}}>\n                            <Button style= {{marginLeft:'48px',marginRight:'20px'}} onClick={this.onClose}>取消</Button>\n                            <Button type=\"primary\" onClick={()=>this.handleBimSwitchOk()}>确定</Button>\n                        </div>\n                    </Drawer>\n                    <Drawer className ='drawer-view'\n                        title=\"筛选\"\n                        placement=\"right\"\n                        closable={true}\n                        mask = {false}\n                        width={339}\n                        onClose={this.onClose}\n                        visible={true}\n                        className={this.state.visibleFilter?'filter-show':'filter-hide'}\n                    >     \n                        <div style ={{marginBottom: '13px',}}>\n                                \n                                <Checkbox value=\"已关联\" disabled = {this.state.filterCheckDisable} checked={this.state.plainOptions.link} onChange={this.onCheckChange}>已关联</Checkbox>\n                                <Checkbox value=\"未关联\" disabled = {this.state.filterCheckDisable} checked={this.state.plainOptions.unlink} onChange={this.onCheckChange}>未关联</Checkbox>\n                                <div style={{float:'right'}} >\n                                    <span className = \"expandAll\" onClick ={()=> this.onExpandNode(true)}>\n                                        <Icon type=\"plus\" />\n                                    </span>\n                                    <span className = \"closeAll\" onClick ={()=> this.onExpandNode(false)}>\n                                        <Icon type = \"line\" />\n                                    </span>\n                                </div>\n                            </div>\n                            {/* <Tree\n                                showLine\n                                checkable\n                                onExpand={this.onExpand}\n                                onCheck={this.onCheck}\n                                checkedKeys={this.state.checkedKeys}\n                                onSelect={this.onSelect}\n                                selectedKeys={this.state.selectedKeys}\n                                autoExpandParent={this.state.autoExpandParent}\n                                expandedKeys={this.state.expandedKeys}\n                                switcherIcon={<span className='icon-arrow' />}\n                            >\n                                {this.renderTreeNodes(this.state.filterTreeData)}\n                            </Tree> */}\n                            <ul id='filter-tree' className=\"ztree\"></ul> \n                    </Drawer>\n                    <Drawer className ='drawer-view drawer-tab'\n                        placement=\"right\"\n                        closable={true}\n                        mask = {false}\n                        width={339}\n                        onClose={this.onClose}\n                        visible={this.state.visibleTree}\n                    >\n                        <Tabs defaultActiveKey=\"1\" onChange={()=>this.tabCallback}>\n                            <Tabs.TabPane tab=\"属性\" key=\"1\">\n                               {\n                                this.state.compAttrList.length>0?this.renderCompAttr(this.state.compAttrList):<p className=\"no-comp\">未选择构件，暂无数据</p>\n                               }\n                               \n                            </Tabs.TabPane>\n                            {\n                                /* <Tabs.TabPane tab=\"资料\" key=\"2\">\n                                    Content of Tab Pane 2\n                                </Tabs.TabPane>\n                                <Tabs.TabPane tab=\"二维码\" key=\"3\">\n                                    Content of Tab Pane 3\n                                </Tabs.TabPane> */\n                            }\n                        </Tabs>\n                    </Drawer>\n                    <Drawer className ='drawer-visibleRing'\n                        title=\"预警\"\n                        placement=\"right\"\n                        closable={true}\n                        mask = {false}\n                        width={339}\n                        onClose={this.onClose}\n                        visible={this.state.visibleRing}\n                        onClick = {()=> this.deSelectComponent()}\n                    >\n                        {\n                            Object.keys(this.state.statusAndWaring).map(key=>(\n                                <div className='tab-ring' key={key} >\n                                    {this.state.statusAndWaring[key].length>0?<p className='tab-title'>{waringTitle[key]}</p>:null}\n                                    {\n                                        key ==='productionStateStatisticsList'\n                                        ?(this.state.statusAndWaring[key].map((item,index)=>{\n                                            return item.number>0?<div className='tab-item' key={index}>\n                                                <span className={`ring-legend ${item.name==='未生产'?'no-prodect':null}`} style={{background:`${item.color}`}}>\n                                                    {\n                                                        item.name==='未生产'?<span className='line'></span>:null\n                                                    }\n                                                </span>\n                                                <p>{item.name}</p>\n                                                {\n                                                    !item.handles?<span style ={{color:'#ccc'}}>{item.number}</span>\n                                                    :<span onClick = {(e)=>this.selectComponent(item,e)}>{item.number}</span>\n                                                }\n                                            </div>:null\n                                        })):(\n                                            this.state.statusAndWaring[key].map((item,index)=>{\n                                                // console.log(item,'item')\n                                                return item.number>0?<div className='tab-item' key={index} onClick = {()=>this.selectMarkers(item)}>\n                                                    <span className={`ring-image ${key==='pendingProductionStatisticsList'?'ring-produced-img':'ring-postpone-img'}`}>\n                                                        \n                                                    </span>\n                                                    <p>{!item.status?'已到达：':'未到达：'}{item.name}</p>\n                                                    <span>{item.number}</span>\n                                                </div>:null\n                                            })\n                                        )\n                                    }\n                                </div>\n                            ))\n                        }\n                    </Drawer>\n                </Row>\n            </Spin>\n            </>\n        );\n    }\n}\n \nexport default ThreeView;","import React, { PureComponent } from 'react';\nimport {connect} from \"react-redux\";\nimport {Button, Col, Form, Input, message, Modal, Row, Select, Table,Icon,TreeSelect,Tree} from 'antd';\nimport {BimModel} from \"./style\";\n\nimport NoBimPage from './noBimPage';\nimport ThreedView from './threeView';\nimport './bim-model.css';\nimport * as type from \"../../../axios/index\";\nconst { TreeNode } = TreeSelect;\nlet motorToken = '';\nclass bimModel extends PureComponent {\n    state = {  \n        bimVisible:false,\n        treeValue:undefined,\n        init3dView:false,\n        siteSwitchVisible:false,\n        checkedKeys:[],\n        selectedKeys: [],\n        siteList:[],\n        bimTreeData:[],//BIM模型树结构数据\n        selectBimProject:'',//选中当前工程\n        selectBimInfo:{\n            projectId:'',\n            motor3dId:'',\n           /*  projectId:'ac7ee924-bd9b-4628-9436-de90a083dabc',\n            appid:\"d0b3c61c6639434e84900b1fd8d391cb\",\n            secret:\"459dc8b77a63a0c009aec27f818febf6\", */\n        },\n        currentTreeNode:{},\n    }\n\n    //获梁场所属取项目部\n    getDeptInfo = () => {\n        type.getDeptInfo().then((data) => {\n            if(data.data.code === 1 && data.data.data.hasOwnProperty('deptId')) {\n                data.data.data['id'] = data.data.data.deptId;\n                data.data.data['pId'] = 0;\n                data.data.data['value'] = data.data.data.deptId;\n                data.data.data['title'] =  (<span><span className='icon-dept'></span>{data.data.data.deptName}</span>);\n                data.data.data['disabled'] = true;\n                data.data.data['key'] = data.data.data.deptId;\n                this.getListDeptNode(data.data.data);\n            }\n        })\n    }\n    //获取项目部节点信息\n    getListDeptNode = (parent) => {\n        type.getListDeptNode().then((data) => {\n            if(data.data.code === 1 && data.data.data.hasOwnProperty('projectList')) {\n                let directlyPpidList = [];\n                let noDirectlyPpidList = [];\n\n                Object.keys(data.data.data).map((keys) => (\n                    data.data.data[keys].map((val,key) => {\n                        if(val.parentId){\n                            val.id = val.nodeId;\n                            val.pId = val.parentId;\n                            val['disabled'] = true;\n                            val.value = val.nodeId;\n                            val.key = val.nodeId;\n                            if (val.nodeType === 1) {\n                                val.title = (<span ><span className='icon-biao'></span>{val.nodeName}</span>);\n                            } else if (val.nodeType === 2) {\n                                val.title = (<span ><span className='icon-xiang'></span>{val.nodeName}</span>);\n                            } else if (val.nodeType === 3) {\n                                val.title = (<span ><span className='icon-dan'></span>{val.nodeName}</span>);\n                            }\n                        }else{\n                            val.id = val.ppid;\n                            val.pId = val.nodeId;\n                            val.value = val.ppid;\n                            val.key = val.ppid;\n                            if (val.projTypeStr === '土建预算') {\n                                val.title = (<span ><span className='icon-project icon-tujian'></span>{val.projectName}</span>);\n                            }else if (val.projTypeStr === '钢筋预算') {\n                                val.title = (<span ><span className='icon-project icon-gangjin'></span>{val.projectName}</span>);\n                            } else if (val.projTypeStr === '造价工程') {\n                                val.title = (<span ><span className='icon-project icon-zaojia'></span>{val.projectName}</span>);\n                            } else if (val.projTypeStr === '安装预算') {\n                                val.title = (<span ><span className='icon-project icon-anzhuang'></span>{val.projectName}</span>);\n                            } else if (val.projTypeStr === '场布预算') {\n                                val.title = (<span ><span className='icon-project icon-changbu'></span>{val.projectName}</span>);\n                            } else if (val.projTypeStr === 'Tekla') {\n                                val.title = (<span ><span className='icon-project icon-tekla'></span>{val.projectName}</span>);\n                            } else if (val.projTypeStr === 'Revit') {\n                                val.title = (<span ><span className='icon-project icon-revit'></span>{val.projectName}</span>);\n                            } else if (val.projTypeStr === '班筑家装') {\n                                val.title = (<span ><span className='icon-project icon-banzhu'></span>{val.projectName}</span>);\n                            } else if (val.projTypeStr === 'Civil3D') {\n                                val.title = (<span ><span className='icon-project icon-civil3D'></span>{val.projectName}</span>);\n                            } else if (val.projTypeStr === 'Bentley') {\n                                val.title = (<span ><span className='icon-project icon-bentley'></span>{val.projectName}</span>);\n                            } else if (val.projTypeStr === 'Rhino') {\n                                val.title = (<span ><span className='icon-project icon-rhino'></span>{val.projectName}</span>);\n                            } else if (val.projTypeStr === 'IFC') {\n                                val.title = (<span ><span className='icon-project icon-ifc'></span>{val.projectName}</span>);\n                            }\n\n                            if(val.nodeType === 0 || val.nodeType === null) {\n                                directlyPpidList.push(val)\n                            } else {\n                                noDirectlyPpidList.push(val);\n                            }\n                        }\n                    })\n                ))\n\n                let obj = data.data.data.deptUnitList.concat(directlyPpidList).concat(noDirectlyPpidList).concat([parent]);\n                this.setState({bimTreeData:obj});\n            }\n        })\n    }\n    treeNodeFilter = (inputValue,treeNode) =>{\n        console.log(inputValue,treeNode)\n        if(treeNode.props.hasOwnProperty(\"projectName\")) {\n            if(treeNode.props.projectName.indexOf(inputValue) != -1){\n                return true;\n            }\n        } else if(treeNode.props.hasOwnProperty(\"nodeName\")){\n            if(treeNode.props.nodeName.indexOf(inputValue) != -1){\n                return true;\n            }\n        }\n        return false;\n    }\n    //修改梁场关联的临建BIM模型[梁场V1.1]\n    putBeatBim = (params) => {\n        return new Promise(function(reslove,reject){\n            type.putBeatBim(params).then((data)=>{\n                if(data.data.code === 1) {\n                    reslove(data.data);\n                }\n            })\n        })\n    }\n    //获取token\n    getMotorToken = () => {\n        type.getMotorToken().then((data)=>{\n            if(data.data.code == 1) {\n                motorToken = data.data.data.token\n            }\n        })\n    }\n    // 显示BIM模型弹窗\n    switchModels = ()=> {\n        this.getDeptInfo();\n        this.setState({bimSwitchVisible:true})\n    }\n    \n    //bim模型下拉选择树改变\n    onHandelChange = (value, label, extra)=> {\n        if (value === undefined) {\n            this.setState({treeValue:undefined});\n        } else {\n            if (extra.triggerNode.props.hasOwnProperty('ppid')){\n                this.putBeatBim({ppid:value}).then((data)=>{\n                    if(data.code === 1 && data.data.result) {\n                        this.setState({selectBimProject:value,currentTreeNode:extra.triggerNode.props,treeValue:value,selectBimInfo:{projectId:extra.triggerNode.props.projectId,motor3dId:extra.triggerNode.props.motor3dId}});\n                        // this.setState({selectBimProject:value,currentTreeNode:extra.triggerNode.props,treeValue:value});\n                    } else {\n                        message.error(data.msg);\n                    }\n                })\n            }\n        }\n    }\n    //切换模型ok\n    handleBimSwitchOk = ()=> {\n        if(this.state.treeValue === undefined || this.state.selectBimInfo.motor3dId === null) {\n            if ( this.state.selectBimInfo.motor3dId === null) {\n                message.error('工程没有绑定模型！');\n\n            }\n            return false;\n        }\n        this.setState({\n            bimSwitchVisible: false,\n            init3dView:true,\n            treeValue:undefined\n        });\n    }\n    //取消模型切换\n    handleBimSwitchCancel = ()=> {\n        this.setState({\n            bimSwitchVisible: false,\n            treeValue:undefined\n        });\n    }\n    //梁场BIM模型弹框展示\n    switchSiteModal = ()=>{\n        this.setState({siteSwitchVisible:true});\n    }\n    onExpand = expandedKeys => {\n        console.log('onExpand', expandedKeys);\n        // if not set autoExpandParent to false, if children expanded, parent can not collapse.\n        // or, you can remove all expanded children keys.\n        this.setState({\n          expandedKeys,\n          autoExpandParent: false,\n        });\n      };\n    \n      onCheck = (checkedKeys,treeNode) => {\n        // console.log('onCheck', checkedKeys);\n        this.siteList = treeNode.checkedNodes;\n        this.setState({ checkedKeys });\n      };\n    \n      onSelect = (selectedKeys, info) => {\n        this.setState({ selectedKeys });\n      };\n    \n      renderTreeNodes = data =>\n        data.map(item => {\n          if (item.children) {\n            return (\n              <TreeNode value= {item.title} title={item.title} key={item.key} dataRef={item}>\n                {this.renderTreeNodes(item.children)}\n              </TreeNode>\n            );\n          }\n          return <TreeNode key={item.key} {...item} />;\n        });\n        \n    //切换梁场模型ok\n    handleSiteSwitchOk = ()=> {\n        let siteList = this.siteList;\n        this.setState({\n            siteList: this.siteList,\n            siteSwitchVisible: false,\n        },()=>{\n            //console.log(this.state.siteList)\n        });\n        \n    }\n    renderSiteItem = data=> \n        data.map((item,key) => {\n            return <p key={key}>{item.props.title}<span className='icon-delete' onClick={()=>this.removeSiteItem(item,key)}></span></p>\n        })\n     \n    removeSiteItem = (item,key)=>{\n        const {siteList}  = this.state;\n        let siteListCopy = _.cloneDeep(siteList);\n        siteListCopy.splice(key,1);\n        this.setState({\n            siteList:siteListCopy\n        })\n    }\n    //取消梁场模型切换\n    handleSiteSwitchCancel = ()=> {\n        this.setState({\n            siteSwitchVisible: false,\n        });\n    }\n    //模型渲染完成\n    componentDidMount(){\n        // var obj = new Runoob.Calc();\n        this.getMotorToken();\n    }\n    render() { \n        const formItemLayout = {\n            labelCol: {\n              xs: { span: 24 },\n              sm: { span: 5 },\n            },\n            wrapperCol: {\n              xs: { span: 24 },\n              sm: { span: 19 },\n            },\n        };\n        return (  \n                <BimModel >\n                    {\n                        !this.state.init3dView ?(\n                            <Row className='bim-model'>\n                                <NoBimPage title=\"暂无BIM模型，请选择梁场需关联的\" switchModels={this.switchModels} />\n                            </Row>\n                        ):<ThreedView bimProject = {this.state.selectBimProject} selectBimInfo = {this.state.selectBimInfo} treeNode = {this.state.currentTreeNode} token = {motorToken}></ThreedView>\n                    }\n                    \n                    <Modal className='select-modal'\n                        title=\"BiM模型\"\n                        maskClosable ={false}\n                        visible={this.state.bimSwitchVisible}\n                        onOk={this.handleBimSwitchOk}\n                        onCancel={this.handleBimSwitchCancel}\n                    >\n                        <Form {...formItemLayout} onSubmit={this.handleBimSwitchOk}>\n                            <Form.Item label=\"梁场BIM模型\" className='form-item'>\n                                <TreeSelect\n                                    treeDataSimpleMode\n                                    showSearch\n                                    style={{ width: '100%' }}\n                                    value={this.state.treeValue}\n                                    dropdownStyle={{ maxHeight: 400, overflow: 'auto' }}\n                                    placeholder=\"关联模型\"\n                                    allowClear\n                                    treeDefaultExpandAll\n                                    filterTreeNode={this.treeNodeFilter}\n                                    dropdownClassName = 'bim-tree'\n                                    treeData={this.state.bimTreeData}\n                                    onChange={this.onHandelChange}\n                                > \n\n                                {/*  treeData={this.state.bimTreeData}\n                                    \n                                    {this.renderTreeNodes(this.state.bimTreeData)}*/}\n                                </TreeSelect>\n                            </Form.Item>\n                            <Form.Item label=\"桥梁BIM模型\" className='form-item'>\n                                <Button className='bim-btn-default' disabled onClick={this.switchSiteModal}>选择模型</Button>\n                            </Form.Item>\n                            <Form.Item >\n                                {\n                                    this.state.siteList.length>0?\n                                    (\n                                    <div className='site-item'>\n                                        {this.renderSiteItem(this.state.siteList)}\n                                    </div>):''\n                                }\n                            </Form.Item>\n                        </Form>\n                    </Modal>\n                    <Modal className='site-modal'\n                        title=\"选择模型\"\n                        visible={this.state.siteSwitchVisible}\n                        onOk={this.handleSiteSwitchOk}\n                        onCancel={this.handleSiteSwitchCancel}\n                    >\n                     <Tree\n                        checkable\n                        onExpand={this.onExpand}\n                        onCheck={this.onCheck}\n                        checkedKeys={this.state.checkedKeys}\n                        onSelect={this.onSelect}\n                        selectedKeys={this.state.selectedKeys}\n                        defaultExpandAll = {true}\n                    >\n                        {this.renderTreeNodes(this.state.bimTreeData)}\n                    </Tree>\n                    </Modal>\n                </BimModel>\n            );\n    }\n}\n \nexport default bimModel;"],"sourceRoot":""}