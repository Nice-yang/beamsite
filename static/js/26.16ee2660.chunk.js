(this.webpackJsonpbeamfield=this.webpackJsonpbeamfield||[]).push([[26],{1584:function(e,t,a){"use strict";a.r(t);a(813);var n=a(815),l=(a(990),a(1005)),o=(a(1544),a(1570)),r=(a(986),a(989)),c=(a(192),a(101)),i=a(81),s=a(82),u=a(84),d=a(83),m=(a(826),a(835)),h=(a(382),a(103)),p=(a(383),a(194)),g=a(0),f=a.n(g),v=a(1546),b=(a(1566),a(75)),y=a(76),E=a(66),C=a.n(E);function x(){var e=Object(b.a)(["\n    \n    .ant-card-head-wrapper {\n        height: 60px;\n        .ant-card-head-title {\n            font-size: 14px;\n            font-weight: 700;\n        }\n    }\n    .ant-card-head,.ant-card-body {\n        padding: 0;\n    }\n    .ant-card-head {\n        border-bottom: 0 none;\n    }\n    .ant-list-item{\n        padding: 10px 10px 0 10px !important;\n        background-color: #f2f3f4;\n        .ant-card-body {\n            //height: 40px;\n            line-height: 40px;\n            background-color: #f2f3f4;\n            padding-top: 15px;\n            .ant-row {\n            max-height: 500px;\n            overflow-y: auto;\n        }\n        }\n        .ant-card-meta-avatar {\n            float: right;\n            padding-right: 0;\n        }\n        \n        .ant-card-meta-title {\n            font-size: 14px;\n        }\n        .collect {\n            width: 25px;\n            height: 25px;\n            display: inline-block;\n            vertical-align: middle;\n            cursor: pointer;\n            &.true{\n              background: url(",") no-repeat -205px -2px;\n            }\n            &.false{\n              background: url(",") no-repeat -170px -3px;\n            }\n        }\n    }\n    \n"]);return x=function(){return e},e}var k=y.a.div(x(),C.a,C.a),O=a(64),P=a(1567),w=a.n(P),S=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e,n){var l;return Object(i.a)(this,a),(l=t.call(this,e,n)).hls=new w.a,l}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.src,a=e.video;w.a.isSupported()&&(this.hls.loadSource(t),this.hls.attachMedia(a),this.hls.on(w.a.Events.MANIFEST_PARSED,(function(){a.play()})))}},{key:"componentWillUnmount",value:function(){this.hls&&this.hls.destroy()}},{key:"render",value:function(){return f.a.createElement("source",{src:this.props.src,type:this.props.type||"application/x-mpegURL"})}}]),a}(g.Component),j=p.a.Option,z=h.a.Item,U=m.a.Meta,F=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(e=t.call.apply(t,[this].concat(l))).state={loading:!1,bordered:!1,monitorList:[],visible:!1,page:1,size:12,totalPage:1,totalCount:0,focus:!1,streamUrl:""},e.collect=function(t,a){t.target.setAttribute("class","collect"),t.target.setAttribute("class","collect ".concat(!a.focus)),console.log(a.focus);var n=a.focus?0:1;Object(O.n)(a.cameraKey,n).then((function(t){e.getCameraFocus()}))},e.handleCancel=function(t){console.log(t),e.setState({visible:!1})},e.handleChange=function(t){e.setState({focus:t},(function(){e.getCameraFocus()}))},e.changePage=function(t,a){e.setState({page:t,size:a},(function(){e.getCameraFocus()}))},e}return Object(s.a)(a,[{key:"playerPlay",value:function(e){var t=e.streamUrl;this.setState({visible:!0,streamUrl:t}),console.log(t)}},{key:"render",value:function(){var e=this,t=this.state,a=t.bordered,i=t.monitorList,s=t.visible,u=t.page,d=t.streamUrl,g=t.size,b=t.totalPage,y=t.totalCount,E=t.loading,C=function(t){return f.a.createElement(c.a,{onClick:function(){e.playerPlay(t)}},"\u5c0f\u7a97\u53e3\u64ad\u653e")};return f.a.createElement(k,null,f.a.createElement(m.a,{title:"\u76d1\u63a7\u603b\u6570\uff1a"+y+"\u4e2a",bordered:a,loading:E,extra:f.a.createElement(h.a,{layout:"inline",style:{float:"right",marginTop:"-7px"}},f.a.createElement(z,{label:"\u7b5b\u9009"},f.a.createElement(p.a,{onChange:this.handleChange,className:"selectTime",defaultValue:"\u5168\u90e8\u76d1\u63a7"},f.a.createElement(j,{value:"false"},"\u5168\u90e8\u76d1\u63a7"),f.a.createElement(j,{value:"true"},"\u5173\u6ce8\u76d1\u63a7"))))},f.a.createElement(o.a,{grid:{gutter:16,column:4},dataSource:i,renderItem:function(t,n){return f.a.createElement(o.a.Item,null,f.a.createElement(m.a,{bordered:a,cover:f.a.createElement(r.a,{content:C(t),trigger:"hover",placement:"topRight"},f.a.createElement("div",{style:{minWidth:200}},t.streamUrl?f.a.createElement(v.Player,null,f.a.createElement(S,{isVideoChild:!0,src:t.streamUrl}),f.a.createElement(v.ControlBar,{disableCompletely:!0,disableDefaultControls:!0})):f.a.createElement(v.Player,null)))},f.a.createElement(U,{title:t.controlName,avatar:f.a.createElement("i",{className:"collect ".concat(t.focus),title:"\u6dfb\u52a0\u5173\u6ce8",onClick:function(a){return e.collect(a,t)}})})))}}),f.a.createElement(l.a,{current:u,pageSize:g,total:b,showQuickJumper:!0,onChange:this.changePage,showTotal:function(e){return"\u5171".concat(e,"\u6761")}})),f.a.createElement(n.a,{maskClosable:!1,visible:s,footer:null,destroyOnClose:!0,onCancel:this.handleCancel,width:800},f.a.createElement("div",{className:"player",style:{marginTop:10}},f.a.createElement(v.Player,null,f.a.createElement(S,{isVideoChild:!0,src:d||""}),f.a.createElement(v.ControlBar,{autoHide:!1},f.a.createElement(v.VolumeMenuButton,null))))))}},{key:"sizeChange",value:function(e,t){console.log(e,t)}},{key:"getCameraFocus",value:function(){var e=this;this.setState({loading:!0});var t=this.state,a={page:t.page,size:t.size,focus:t.focus};Object(O.o)(a).then((function(t){var a=t.data;e.setState({totalPage:a.totalPage,totalCount:a.totalCount,monitorList:a.items?a.items:[],loading:!1})}))}},{key:"componentDidMount",value:function(){this.getCameraFocus()}}]),a}(g.PureComponent);t.default=F}}]);
//# sourceMappingURL=26.16ee2660.chunk.js.map